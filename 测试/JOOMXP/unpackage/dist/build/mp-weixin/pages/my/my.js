(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/my"],{"2f8b":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},a=[]},7156:function(t,e,n){"use strict";(function(t){var o=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("2eee")),s=o(n("c973")),u=n("1173"),c=getApp(),i={data:function(){return{info:{},movableareaH:0,movableareatopH:0,x:0,y:0,user_order_list:[{name:"待付款",status:1,count:0,classstyle:"icon-daifukuan"},{name:"待发货",status:2,count:0,classstyle:"icon-daifahuo"},{name:"待收货",status:3,count:0,classstyle:"icon-daishouhuo"},{name:"已完成",status:4,count:0,classstyle:"icon-daishouhuo"},{name:"退款/售后",status:101,count:0,classstyle:"icon-tuihuo"}],user_fuw:[],nav_list:[{name:"订单总数",count:0},{name:"商品收藏",count:0},{name:"我的足迹",count:0},{name:"我的积分",count:0}]}},computed:{marginTop:function(){var e=t.getSystemInfoSync(),n=e.platform,o=e.statusBarHeight,a=o+4;return"android"==n.toLowerCase()&&(a+=4),a+"px"}},onLoad:function(){this.movesH(),this.x=t.getWindowInfo().windowWidth,this.y=t.getWindowInfo().screenHeight/2},onPullDownRefresh:function(){this.usercenters(),t.hideLoading()},onShow:function(){this.pd(),this.usercenters()},methods:{pd:function(){(0,u.getCache)("info")?this.info=(0,u.getCache)("info"):t.showModal({title:"温馨提示",content:"请先登录或注册",success:function(e){e.confirm?(t.navigateTo({url:"/pages/login/login"}),console.log("用户点击确定")):e.cancel&&t.reLaunch({url:"/pages/index/index"})}})},usercenters:function(){var e=this;return(0,s.default)(a.default.mark((function n(){var o;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$api.usercenter();case 2:o=n.sent,console.log(o),0==o.code?(e.nav_list[0]["count"]=0==(o.data.user_order_count||0)?0:o.data.user_order_count,e.nav_list[1]["count"]=0==(o.user_goods_favor_count||0)?0:o.data.user_goods_favor_count,e.nav_list[2]["count"]=0==(o.data.user_goods_browse_count||0)?0:o.data.user_goods_browse_count,e.nav_list[3]["count"]=0==(o.data.integral||0)?0:o.data.integral,o.data.user_order_status.forEach((function(t){e.user_order_list.forEach((function(e){t.status==e.status&&(e.count=t.count)}))})),0!==o.data.cart_total.buy_number?c.globalData.set_tab_bar_badge(String(o.data.cart_total.buy_number),2):c.globalData.removeTabBarBadges(2),e.user_fuw=o.data.navigation.filter((function(t){return!["1"].includes(t.id)})),e.user_fuw.splice(e.user_fuw.length,0,{images_url:"https://d1.shopxo.vip/static/app/yellow/common/cache-icon.png",name:"清除缓存",id:1213})):t.showToast({title:o.msg,duration:2e3,icon:"none"}),setTimeout((function(){t.stopPullDownRefresh()}),3e3);case 6:case"end":return n.stop()}}),n)})))()},myfwButton:function(e){console.log(JSON.parse(JSON.stringify(e))),1213==e.id&&t.showModal({title:"温馨提示",content:"确定要清除缓存，到时需要重新登录",success:function(e){e.confirm?((0,u.removeCache)("info"),(0,u.removeCache)("shop_number"),t.showToast({title:"清除缓存成功",duration:2e3}),c.globalData.removeTabBarBadges(2),setTimeout((function(){t.reLaunch({url:"/pages/index/index"})}),2e3),console.log("用户点击确定")):e.cancel}})},movesH:function(){var e=t.getMenuButtonBoundingClientRect();console.log(e),this.movableareaH=e.height+parseInt(this.marginTop.split("px")[0]),this.movableareatopH=e.height+parseInt(this.marginTop.split("px")[0])}}};e.default=i}).call(this,n("543d")["default"])},b1c0:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("ca73");o(n("66fd"));var a=o(n("c688"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},c500:function(t,e,n){"use strict";var o=n("d562"),a=n.n(o);a.a},c688:function(t,e,n){"use strict";n.r(e);var o=n("2f8b"),a=n("ef85");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("c500");var u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,"b96d216e",null,!1,o["a"],void 0);e["default"]=c.exports},d562:function(t,e,n){},ef85:function(t,e,n){"use strict";n.r(e);var o=n("7156"),a=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a}},[["b1c0","common/runtime","common/vendor"]]]);