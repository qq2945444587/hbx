(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"041c":function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("ca73");i(n("66fd"));var o=i(n("7610"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"0c51":function(e,t,n){},1246:function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("2eee")),a=i(n("c973")),s=n("1173");var r=(new Date).getTime(),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==e?t:3&t|8).toString(16)})),u=(0,s.getCache)("cache_user_uuid_key")||null;null==u&&(0,s.setCache)("cache_user_uuid_key",c);var l=(0,s.getCache)("info").token||"",f={data:function(){return{info:{accounts:"",pwd:"",verify:"",type:"username"},res_info:{accounts:"",pwd:"",verify:"",type:"username"},verify:"",login_ewm:"",reg_ewm:"",type:"login",buttonFont:"",reg_hq:"获取验证码",dl_hq:"获取验证码",yzm_close:!1,reg_ewm_bottom:"",contdown_time:60,clear_time:null,disableds:!1}},onLoad:function(){this.loginewms(),this.buttonFont="确认登录"},onShow:function(){e.setNavigationBarTitle({title:"账号密码登录"})},methods:{formSubmit:function(e){console.log("这个是登录的按钮",e);this.logins(e.detail.value),console.log("我通过了")},regformSubmit:function(e){console.log(e.detail.value);this.regs(e.detail.value)},type_Button:function(e){console.log(e),this.info={accounts:"",pwd:"",verify:"",type:""},this.res_info={accounts:"",pwd:"",verify:"",type:""},this.verify="",this.disableds=!1,this.reg_hq="获取验证码",this.dl_hq="获取验证码",clearInterval(this.clear_time),null!==e&&(this.info.type=e,this.res_info.type=e),"login"==this.type?this.loginewms():"reg"==this.type&&this.regewms()},yzm_number:function(){var t=this;return(0,a.default)(o.default.mark((function n(){var i,a,s,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={accounts:t.res_info.accounts,type:t.res_info.type,verify:t.verify},n.next=3,t.$api.regyzm(i);case 3:a=n.sent,0==a.code?(e.showToast({title:a.msg,duration:2e3,icon:"none"}),t.yzm_close=!1,t.disableds=!1,s=t,r=t.contdown_time,clearInterval(t.clear_time),t.clear_time=setInterval((function(){r<=1?(clearInterval(s.clear_time),s.reg_hq="获取验证码",s.disableds=!1):(r--,s.reg_hq="剩余"+r+"秒",s.disableds=!0)}),1e3)):e.showToast({title:a.msg,duration:2e3,icon:"none"});case 5:case"end":return n.stop()}}),n)})))()},yzm_login_number:function(){var t=this;return(0,a.default)(o.default.mark((function n(){var i,a,s,r;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={accounts:t.info.accounts,type:t.info.type,verify:t.verify},n.next=3,t.$api.regyzm_login(i);case 3:a=n.sent,0==a.code?(e.showToast({title:a.msg,duration:2e3,icon:"none"}),t.yzm_close=!1,t.disableds=!1,s=t,r=t.contdown_time,clearInterval(t.clear_time),t.clear_time=setInterval((function(){r<=1?(clearInterval(s.clear_time),s.dl_hq="获取验证码",s.disableds=!1):(r--,s.dl_hq="剩余"+r+"秒",s.disableds=!0)}),1e3)):e.showToast({title:a.msg,duration:2e3,icon:"none"});case 5:case"end":return n.stop()}}),n)})))()},toYzm:function(){"login"==this.type?this.yzm_login_number():this.yzm_number()},regewm_bottom:function(t){if("login"===this.type||"sms"!=this.res_info.type||""!=this.res_info.accounts)if("login"!=this.type||"sms"!=this.info.type||""!=this.info.accounts)if("login"===this.type||"email"!=this.res_info.type||""!=this.res_info.accounts)if("login"!=this.type||"email"!=this.info.type||""!=this.info.accounts){1!==t&&(this.yzm_close=!this.yzm_close);var n=parseInt((new Date).getTime()/1e3);console.log("触发了",u),"login"!==this.type?this.reg_ewm_bottom="https://d1.shopxo.vip/api.php?s=user/userverifyentry&system_type=default&application=app&application_client_type=weixin&token="+l+"&uuid="+u+"&ajax=ajax&type=user_reg&t="+n:this.reg_ewm_bottom="https://d1.shopxo.vip/api.php?s=user/userverifyentry&system_type=default&application=app&application_client_type=weixin&token="+l+"&uuid="+u+"&ajax=ajax&type=user_login&t="+n,console.log(this.reg_ewm_bottom)}else e.showToast({title:"电子邮箱不能为空",duration:2e3,icon:"none"});else e.showToast({title:"电子邮箱不能为空",duration:2e3,icon:"none"});else e.showToast({title:"手机号不能为空",duration:2e3,icon:"none"});else e.showToast({title:"手机号不能为空",duration:2e3,icon:"none"})},loginewms:function(){var e=parseInt((new Date).getTime()/1e3);console.log("触发了"),this.login_ewm="https://d1.shopxo.vip/api.php?s=user/userverifyentry&system_type=default&application=app&application_client_type=weixin&token="+l+"&uuid="+u+"&ajax=ajax&type=user_login&t="+e},regewms:function(){var e=parseInt((new Date).getTime()/1e3);this.reg_ewm="https://d1.shopxo.vip/api.php?s=user/userverifyentry&system_type=default&application=app&application_client_type=weixin&token="+l+"&uuid="+u+"&ajax=ajax&type=user_reg&t="+e},image_verify:function(e){"login"==e?this.loginewms():this.regewms()},zcDLButton:function(){this.type="login"==this.type?"reg":"login",this.buttonFont="reg"==this.type?"确认注册":"确认登录",console.log(this.type),this.image_verify(this.type)},accInpt:function(e){this.info.accounts=e.detail.value},pwdInpt:function(e){this.info.pwd=e.detail.value},yzmInpt:function(e){this.info.verify=e.detail.value},regaccInpt:function(e){this.res_info.accounts=e.detail.value},regpwdInpt:function(e){this.res_info.pwd=e.detail.value},regyzmInpt:function(e){this.res_info.verify=e.detail.value},regyzm_ver:function(e){this.verify=e.detail.value},cancel:function(){var t=this;e.showModal({title:"温馨提示",content:"确定要注销账号吗?注销后不能还原",success:function(e){e.confirm?(t.logouts(),console.log("用户点击确定")):e.cancel}})},logins:function(t){var n=this;return(0,a.default)(o.default.mark((function i(){var a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.type=n.res_info.type,i.next=3,n.$api.login(t);case 3:a=i.sent,0==a.code?((0,s.setCache)("info",a.data),e.showToast({title:"登录成功",duration:2e3,icon:"none"}),setTimeout((function(){var t=getCurrentPages();t&&t.length>1?e.navigateBack():history.back()}),2e3)):e.showToast({title:a.msg,duration:2e3,icon:"none"});case 5:case"end":return i.stop()}}),i)})))()},regs:function(t){var n=this;return(0,a.default)(o.default.mark((function i(){var a;return o.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return console.log(t),t.type=n.res_info.type,t.referrer=0,i.next=5,n.$api.reg(t);case 5:a=i.sent,0==a.code?((0,s.setCache)("info",a.data),e.showToast({title:a.msg,duration:2e3,icon:"none"}),setTimeout((function(){var t=getCurrentPages();t&&t.length>1?e.navigateBack():history.back()}),2e3)):e.showToast({title:a.msg,duration:2e3,icon:"none"});case 7:case"end":return i.stop()}}),i)})))()},blackTo:function(){e.navigateBack()},logouts:function(){var t=this;return(0,a.default)(o.default.mark((function n(){var i;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.logout();case 2:i=n.sent,console.log(i),0==i.code&&((0,s.removeCache)("info"),e.showToast({title:"账户注销成功",duration:2e3,icon:"none"}),setTimeout((function(){e.reLaunch({url:"/pages/index/index"})}),2e3));case 5:case"end":return n.stop()}}),n)})))()}}};t.default=f}).call(this,n("543d")["default"])},4138:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.yzm_close=!1})},o=[]},7610:function(e,t,n){"use strict";n.r(t);var i=n("4138"),o=n("90fc");for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("e5f9");var s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"b622251e",null,!1,i["a"],void 0);t["default"]=r.exports},"90fc":function(e,t,n){"use strict";n.r(t);var i=n("1246"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},e5f9:function(e,t,n){"use strict";var i=n("0c51"),o=n.n(i);o.a}},[["041c","common/runtime","common/vendor"]]]);