(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods-detail/goods-detail"],{"407d":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("ca73");o(n("66fd"));var i=o(n("f5ac"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"5a77":function(e,t,n){},"5eb1":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var o={uniRate:function(){return n.e("uni_modules/uni-rate/components/uni-rate/uni-rate").then(n.bind(null,"ed3f"))},mpHtml:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/mp-html/components/mp-html/mp-html")]).then(n.bind(null,"91a7"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,null!==e.goods?e.goods.goods.specifications.choose.length:null),o=null!==e.goods?e.goods.goods.plugins_view_icon_data.length:null,i=null!==e.goods?e.goods.goods.plugins_view_panel_data.length:null,s=null!==e.goods?e.goods.plugins_realstore_data.length:null,a=null!==e.goods?e.__map(e.goods.goods.comments_data,(function(t,n){var o=e.__get_orig(t),i=t.images.length;return{$orig:o,g4:i}})):null,c=null!==e.goods?e.goods.goods.parameters.detail.length:null;e._isMounted||(e.e0=function(t){e.puyvideoShow=!e.puyvideoShow},e.e1=function(t){e.puyvideoShow=!e.puyvideoShow}),e.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i,g3:s,l0:a,g5:c}})},s=[]},a37d:function(e,t,n){"use strict";n.r(t);var o=n("e768"),i=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(s);t["default"]=i.a},e768:function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("2eee")),s=o(n("c973")),a=n("1173"),c=(getApp(),{data:function(){return{goods_id:void 0,H_jn:0,goods:null,puyvideoShow:!1,opacitys:0,n:0,titleList:[{name:"商品",selector:".swiper_bg"},{name:"评价",selector:".pj"},{name:"详情",selector:".detailLi"}],goodclos:!1,topsH:0,topsHs:0,sizes:"",types:"",shadeShow:!1,zztype:"",pluginstimer:null,plugins_salerecords_data:null}},components:{indexNewshop:function(){n.e("components/index-newshop/index-newshop").then(function(){return resolve(n("1b50"))}.bind(null,n)).catch(n.oe)},popClassify:function(){Promise.all([n.e("common/vendor"),n.e("components/pop-classify/pop-classify")]).then(function(){return resolve(n("6bd6"))}.bind(null,n)).catch(n.oe)},shadeCon:function(){n.e("components/shade-con/shade-con").then(function(){return resolve(n("2a11"))}.bind(null,n)).catch(n.oe)}},computed:{tops:function(){var t=0;return e.getSystemInfo({success:function(e){console.log(e),t=e.safeAreaInsets.top+14}}),t+"px"},marginTop:function(){var t=e.getSystemInfoSync(),n=t.platform,o=t.statusBarHeight,i=o+4;return"android"==n.toLowerCase()&&(i+=4),console.log(i),i+"px"}},onLoad:function(e){this.inptW(),this.goods_id=e.goods_id||e.id,this.details(this.goods_id)},onPullDownRefresh:function(){e.hideLoading(),this.details(this.goods_id)},onShow:function(){},onPageScroll:function(e){0==e.scrollTop?this.opacitys=0:e.scrollTop>20&&e.scrollTop<100?this.opacitys=.4:e.scrollTop>100&&e.scrollTop<200?this.opacitys=.8:e.scrollTop>200&&(this.opacitys=1)},onHide:function(){(0,a.removeCache)("specifications")},onUnload:function(){(0,a.removeCache)("specifications"),clearInterval(this.pluginstimer)},methods:{plugins_tips:function(){clearInterval(this.pluginstimer);var e=this.goods.plugins_salerecords_data.data,t=0,n=e.length,o=this,i=setInterval((function(){o.plugins_salerecords_data=e[t],setTimeout((function(){o.plugins_salerecords_data=null}),5e3),t++,t>=n&&(t=0)}),1e4);this.pluginstimer=i},shadeem:function(e,t){this.shadeShow=e,t&&(this.zztype=t)},backto:function(){var t=getCurrentPages();t&&t.length>1?e.navigateBack():history.back()},moveHandle:function(e){},tc:function(e){this.sizes=e.join("/")},buyorg:function(t){"cart"==this.types?(this.cartSaves(t),this.goodclos=!1):e.navigateTo({url:"/pages/buy/buy?data="+encodeURIComponent(JSON.stringify(t))})},chgoup:function(e,t){var n=this;(0,a.getCache)("specifications")&&(this.goods.goods.specifications.choose=(0,a.getCache)("specifications"));var o=[];this.goods.goods.specifications.choose.forEach((function(e){e.value.forEach((function(e){e.is_active&&o.push(e.name)}))})),this.sizes=o.join("/"),this.goods.goods.specifications.choose.forEach((function(e,t){e.value.forEach((function(o,i){-1==e.value.findIndex((function(e){return"is_active"==e.is_active}))&&(0==t?(n.$set(o,"is_active",""),n.$set(o,"is_dont",""),n.$set(o,"is_disabled","")):(n.$set(o,"is_active",""),n.$set(o,"is_dont","is_dont"),n.$set(o,"is_disabled","")))}))})),void 0!==t&&(this.types=t),this.goodclos=e},toCart:function(){e.navigateTo({url:"/pages/cart-page/cart-page"})},tabqih:function(t,n){var o=this;this.n=n,this.$nextTick((function(){e.createSelectorQuery().select(t.selector).boundingClientRect((function(t){e.createSelectorQuery().select(".content").boundingClientRect((function(n){e.pageScrollTo({duration:0,scrollTop:t.top-n.top-parseInt(o.marginTop.split("px")[0])-10})})).exec()})).exec()}))},pjButon:function(t,n){e.previewImage({urls:t,current:n,indicator:"number"})},call_phone:function(t){e.makePhoneCall({phoneNumber:t})},inptW:function(){e.getSystemInfo({success:function(e){e.safeAreaInsets.top}});e.getMenuButtonBoundingClientRect();this.H_jn=parseInt(this.marginTop.split("px")[0])},shop_detail:function(){},cartSaves:function(e){var t=this;return(0,s.default)(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$api.cartSave(e);case 2:o=n.sent,0==o.code&&t.details(t.goods_id);case 4:case"end":return n.stop()}}),n)})))()},favorB:function(){var t=this;return(0,s.default)(i.default.mark((function n(){var o,s;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if((0,a.getCache)("info")){n.next=3;break}return e.showModal({title:"温馨提示",content:"请先登录或注册",success:function(t){t.confirm?(e.navigateTo({url:"/pages/login/login"}),console.log("用户点击确定")):t.cancel}}),n.abrupt("return");case 3:return o={id:t.goods_id},n.next=6,t.$api.favor(o);case 6:s=n.sent,0==s.code&&(t.details(t.goods_id),e.showToast({title:s.msg,duration:2e3}));case 8:case"end":return n.stop()}}),n)})))()},details:function(t){var n=this;return(0,s.default)(i.default.mark((function o(){var s,a;return i.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return s={goods_id:t},o.next=3,n.$api.detail(s);case 3:a=o.sent,n.goods=a.data,n.goods.goods.specifications.choose.forEach((function(e){e.value.forEach((function(t){t.type=e.name}))})),n.plugins_tips(),e.stopPullDownRefresh();case 8:case"end":return o.stop()}}),o)})))()}}});t.default=c}).call(this,n("543d")["default"])},f53f:function(e,t,n){"use strict";var o=n("5a77"),i=n.n(o);i.a},f5ac:function(e,t,n){"use strict";n.r(t);var o=n("5eb1"),i=n("a37d");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("f53f");var a=n("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"1303d1c6",null,!1,o["a"],void 0);t["default"]=c.exports}},[["407d","common/runtime","common/vendor"]]]);