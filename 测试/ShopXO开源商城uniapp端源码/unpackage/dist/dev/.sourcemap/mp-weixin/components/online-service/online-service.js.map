{"version":3,"sources":["webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?9369","webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?e350","webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?e89b","webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?a9ff","webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?289f","uni-app:///components/online-service/online-service.vue","webpack:///E:/测试/ShopXO开源商城uniapp端源码/components/online-service/online-service.vue?f468"],"names":["data","common_static_url","is_chat","chat_url","common_app_customer_service_tel","online_service_status","is_online_service_fixed","mini_alipay_tnt_inst_id","mini_alipay_scene","mini_alipay_openid","system","x","y","top","height_dec","is_first","common_ent","components","props","propIsGoods","type","default","propIsBar","propIsNav","propCard","propTitle","propImg","propPath","propIsGrayscale","propIsChat","propChatUrl","watch","created","app","methods","init_config","call_event","chat_event"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACyK;AACzK,gBAAgB,kLAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,ipBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC6DhpB;AACA;AAAA,eACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;IACAO;MACAR;MACAC;IACA;IACAQ;MACAT;MACAC;IACA;IACAS;MACAV;MACAC;IACA;EACA;EACA;EACAU;IACA;IACAH;MACA;IACA;EACA;EACA;EACAI;IACA;;IAEA;IACA;MACAC;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;MACAlB;MACAL;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MAKA;MACAZ;MACAC;IACA;EACA;EACA+B;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;UACA;YACAjC;YACAC;YACAC;YACAC;UACA;QACA;UAEA;YACAD;YACAC;UACA;QAsBA;MACA;QACA4B;MACA;IACA;IAEA;IACAG;MACA;QACAH;MACA;QACAA;MACA;IACA;IAEA;IACAI;MACA;MACAJ;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;ACtOA;AAAA;AAAA;AAAA;AAAs5B,CAAgB,g5BAAG,EAAC,C","file":"components/online-service/online-service.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678688327756\n      var cssReload = require(\"D:/HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./online-service.vue?vue&type=template&id=585b09e4&\"\nvar renderjs\nimport script from \"./online-service.vue?vue&type=script&lang=js&\"\nexport * from \"./online-service.vue?vue&type=script&lang=js&\"\nimport style0 from \"./online-service.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/online-service/online-service.vue\"\nexport default component.exports","export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./online-service.vue?vue&type=template&id=585b09e4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./online-service.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./online-service.vue?vue&type=script&lang=js&\"","<template>\n    <block v-if=\"online_service_status == 1\">\n        <!-- 是否商品页样式 -->\n        <view v-if=\"propIsGoods == true\" class=\"goods-chat-container item fl cp\">\n            <block v-if=\"is_chat == 1\">\n                <view @tap=\"chat_event\">\n                    <image class=\"icon\" :src=\"common_static_url+'chat-icon.png'\" mode=\"scaleToFill\"></image>\n                    <text class=\"text dis-block text-size-xs cr-gray\">客服</text>\n                </view>\n            </block>\n            <block v-else>\n                <!-- #ifdef MP-WEIXIN || MP-TOUTIAO || MP-BAIDU || MP-KUAISHOU -->\n                <button open-type=\"contact\" :show-message-card=\"propCard\" :send-message-title=\"propTitle\" :send-message-path=\"propPath\" :send-message-img=\"propImg\">\n                    <image class=\"icon\" :src=\"common_static_url+'chat-icon.png'\" mode=\"scaleToFill\"></image>\n                <!-- #endif -->\n                <!-- #ifdef MP-ALIPAY -->\n                <button open-type=\"contact\" class=\"alipay-contact\">\n                    <contact-button :tnt-inst-id=\"mini_alipay_tnt_inst_id\" :scene=\"mini_alipay_scene\" :alipay-card-no=\"mini_alipay_openid || ''\" :icon=\"common_static_url+'chat-icon.png'\" size=\"40rpx*40rpx\" />\n                <!-- #endif -->\n                <!-- #ifdef H5 || APP -->\n                <button type=\"default\" @tap=\"call_event\">\n                    <image class=\"icon\" :src=\"common_static_url+'chat-icon.png'\" mode=\"scaleToFill\"></image>\n                <!-- #endif -->\n                    <text class=\"text dis-block text-size-xs cr-gray\">客服</text>\n                </button>\n            </block>\n        </view>\n        <!-- 默认浮动展示-可拖拽位置 -->\n        <view v-else>\n            <block v-if=\"is_online_service_fixed == 1\">\n                <movable-area class=\"online-service-movable-container\" :style=\"'height: calc(100% - '+height_dec+'rpx);top:'+top+'rpx;'\">\n                    <movable-view direction=\"all\" :x=\"x\" :y=\"y\" :animation=\"false\" class=\"online-service-event-submit\">\n                        <block v-if=\"is_chat == 1\">\n                            <button type=\"default\" :class=\"common_ent\" @tap=\"chat_event\">\n                                <image class=\"icon dis-block\" :src=\"common_static_url+'online-service-icon.png'\"></image>\n                            </button>\n                        </block>\n                        <block v-else>\n                            <!-- #ifdef MP-WEIXIN || MP-TOUTIAO || MP-BAIDU -->\n                            <button open-type=\"contact\" :class=\"common_ent\" :show-message-card=\"propCard\" :send-message-title=\"propTitle\" :send-message-path=\"propPath\" :send-message-img=\"propImg\">\n                                <image class=\"icon dis-block\" :src=\"common_static_url+'online-service-icon.png'\"></image>\n                            </button>\n                            <!-- #endif -->\n                            <!-- #ifdef MP-ALIPAY -->\n                            <button open-type=\"contact\" :class=\"'alipay-contact '+common_ent\">\n                                <contact-button :tnt-inst-id=\"mini_alipay_tnt_inst_id\" :scene=\"mini_alipay_scene\" :alipay-card-no=\"mini_alipay_openid || ''\" :icon=\"common_static_url+'online-service-icon.png'\" size=\"40rpx*40rpx\" />\n                            </button>\n                            <!-- #endif -->\n                            <!-- #ifdef H5 || APP -->\n                            <button type=\"default\" :class=\"common_ent\" @tap=\"call_event\">\n                                <image class=\"icon dis-block\" :src=\"common_static_url+'online-service-icon.png'\"></image>\n                            </button>\n                            <!-- #endif -->\n                        </block>\n                    </movable-view>\n                </movable-area>\n            </block>\n        </view>\n    </block>\n</template>\n<script>\n    const app = getApp();\n    var common_static_url = app.globalData.get_static_url('common');\n    export default {\n        data() {\n            return {\n                common_static_url: common_static_url,\n                is_chat: 0,\n                chat_url: null,\n                common_app_customer_service_tel: null,\n                online_service_status: 0,\n                is_online_service_fixed: app.globalData.data.is_online_service_fixed,\n                mini_alipay_tnt_inst_id: null,\n                mini_alipay_scene: null,\n                mini_alipay_openid: null,\n                system: null,\n                x: 0,\n                y: 0,\n                top: 0,\n                height_dec: 0,\n                is_first: 1,\n                common_ent: ''\n            };\n        },\n        components: {},\n        props: {\n            propIsGoods: {\n            \ttype: Boolean,\n            \tdefault: false\n            },\n            propIsBar: {\n            \ttype: Boolean,\n            \tdefault: false\n            },\n            propIsNav: {\n            \ttype: Boolean,\n            \tdefault: false\n            },\n            propCard: {\n            \ttype: Boolean,\n            \tdefault: false\n            },\n            propTitle: {\n            \ttype: String,\n            \tdefault: ''\n            },\n            propImg: {\n            \ttype: String,\n            \tdefault: ''\n            },\n            propPath: {\n            \ttype: String,\n            \tdefault: ''\n            },\n            propIsGrayscale: {\n            \ttype:Number,\n            \tdefault: 0\n            },\n            propIsChat: {\n            \ttype:Number,\n            \tdefault: 0\n            },\n            propChatUrl: {\n            \ttype: String,\n            \tdefault: ''\n            },\n        },\n        // 属性值改变监听\n        watch: {\n            // 是否灰度\n        \tpropIsGrayscale(value, old_value) {\n                this.common_ent = (value == 1) ? 'grayscale' : '';\n        \t}\n        },\n        // 页面被展示\n        created: function(e) {\n            this.init_config();\n\n            // 非首次进入则重新初始化配置接口\n            if (this.is_first == 0) {\n                app.globalData.init_config();\n            }\n\n            // 数据设置\n            var system = app.globalData.get_system_info(null, null, true);\n            var width = app.globalData.window_width_handle(system.windowWidth);\n            var height = app.globalData.window_height_handle(system);\n            \n            // 页面是否定义导航\n            var top_h = this.propIsNav ? 170 : 0;\n            this.setData({\n                is_first: 0,\n                system: system,\n                // 位置坐标\n                x: width - 43,\n                y: height - 380,\n                // 展示位置处理\n                top: top_h,\n                height_dec: top_h,\n                // #ifdef H5 || APP\n                top: 90,\n                height_dec: this.propIsBar ? 190 : 90,\n                // #endif\n                // 是否使用客服系统\n                is_chat: this.propIsChat || this.is_chat,\n                chat_url: this.propChatUrl || this.chat_url,\n            });\n        },\n        methods: {\n            // 初始化配置\n            init_config(status) {\n                if ((status || false) == true) {\n                    // 是否使用客服系统\n                    var is_chat = app.globalData.get_config('plugins_base.chat.data.is_mobile_chat', 0);\n                    var chat_url = app.globalData.get_config('plugins_base.chat.data.chat_url');\n                    if(is_chat == 1 && chat_url != null) {\n                        this.setData({\n                            is_chat: is_chat,\n                            chat_url: chat_url,\n                            common_app_customer_service_tel: app.globalData.get_config('config.common_app_customer_service_tel'),\n                            online_service_status: app.globalData.get_config('config.common_app_is_online_service', 0)\n                        });\n                    } else {\n                        // #ifdef MP-WEIXIN || MP-TOUTIAO || MP-BAIDU || MP-ALIPAY || MP-KUAISHOU || H5 || APP\n                        this.setData({\n                            common_app_customer_service_tel: app.globalData.get_config('config.common_app_customer_service_tel'),\n                            online_service_status: app.globalData.get_config('config.common_app_is_online_service', 0)\n                        });\n                        // #endif\n                        \n                        // #ifdef H5 || APP\n                        if((this.common_app_customer_service_tel || null) == null) {\n                            this.setData({\n                                online_service_status: 0\n                            });\n                        }\n                        // #endif\n                        \n                        // #ifdef MP-ALIPAY\n                        // 在线客服开启，获取用户openid\n                        if(this.online_service_status == 1)\n                        {\n                            this.setData({\n                                mini_alipay_tnt_inst_id: app.globalData.get_config('config.common_app_mini_alipay_tnt_inst_id'),\n                                mini_alipay_scene: app.globalData.get_config('config.common_app_mini_alipay_scene'),\n                                mini_alipay_openid: app.globalData.get_user_cache_info('alipay_openid')\n                            });\n                        }\n                        // #endif\n                    }\n                } else {\n                    app.globalData.is_config(this, 'init_config');\n                }\n            },\n\n            // 客服电话\n            call_event() {\n                if (this.common_app_customer_service_tel == null) {\n                    app.globalData.showToast(\"客服电话有误\");\n                } else {\n                    app.globalData.call_tel(this.common_app_customer_service_tel);\n                }\n            },\n            \n            // 进入客服系统\n            chat_event() {\n                var url = this.propChatUrl || this.chat_url || null;\n                app.globalData.chat_entry_handle(url);\n            }\n        }\n    };\n</script>\n<style>\n    .online-service-movable-container {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        background: transparent;\n        pointer-events: none;\n        z-index: 2;\n    }\n    .online-service-event-submit {\n        pointer-events: auto;\n    }\n    .online-service-event-submit,\n    .online-service-event-submit button {\n        width: 31px;\n        height: 31px;\n        border-radius: 50%;\n    }\n    .online-service-event-submit button {\n        border: 0;\n        padding: 5px;\n        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\n        background: rgba(0, 0, 0, 0.6);\n    }\n    .online-service-event-submit .icon {\n        width: 21px !important;\n        height: 21px !important;\n    }\n    .goods-chat-container button {\n        padding: 0;\n        border: 0;\n        line-height: initial;\n        font-size: 24rpx;\n        background: transparent;\n    }\n    .goods-chat-container .icon {\n        width: 40rpx;\n        height: 40rpx;\n        margin: 10rpx 0 5rpx 0;\n    }\n    .goods-chat-container .text {\n        margin-top: -10rpx;\n    }\n    /* #ifdef MP-ALIPAY */\n    .goods-chat-container .alipay-contact {\n        margin-top: 10rpx;\n    }\n    .goods-chat-container .alipay-contact .text {\n        margin-top: -5rpx;\n    }\n    .online-service-event-submit contact-button {\n        line-height: initial;\n        display: block;\n    }\n    /* #endif */\n</style>","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./online-service.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./online-service.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}