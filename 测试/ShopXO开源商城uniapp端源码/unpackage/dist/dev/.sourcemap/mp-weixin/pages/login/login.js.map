{"version":3,"sources":["uni-app:///main.js","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?a47d","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?6978","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?f4b3","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?a9fc","uni-app:///pages/login/login.vue","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?ad56","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/login/login.vue?c52b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","params","user","prev_page","form_input_mobile_value","form_input_email_value","form_input_accounts_value","form_input_image_verify_value","verify_submit_text","verify_loading","verify_disabled","form_submit_loading","verify_time_total","temp_clear_time","agreement_status","verify_image_url","popup_image_verify_status","common_user_onekey_bind_mobile_list","home_site_logo_square","home_user_login_type","home_user_reg_type","home_user_login_img_verify_state","home_user_register_img_verify_state","common_img_verify_state","client_value","current_login_bind_type","current_opt_form","current_opt_type","current_opt_type_title","auth","bind","login_username","login_sms","login_email","reg_username","reg_sms","reg_email","forget","success","plugins_thirdpartylogin_data","plugins_thirdpartylogin_user","error_msg","components","componentPopup","onLoad","uni","onShow","app","methods","init","title","type","form","setTimeout","init_config","plugins_thirdpartylogin_config","get_user_info_event","desc","lang","user_auth_code","user_auth_back_event","form_input_mobile_event","form_input_email_event","form_input_accounts_event","form_input_image_verify_event","popup_image_verify_close_event","popup_image_verify_submit_event","verify_send_event","verify_send_handle","action","image_verify_type","mobile","accounts","verify","url","method","dataType","clearInterval","self","temp_time","fail","formBind","e","fields","msg","validation","confirm_phone_number_event","formLogin","formReg","formForget","user_success_handle","success_back_handle","pages","agreement_event","agreement_change","opt_form_event","opt_type_event","image_verify_event","cache_refresh_event","plugins_thirdpartylogin_event","window","plugins_thirdpartylogin_cancel_event","success_event"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACyK;AACzK,gBAAgB,kLAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzJA;AAAA;AAAA;AAAA;AAAmnB,CAAgB,woBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACmUvoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AADA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAIA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACAC;MACA;MACAC;IACA;EACA;EAEAC;IACAC;EACA;EAEA;EACAC;IACA;MACA3C;IACA;;IAEA;IACA;IACA;MACA4C;IACA;;IAEA;IACA;MACA;MACA;QACAJ;MACA;IACA;;IAEA;IACA;MACA;MACA;QACAD;MACA;MACA;MACA;QACAK;MACA;IACA;;IAEA;IACA;EACA;EAEA;EACAC;IACA;IACA;;IAEA;IACAC;EACA;EAEAC;IACA;IACAC;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MAsBAJ;QACAK;MACA;;MAEA;MACA,4CACA;QACAC;MACA;MACA,4CACA;QACAC;MACA;MAEA;QACAlD;QACAyB;QACAD;MACA;;MAEA;MACA;QACA;QACA;UACA;YAAAvB;UAAA;UACAkD;YACAN;UACA;QACA;MACA;IACA;IAEA;IACAO;MACA;QACA;UACArC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;UACAgC;UACAhB;QACA;MACA;QACAQ;MACA;IACA;IAEA;IACAS;MAAA;MACA;MACA;QACAT;QACA;MACA;MAGAF;QACAY;QACAC;QACApB;UACA;QACA;MACA;IA6CA;IAEA;IACA;IACAqB;MACA;QACAZ;MACA;QACAA;MACA;IACA;IAEA;IACAa;MACA;MACA;QACA1D;MACA;;MAEA;MACA;QACA2C;MACA;;MAEA;MACA;IACA;IAEA;IACAgB;MACA;QACAzD;MACA;IACA;IAEA;IACA0D;MACA;QACAzD;MACA;IACA;IAEA;IACA0D;MACA;QACAzD;MACA;IACA;IAEA;IACA0D;MACA;QACAzD;MACA;IACA;IAEA;IACA0D;MACA;QACAjD;MACA;IACA;IAEA;IACAkD;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACApB;UACA;QACA;MACA;MACA;MACA;QACA;UACAA;UACA;QACA;MACA;MACA;MACA;QACAA;QACA;MACA;MACA;MACA;QACA;UACA;YACA/B;UACA;UACA;QACA;MACA;;MAEA;MACA;IACA;IAEA;IACAoD;MAAA;MACA;MACA;QACA;UACA;YACArB;YACA;UACA;QACA;MACA;;MAEA;MACA;MACA;MACA;QACAsB;QACAC;QACA;UACAC;QACA;QACA;UACAxB;UACA;QACA;MACA;QACA;UACAsB;UACAC;QACA;UACAD;UACAC;QACA;UACAD;UACAC;QACA;QACA;QACA;UACAvB;UACA;QACA;QACA;UACAyB;UACAC;UACAtB;QACA;MACA;;MAEA;MACA;MACAN;QACAK;MACA;MACA;QACA1C;QACAC;QACAC;MACA;MACAmC;QACA6B;QACAC;QACA3E;QACA4E;QACAtC;UACAO;UACA;YACA;YACA;cACA;gBACA7B;cACA;YACA;;YAEA;YACA;cACAP;YACA;YACA;YACA;cACA;gBACAoE;gBACAC;kBACAtE;kBACAE;gBACA;cACA;gBACAqE;gBACAD;kBACAtE;gBACA;cACA;YACA;UACA;YACA;cACAA;cACAC;cACAC;cACAH;YACA;YACA;YACAwC;UACA;QACA;QACAiC;UACAnC;UACA;YACArC;YACAC;YACAC;YACAH;UACA;UACA;UACAwC;QACA;MACA;IACA;IAEA;IACAkC;MAAA;MACA;MACA;;MAEA;MACA;MACA;MACA;MACAC;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACA,kBACA;QAAAC;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MAEAC;QAAAF;QAAAC;MAAA;MAEA;QACAvC;UACAK;QACA;QACA;UACAvC;QACA;;QAEA;QACAkC;UACA6B;UACAC;UACA3E;UACA4E;UACAtC;YACA;UACA;UACA0C;YACAnC;YACA;cACAlC;YACA;YACAoC;UACA;QACA;MACA;IACA;IAEA;IACAuC;MAAA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;QACAtF;QACA6C;UACAK;QACA;QACA;QACAL;UACA6B;UACAC;UACA3E;UACA4E;UACAtC;YACA;UACA;UACA0C;YACAnC;YACAE;UACA;QACA;MACA;QACA;QACA;UACAA;QACA;MACA;IACA;IAEA;IACAwC;MAAA;MACA;MACA;QACAxC;QACA;MACA;MACA;MACA;MACA;QACAsC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACA;QACAF;;QAGA;QACA;QACA;UACA;UACA;UACAA;UACAA;QACA;UACA;UACA;YACA;YACA;YACAA;YACAA;UACA;QACA;;QAGA;QACArC;UACAK;QACA;QACA;UACAvC;QACA;QACAkC;UACA6B;UACAC;UACA3E;UACA4E;UACAtC;YACA;UACA;UACA0C;YACAnC;YACA;cACAlC;YACA;YACAoC;UACA;QACA;MACA;IACA;IAEA;IACAyC;MAAA;MACA;MACA;QACAzC;QACA;MACA;MACA;MACA;MACA;QACAsC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACAC;UAAAF;UAAAC;QAAA;MACA;MACA;QACA;QACAF;;QAGA;QACA;QACA;UACA;UACA;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;UACAA;QACA;UACA;UACA;YACA;YACA;YACAA;YACAA;UACA;QACA;;QAGA;QACA;QACAA;;QAEA;QACArC;UACAK;QACA;QACA;UACAvC;QACA;QACAkC;UACA6B;UACAC;UACA3E;UACA4E;UACAtC;YACA;UACA;UACA0C;YACAnC;YACA;cACAlC;YACA;YACAoC;UACA;QACA;MACA;IACA;IAEA;IACA0C;MAAA;MACA;MACA,kBACA;QAAAN;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;MACA;QACA;QACAvC;UACAK;QACA;QACA;UACAvC;QACA;QACAkC;UACA6B;UACAC;UACA3E;UACA4E;UACAtC;YACAO;YACA;cACAE;cACA;cACAM;gBACA;gBACAyB;kBACAnE;kBACAe;kBACAC;gBACA;gBACA;kBACA;kBACA;oBACAmD;kBACA;gBACA;cACA;YACA;cACA;gBACAnE;cACA;cACAoC;YACA;UACA;UACAiC;YACAnC;YACA;cACAlC;YACA;YACAoC;UACA;QACA;MACA;IACA;IAEA;IACA2C;MAAA;MACA;QACA;QACAb;QACAhC;;QAEA;QACA;UACAA;YACA6B;YACAC;YACA3E;YACA4E;YACAtC;cACA;gBACAO;gBACAA;gBACA;cACA;gBACAA;gBACA;kBACAlC;gBACA;gBACAoC;cACA;YACA;YACAiC;cACAnC;cACA;gBACAlC;cACA;cACAoC;YACA;UACA;QACA;UACAF;UACA;QACA;MACA;QACAA;QACA;UACAlC;QACA;QACAoC;MACA;IACA;IAEA;IACA4C;MACA;MACA5C;MACA;MACAM;QACA;QACA;UACA;UACA;YACA;cACAuC;YACA;UACA;UACA;UACA/C;QACA;UACA;UACAiC;QACA;MACA;IACA;IAEA;IACAe;MACA;MACA;QACA9C;QACA;MACA;;MAEA;MACA;MACA;MACA;QACAA;QACA;MACA;;MAEA;MACAA;IACA;IAEA;IACA+C;MACA;QACAhF;MACA;IACA;IAEA;IACAiF;MACA;MACA;MACA;QACAlD;MACA;;MAEA;MACA;QACAnB;MACA;;MAEA;MACA;MACA;QACA1B;MACA;;MAEA;MACA;QACAA;QACA;UACA;QACA;MACA;;MAEA;MACA;QACAA;QACA;QACA;UACA;QACA;MACA;;MAEA;MACA;QACAA;QACA;QACA;UACA;QACA;MACA;MACA;;MAEA;MACA;QACA6C;UACAK;QACA;MACA;IACA;IAEA;IACA8C;MACA;MACA;QACA;UACArE;QACA;;QAEA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;QACA;UACA;QACA;;QAEA;QACAkB;UACAK;QACA;MACA;IACA;IAEA;IACA+C;MACA;MACA;QACA;QACA;QACA;UACAlF;QACA;MACA;IACA;IAEA;IACAmF;MACAnD;MACA;MACAF;QACAK;MACA;MACAG;QACAyB;QACAjC;MACA;IACA;IAEA;IACAsD;MACA;MACA;QACApD;QACA;MACA;MACA;MACA;MACA;MACAqD;IACA;IAEA;IACAC;MACAxD;QACA6B;MACA;IACA;IAEA;IACA4B;MACA;MACAvD;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzzCA;AAAA;AAAA;AAAA;AAA64B,CAAgB,u4BAAG,EAAC,C;;;;;;;;;;;ACAj6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.user != null &&\n    (_vm.current_opt_form == \"bind\" || _vm.current_opt_form == \"success\") &&\n    _vm.current_opt_form == \"bind\"\n      ? _vm.common_user_onekey_bind_mobile_list.length > 0 &&\n        _vm.common_user_onekey_bind_mobile_list.indexOf(_vm.client_value) != -1\n      : null\n  var g1 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.user != null &&\n    (_vm.current_opt_form == \"bind\" || _vm.current_opt_form == \"success\") &&\n    _vm.current_opt_form == \"bind\" &&\n    ((_vm.user || null) == null || (_vm.user.id || null) == null)\n      ? (_vm.home_user_login_type || null) != null &&\n        _vm.home_user_login_type.length > 0\n      : null\n  var g2 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.user != null &&\n    (_vm.current_opt_form == \"bind\" || _vm.current_opt_form == \"success\") &&\n    _vm.current_opt_form == \"bind\" &&\n    ((_vm.user || null) == null || (_vm.user.id || null) == null)\n      ? (_vm.home_user_reg_type || null) != null &&\n        _vm.home_user_reg_type.length > 0\n      : null\n  var g3 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"login\"\n      ? (_vm.home_user_reg_type || null) != null &&\n        _vm.home_user_reg_type.length > 0\n      : null\n  var g4 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"login\"\n      ? (_vm.home_user_login_type || null) != null &&\n        _vm.home_user_login_type.length > 0\n      : null\n  var g5 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"login\" &&\n    g4\n      ? _vm.home_user_login_type.indexOf(\"username\")\n      : null\n  var g6 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"login\" &&\n    g4\n      ? _vm.home_user_login_type.indexOf(\"sms\")\n      : null\n  var g7 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"login\" &&\n    g4\n      ? _vm.home_user_login_type.indexOf(\"email\")\n      : null\n  var g8 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    _vm.current_opt_form == \"reg\"\n      ? (_vm.home_user_login_type || null) != null &&\n        _vm.home_user_login_type.length > 0\n      : null\n  var g9 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    _vm.current_opt_form == \"reg\"\n      ? (_vm.home_user_reg_type || null) != null &&\n        _vm.home_user_reg_type.length > 0\n      : null\n  var g10 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    _vm.current_opt_form == \"reg\" &&\n    g9\n      ? _vm.home_user_reg_type.indexOf(\"username\")\n      : null\n  var g11 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    _vm.current_opt_form == \"reg\" &&\n    g9\n      ? _vm.home_user_reg_type.indexOf(\"sms\")\n      : null\n  var g12 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    _vm.current_opt_form == \"reg\" &&\n    g9\n      ? _vm.home_user_reg_type.indexOf(\"email\")\n      : null\n  var g13 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    !(_vm.current_opt_form == \"reg\") &&\n    _vm.current_opt_form == \"forget\"\n      ? (_vm.home_user_login_type || null) != null &&\n        _vm.home_user_login_type.length > 0\n      : null\n  var g14 =\n    (_vm.home_site_logo_square || null) != null &&\n    !(_vm.current_opt_form == \"login\") &&\n    !(_vm.current_opt_form == \"reg\") &&\n    _vm.current_opt_form == \"forget\"\n      ? (_vm.home_user_reg_type || null) != null &&\n        _vm.home_user_reg_type.length > 0\n      : null\n  var g15 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"auth\" &&\n    (_vm.user || null) == null\n      ? (_vm.home_user_login_type || null) != null &&\n        _vm.home_user_login_type.length > 0\n      : null\n  var g16 =\n    (_vm.home_site_logo_square || null) != null &&\n    _vm.current_opt_form == \"auth\" &&\n    (_vm.user || null) == null\n      ? (_vm.home_user_reg_type || null) != null &&\n        _vm.home_user_reg_type.length > 0\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        g7: g7,\n        g8: g8,\n        g9: g9,\n        g10: g10,\n        g11: g11,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        g15: g15,\n        g16: g16,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view class=\"content\">\n            <block v-if=\"(home_site_logo_square || null) != null\">\n                <!-- 表单验证码 -->\n                <view v-if=\"current_opt_form == 'bind_verify'\" class=\"form-content\">\n                    <form @submit=\"formBind\">\n                        <view class=\"tc\">\n                            <image class=\"icon circle auto dis-block margin-bottom-xxl br\" :src=\"(user.avatar || null) == null ? '/static/images/default-user.png' : user.avatar\" mode=\"widthFix\"></image>\n                            <view v-if=\"(user.nickname || null) != null\" class=\"cr-base\">{{user.nickname}}</view>\n                        </view>\n                        <view class=\"margin-top-xxxl padding-top-xxxl\">\n                            <input type=\"number\" placeholder=\"手机号码\" maxlength=\"11\" name=\"mobile\" @input=\"form_input_mobile_event\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view class=\"code pr margin-vertical-main\">\n                                <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                                <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                            </view>\n                            <button class=\"bg-main br-main cr-white round text-size margin-top-xxxl\" form-type=\"submit\" type=\"default\" hover-class=\"none\" :loading=\"form_submit_loading\" :disabled=\"form_submit_loading\">确认绑定</button>\n                        </view>\n                        <view class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-xxxl tc\">\n                            <text class=\"cr-blue\" data-value=\"bind\" @tap=\"opt_form_event\">返回上一页</text>\n                        </view>\n                    </form>\n                </view>\n\n                <!-- 存在用户信息 -->\n                <block v-if=\"user != null\">\n                    <!-- 确认绑定方式 -->\n                    <view v-if=\"current_opt_form == 'bind' || current_opt_form == 'success'\" class=\"form-content\">\n                        <view class=\"tc\">\n                            <image class=\"icon circle auto dis-block margin-bottom-xxl br\" :src=\"(user.avatar || null) == null ? '/static/images/default-user.png' : user.avatar\" mode=\"widthFix\"></image>\n                            <view v-if=\"(user.nickname || null) != null\" class=\"cr-base\">{{user.nickname}}</view>\n                        </view>\n                        <block v-if=\"current_opt_form == 'bind'\">\n                            <view class=\"margin-top-xxxl padding-top-xxxl\">\n                                <button class=\"bg-main-pair br-main-pair cr-white round text-size\" type=\"warn\" hover-class=\"none\" data-value=\"bind_verify\" @tap=\"opt_form_event\">手机验证码</button>\n                                <button v-if=\"common_user_onekey_bind_mobile_list.length > 0 && common_user_onekey_bind_mobile_list.indexOf(client_value) != -1\" class=\"margin-top-xxl bg-main br-main cr-white round text-size\" type=\"default\" hover-class=\"none\" open-type=\"getPhoneNumber\" @getphonenumber=\"confirm_phone_number_event\">获取手机号码一键登录</button>\n                            </view>\n                            <!-- 当前还没有账号的情况下才可以操作登录和注册绑定 -->\n                            <view v-if=\"(user || null) == null || (user.id || null) == null\" class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main\">\n                                <!-- 登录 -->\n                                <view v-if=\"(home_user_login_type || null) != null && home_user_login_type.length > 0\" class=\"margin-bottom-xxxl tc\">\n                                    <text class=\"cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"login\" @tap=\"opt_form_event\">绑定已有账号</text>\n                                </view>\n                                <!-- 注册 -->\n                                <view v-if=\"(home_user_reg_type || null) != null && home_user_reg_type.length > 0\" class=\"margin-bottom-xl tc\">\n                                    <text class=\"cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"reg\" @tap=\"opt_form_event\">注册账号并绑定</text>\n                                </view>\n                            </view>\n                        </block>\n                        <view v-if=\"current_opt_form == 'success'\" class=\"tc margin-top-xxxl\">\n                            <view class=\"cr-green\">已成功登录、请点击返回上一页</view>\n                            <button type=\"default\" size=\"mini\" class=\"dis-inline-block auto bg-main br-main cr-white round text-size-sm padding-left-xxxl padding-right-xxxl padding-top-xs padding-bottom-xs margin-top-xl\" @tap=\"success_event\">返回上一页</button>\n                        </view>\n                    </view>\n                </block>\n\n                <!-- 站点logo -->\n                <image v-if=\"current_opt_form != 'bind' && current_opt_form != 'bind_verify' && current_opt_form != 'success'\" class=\"icon circle auto dis-block br\" :src=\"home_site_logo_square\" mode=\"widthFix\"></image>\n                \n                <!-- 非登录成功则需要展示的数据 -->\n                <block v-if=\"current_opt_form != 'success'\">\n                    <!-- 错误提示信息 -->\n                    <view v-if=\"(error_msg || null) != null\" class=\"margin-top-xxxl margin-bottom-lg tc padding-horizontal-main\">\n                        <icon type=\"warn\" size=\"16\" color=\"#f00\" class=\"va-m\" />\n                        <text class=\"cr-red va-m margin-left-sm\">{{error_msg}}</text>\n                    </view>\n\n                    <!-- 绑定账号提示 -->\n                    <view v-if=\"(plugins_thirdpartylogin_user || null) != null && (plugins_thirdpartylogin_user.is_force_bind_user || 0) == 1\" class=\"plugins-thirdpartylogin-bind tc padding-horizontal-main margin-top-xxxl\">\n                        <image :src=\"plugins_thirdpartylogin_user.avatar\" mode=\"aspectFit\" class=\"round br va-m\"></image>\n                        <text class=\"cr-blue margin-left-sm\">{{plugins_thirdpartylogin_user.nickname}}</text>\n                        <text class=\"va-m margin-left-lg cr-grey\">登录帐号将自动绑定{{plugins_thirdpartylogin_user.platform_name}}用户</text>\n                        <button type=\"default\" size=\"mini\" class=\"br-red cr-red bg-white round va-m text-size-xs margin-left-lg padding-top-xs padding-bottom-xs\" @tap=\"plugins_thirdpartylogin_cancel_event\">取消</button>\n                    </view>\n                </block>\n\n                <!-- 登录 -->\n                <view v-if=\"current_opt_form == 'login'\" class=\"form-content\">\n                    <form @submit=\"formLogin\">\n                        <!-- 账号密码 -->\n                        <block v-if=\"current_opt_type == 'login_username'\">\n                            <input type=\"text\" placeholder=\"用户名/手机/邮箱\" maxlength=\"60\" name=\"accounts\" class=\"form-item margin-vertical-main wh-auto\">\n                            <input type=\"text\" placeholder=\"登录密码\" minlength=\"6\" maxlength=\"18\" name=\"pwd\" password=\"true\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view  v-if=\"home_user_login_img_verify_state == 1\" class=\"verify pr margin-vertical-main\">\n                                <input type=\"text\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\" :value=\"form_input_image_verify_value\" @input=\"form_input_image_verify_event\">\n                                <image v-if=\"(verify_image_url || null) != null\" :src=\"verify_image_url\" class=\"verify-image pa\" mode=\"aspectFit\" data-type=\"user_login\" @tap=\"image_verify_event\"></image>\n                            </view>\n                        </block>\n                        <!-- 手机 -->\n                        <block v-if=\"current_opt_type == 'login_sms'\">\n                            <input type=\"number\" placeholder=\"手机号码\" maxlength=\"11\" name=\"accounts\" @input=\"form_input_mobile_event\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view class=\"code pr margin-vertical-main\">\n                                <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                                <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                            </view>\n                        </block>\n                        <!-- 邮箱 -->\n                        <block v-if=\"current_opt_type == 'login_email'\">\n                            <input type=\"text\" placeholder=\"电子邮箱\" maxlength=\"60\" name=\"accounts\" @input=\"form_input_email_event\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view class=\"code pr margin-vertical-main\">\n                                <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                                <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                            </view>\n                        </block>\n                        <!-- 协议 -->\n                        <view class=\"margin-top-xxxl cr-gray\">\n                            <view class=\"dis-inline-block va-m\" @tap=\"agreement_change\">\n                                <radio-group class=\"dis-inline-block va-m\" style=\"transform:scale(0.6)\">\n                                    <label>\n                                        <radio value=\"agreement\" color=\"#20a53a\" :checked=\"agreement_status\" />\n                                    </label>\n                                </radio-group>\n                            </view>\n                            <view class=\"dis-inline-block va-m\">\n                                阅读并同意 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userregister\">服务协议</text>》 与 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userprivacy\">隐私政策</text>》\n                            </view>\n                        </view>\n                        <button class=\"bg-main br-main cr-white round text-size margin-top-xxxl\" form-type=\"submit\" type=\"default\" hover-class=\"none\" :loading=\"form_submit_loading\" :disabled=\"form_submit_loading\">确认登录</button>\n                        <view class=\"margin-top-xxl oh\">\n                            <!-- #ifdef H5 || APP -->\n                            <view v-if=\"(plugins_thirdpartylogin_data || null) != null && (plugins_thirdpartylogin_config || null) != null\" class=\"plugins-thirdpartylogin fl\">\n                                <block v-for=\"(item,index) in plugins_thirdpartylogin_data\">\n                                    <view class=\"item dis-inline-block round\" :style=\"'background-color:'+item.bg_color+';'\" :data-type=\"index\" :data-url=\"item.login_url\" @tap=\"plugins_thirdpartylogin_event\">\n                                        <image :src=\"item.icon\" mode=\"aspectFit\" class=\"dis-block auto margin-top-xs\"></image>\n                                    </view>\n                                </block>\n                            </view>\n                            <!-- #endif -->\n                            <text class=\"cr-gray fr\" data-value=\"forget\" @tap=\"opt_form_event\">找回密码</text>\n                        </view>\n                        <view class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main\">\n                            <!-- #ifdef MP -->\n                            <!-- 小程序授权登录 -->\n                            <view class=\"margin-bottom-xxxl tc\">\n                                <text v-if=\"(user || null) == null\" class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"auth\" @tap=\"opt_form_event\">使用授权自动登录</text>\n                                <text v-else class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"bind\" @tap=\"opt_form_event\">返回上一页</text>\n                            </view>\n                            <!-- #endif -->\n                            <!-- 注册 -->\n                            <view v-if=\"(home_user_reg_type || null) != null && home_user_reg_type.length > 0\" class=\"margin-bottom-xxxl tc\">\n                                <text class=\"cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"reg\" @tap=\"opt_form_event\">还没账号？立即注册</text>\n                            </view>\n                            <!-- 登录方式选择 -->\n                            <view v-if=\"(home_user_login_type || null) != null && home_user_login_type.length > 0\" class=\"opt-type-list margin-bottom-xl tc\">\n                                <text v-if=\"home_user_login_type.indexOf('username') != -1\" class=\"cr-blue\" data-value=\"login_username\" @tap=\"opt_type_event\">账号密码</text>\n                                <text v-if=\"home_user_login_type.indexOf('sms') != -1\" class=\"cr-blue\" data-value=\"login_sms\" @tap=\"opt_type_event\">短信验证码</text>\n                                <text v-if=\"home_user_login_type.indexOf('email') != -1\" class=\"cr-blue\" data-value=\"login_email\" @tap=\"opt_type_event\">邮箱验证码</text>\n                            </view>\n                        </view>\n                    </form>\n                </view>\n\n                <!-- 注册 -->\n                <view v-else-if=\"current_opt_form == 'reg'\" class=\"form-content\">\n                    <form @submit=\"formReg\">\n                        <!-- 账号密码 -->\n                        <block v-if=\"current_opt_type == 'reg_username'\">\n                            <input type=\"text\" placeholder=\"用户名\" maxlength=\"60\" name=\"accounts\" class=\"form-item margin-vertical-main wh-auto\">\n                            <input type=\"text\" placeholder=\"登录密码\" minlength=\"6\" maxlength=\"18\" name=\"pwd\" password=\"true\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view  v-if=\"home_user_register_img_verify_state == 1\" class=\"verify pr margin-vertical-main\">\n                                <input type=\"text\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\" :value=\"form_input_image_verify_value\" @input=\"form_input_image_verify_event\">\n                                <image v-if=\"(verify_image_url || null) != null\" :src=\"verify_image_url\" class=\"verify-image pa\" mode=\"aspectFit\" data-type=\"user_reg\" @tap=\"image_verify_event\"></image>\n                            </view>\n                        </block>\n                        <!-- 手机 -->\n                        <block v-if=\"current_opt_type == 'reg_sms'\">\n                            <input type=\"number\" placeholder=\"手机号码\" maxlength=\"11\" name=\"accounts\" @input=\"form_input_mobile_event\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view class=\"code pr margin-vertical-main\">\n                                <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                                <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                            </view>\n                            <input type=\"text\" placeholder=\"登录密码\" minlength=\"6\" maxlength=\"18\" name=\"pwd\" password=\"true\" class=\"form-item margin-vertical-main wh-auto\">\n                        </block>\n                        <!-- 邮箱 -->\n                        <block v-if=\"current_opt_type == 'reg_email'\">\n                            <input type=\"text\" placeholder=\"电子邮箱\" maxlength=\"60\" name=\"accounts\" @input=\"form_input_email_event\" class=\"form-item margin-vertical-main wh-auto\">\n                            <view class=\"code pr margin-vertical-main\">\n                                <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                                <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                            </view>\n                            <input type=\"text\" placeholder=\"登录密码\" minlength=\"6\" maxlength=\"18\" name=\"pwd\" password=\"true\" class=\"form-item margin-vertical-main wh-auto\">\n                        </block>\n                        <!-- 协议 -->\n                        <view class=\"margin-top-xxxl cr-gray\">\n                            <view class=\"dis-inline-block va-m\" @tap=\"agreement_change\">\n                                <radio-group class=\"dis-inline-block va-m\" style=\"transform:scale(0.6)\">\n                                    <label>\n                                        <radio value=\"agreement\" color=\"#20a53a\" :checked=\"agreement_status\" />\n                                    </label>\n                                </radio-group>\n                            </view>\n                            <view class=\"dis-inline-block va-m\">\n                                阅读并同意 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userregister\">服务协议</text>》 与 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userprivacy\">隐私政策</text>》\n                            </view>\n                        </view>\n                        <button class=\"bg-main br-main cr-white round text-size margin-top-xxxl\" form-type=\"submit\" type=\"default\" hover-class=\"none\" :loading=\"form_submit_loading\" :disabled=\"form_submit_loading\">确认注册</button>\n                        <view class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main\">\n                            <!-- #ifdef MP -->\n                            <!-- 小程序授权登录 -->\n                            <view class=\"margin-bottom-xxxl tc\">\n                                <text v-if=\"(user || null) == null\" class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"auth\" @tap=\"opt_form_event\">使用授权自动登录</text>\n                                <text v-else class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"bind\" @tap=\"opt_form_event\">返回上一页</text>\n                            </view>\n                            <!-- #endif -->\n                            <!-- 登录 -->\n                            <view v-if=\"(home_user_login_type || null) != null && home_user_login_type.length > 0\" class=\"margin-bottom-xxxl tc\">\n                                <text class=\"cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"login\" @tap=\"opt_form_event\">已有账号？立即登录</text>\n                            </view>\n                            <!-- 注册方式选择 -->\n                            <view v-if=\"(home_user_reg_type || null) != null && home_user_reg_type.length > 0\" class=\"opt-type-list margin-bottom-xl tc\">\n                                <text v-if=\"home_user_reg_type.indexOf('username') != -1\" class=\"cr-blue\" data-value=\"reg_username\" @tap=\"opt_type_event\">账号密码</text>\n                                <text v-if=\"home_user_reg_type.indexOf('sms') != -1\" class=\"cr-blue\" data-value=\"reg_sms\" @tap=\"opt_type_event\">短信验证码</text>\n                                <text v-if=\"home_user_reg_type.indexOf('email') != -1\" class=\"cr-blue\" data-value=\"reg_email\" @tap=\"opt_type_event\">邮箱验证码</text>\n                            </view>\n                        </view>\n                    </form>\n                </view>\n\n                <!-- 找回密码 -->\n                <view v-else-if=\"current_opt_form == 'forget'\" class=\"form-content\">\n                    <form @submit=\"formForget\">\n                        <input type=\"text\" placeholder=\"手机/邮箱\" maxlength=\"60\" name=\"accounts\" @input=\"form_input_accounts_event\" class=\"form-item margin-vertical-main wh-auto\">\n                        <view class=\"code pr margin-vertical-main\">\n                            <input type=\"number\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\">\n                            <button :class=\"'verify-submit pa round br text-size-sm cr-base ' + (verify_disabled ? 'sub-disabled' : '')\" type=\"default\" hover-class=\"none\" size=\"mini\" :loading=\"verify_loading\" :disabled=\"verify_disabled\" @tap=\"verify_send_event\">{{verify_submit_text}}</button>\n                        </view>\n                        <input type=\"text\" placeholder=\"设置登录密码\" minlength=\"6\" maxlength=\"18\" name=\"pwd\" password=\"true\" class=\"form-item margin-vertical-main wh-auto\">\n                        <button class=\"bg-main br-main cr-white round text-size margin-top-xxxl\" form-type=\"submit\" type=\"default\" hover-class=\"none\" :loading=\"form_submit_loading\" :disabled=\"form_submit_loading\">确认提交</button>\n                        <view class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main\">\n                            <!-- #ifdef MP -->\n                            <!-- 小程序授权登录 -->\n                            <view class=\"margin-bottom-xxxl tc\">\n                                <text v-if=\"(user || null) == null\" class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"auth\" @tap=\"opt_form_event\">使用授权自动登录</text>\n                                <text v-else class=\"cr-red round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"bind\" @tap=\"opt_form_event\">返回上一页</text>\n                            </view>\n                            <!-- #endif -->\n                            <!-- 登录 -->\n                            <view v-if=\"(home_user_login_type || null) != null && home_user_login_type.length > 0\" class=\"margin-bottom-xxxl tc\">\n                                <text class=\"cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"login\" @tap=\"opt_form_event\">已有账号？立即登录</text>\n                            </view>\n                            <!-- 注册 -->\n                            <view v-if=\"(home_user_reg_type || null) != null && home_user_reg_type.length > 0\" class=\"margin-bottom-xl tc\">\n                                <text class=\"cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"reg\" @tap=\"opt_form_event\">还没账号？立即注册</text>\n                            </view>\n                        </view>\n                    </form>\n                </view>\n\n                <!-- #ifdef MP -->\n                <!-- 小程序授权 -->\n                <view v-if=\"current_opt_form == 'auth' && (user || null) == null\" class=\"margin-top-xxxl tc\">\n                    <view class=\"cr-base\">确认登录授权，为您提供更优质的服务</view>\n                    <view class=\"margin-top-sm cr-gray\">\n                        <view class=\"dis-inline-block va-m\" @tap=\"agreement_change\">\n                            <radio-group style=\"transform:scale(0.6)\">\n                                <label>\n                                    <radio value=\"agreement\" color=\"#20a53a\" :checked=\"agreement_status\" />\n                                </label>\n                            </radio-group>\n                        </view>\n                        <view class=\"dis-inline-block va-m\">\n                            阅读并同意 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userregister\">服务协议</text>》 与 《<text class=\"cr-main\" @tap=\"agreement_event\" data-value=\"userprivacy\">隐私政策</text>》\n                        </view>\n                    </view>\n                    <view class=\"margin-top-xxl\">\n                        <navigator open-type=\"navigateBack\" hover-class=\"none\" class=\"dis-inline-block margin-right-lg\">\n                            <button class=\"bg-yellow br-yellow cr-white round\" type=\"default\" size=\"mini\" hover-class=\"none\">取消</button>\n                        </navigator>\n                        <!-- #ifdef MP-WEIXIN || MP-TOUTIAO -->\n                        <button class=\"margin-left-lg bg-green br-green cr-white round\" type=\"default\" size=\"mini\" @tap=\"get_user_info_event\">使用授权自动登录</button>\n                        <!-- #endif -->\n                        <!-- #ifdef MP-QQ || MP-BAIDU || MP-KUAISHOU -->\n                        <button class=\"margin-left-lg bg-green br-green cr-white round\" type=\"default\" size=\"mini\" open-type=\"getUserInfo\" @getuserinfo=\"get_user_info_event\">使用授权自动登录</button>\n                        <!-- #endif -->\n                        <!-- #ifdef MP-ALIPAY -->\n                        <button class=\"margin-left-lg bg-green br-green cr-white round\" type=\"default\" size=\"mini\" open-type=\"getAuthorize\" @getAuthorize=\"get_user_info_event\" scope=\"userInfo\">使用授权自动登录</button>\n                        <!-- #endif -->\n                    </view>\n                    <view class=\"margin-top-xxxl padding-top-xxxl padding-horizontal-main padding-bottom-main\">\n                        <!-- 登录 -->\n                        <view v-if=\"(home_user_login_type || null) != null && home_user_login_type.length > 0\" class=\"margin-bottom-xxxl tc\">\n                            <text class=\"cr-main round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"login\" @tap=\"opt_form_event\">已有账号？立即登录</text>\n                        </view>\n                        <!-- 注册 -->\n                        <view v-if=\"(home_user_reg_type || null) != null && home_user_reg_type.length > 0\" class=\"margin-bottom-xl tc\">\n                            <text class=\"cr-main-pair round padding-top-xs padding-bottom-xs padding-horizontal-main\" data-value=\"reg\" @tap=\"opt_form_event\">还没账号？注册账号</text>\n                        </view>\n                    </view>\n                </view>\n                <!-- #endif -->\n\n                <!-- 图片验证码弹层 -->\n                <component-popup :propShow=\"popup_image_verify_status\" propPosition=\"bottom\" @onclose=\"popup_image_verify_close_event\">\n                    <view class=\"bg-white padding-horizontal-main padding-top-main\">\n                        <view class=\"fr oh\">\n                            <view class=\"fr\" @tap.stop=\"popup_image_verify_close_event\">\n                                <icon type=\"clear\" size=\"20\"></icon>\n                            </view>\n                        </view>\n                        <view class=\"form-content margin-top-xxxl padding-top-xxl\">\n                            <view class=\"verify pr margin-vertical-main\">\n                                <input type=\"text\" placeholder=\"验证码\" name=\"verify\" maxlength=\"4\" :value=\"form_input_image_verify_value\" @input=\"form_input_image_verify_event\">\n                                <image v-if=\"(verify_image_url || null) != null\" :src=\"verify_image_url\" class=\"verify-image pa\" mode=\"aspectFit\" :data-type=\"'user_'+current_opt_form\" @tap=\"image_verify_event\"></image>\n                            </view>\n                            <view class=\"margin-top-xxxl margin-bottom-xxxl\">\n                                <button class=\"bg-main br-main cr-white round text-size\" type=\"default\" @tap=\"popup_image_verify_submit_event\" hover-class=\"none\" :disabled=\"verify_disabled\">确认</button>\n                            </view>\n                        </view>\n                    </view>\n                </component-popup>\n            </block>\n            <view v-else class=\"margin-top-xxxl padding-top-xxxl tc\">\n                <text class=\"cr-red\">基础数据有误、请点击刷新！</text>\n                <view class=\"margin-top-xl\">\n                    <button type=\"default\" size=\"mini\" class=\"br-main cr-white bg-main dis-inline-block padding-left-xxxl padding-right-xxxl padding-top-sm padding-bottom-sm round\" @tap=\"cache_refresh_event\">刷新基础数据</button>\n                </view>\n            </view>\n        </view>\n    </view>\n</template>\n<script>\n    const app = getApp();\n    import base64 from '../../common/js/lib/base64.js';\n    import componentPopup from \"../../components/popup/popup\";\n\n    export default {\n        data() {\n            return {\n                params: null,\n                user: null,\n                prev_page: null,\n                form_input_mobile_value: '',\n                form_input_email_value: '',\n                form_input_accounts_value: '',\n                form_input_image_verify_value: '',\n                verify_submit_text: '获取验证码',\n                verify_loading: false,\n                verify_disabled: false,\n                form_submit_loading: false,\n                verify_time_total: 60,\n                temp_clear_time: null,\n                agreement_status: false,\n                verify_image_url: null,\n                popup_image_verify_status: false,\n                // 基础配置\n                common_user_onekey_bind_mobile_list: [],\n                home_site_logo_square: null,\n                home_user_login_type: [],\n                home_user_reg_type: [],\n                home_user_login_img_verify_state: 0,\n                home_user_register_img_verify_state: 0,\n                common_img_verify_state: 0,\n                client_value: app.globalData.application_client_type(),\n                // 0 确认绑定方式, 1 验证码绑定\n                current_login_bind_type: 0,\n                // 当前操作方式\n                current_opt_form: 'auth',\n                current_opt_type: 'auth',\n                current_opt_type_title: {\n                    auth: \"授权用户信息\",\n                    bind: \"绑定手机\",\n                    login_username: \"账号密码登录\",\n                    login_sms: \"手机验证码登录\",\n                    login_email: \"邮箱验证码登录\",\n                    reg_username: \"账号密码注册\",\n                    reg_sms: \"手机验证码注册\",\n                    reg_email: \"邮箱验证码注册\",\n                    forget: \"密码找回\",\n                    success: \"登录成功\",\n                },\n                // 第三方登录\n                plugins_thirdpartylogin_data: null,\n                plugins_thirdpartylogin_user: null,\n                // 错误提示信息\n                error_msg: null,\n            };\n        },\n\n        components: {\n            componentPopup\n        },\n\n        // 页面加载初始化\n        onLoad(params) {\n            this.setData({\n                params: params\n            });\n\n            // 上一个页面记录\n            var page = app.globalData.prev_page();\n            if(page != null && page != 'pages/login/login') {\n                uni.setStorageSync(app.globalData.data.cache_prev_page_key, page);\n            }\n\n            // 错误提示信息\n            if((params.msg || null) != null) {\n                var msg = base64.decode(decodeURIComponent(params.msg));\n                this.setData({\n                    error_msg: msg\n                });\n            }\n\n            // 第三方登录成功处理\n            if((params.thirdpartylogin || null) != null) {\n                var user = JSON.parse(base64.decode(decodeURIComponent(params.thirdpartylogin)));\n                this.setData({\n                    plugins_thirdpartylogin_user: user\n                });\n                // 是否需要绑定账号\n                if((user.is_force_bind_user || 0) != 1) {\n                    uni.setStorageSync(app.globalData.data.cache_user_info_key, user);\n                }\n            }\n\n            // 数据初始化\n            this.init();\n        },\n\n        // 页面显示\n        onShow() {            \n            // 异步初始化配置\n            this.init_config();\n\n            // 分享菜单处理\n            app.globalData.page_share_handle();\n        },\n\n        methods: {\n            // 数据初始化\n            init() {\n                // 缓存初始化配置\n                this.init_config(true);\n\n                // 用户信息\n                var user = app.globalData.get_user_cache_info() || null;\n\n                // 数据处理\n                var type = (user == null) ? 'auth' : 'bind';\n                var form = type;\n                // #ifdef H5 || APP\n                if(user == null) {\n                    // 非小程序：如果开启登录则取第一个登录方式\n                    if((this.home_user_login_type || null) != null && this.home_user_login_type.length > 0) {\n                        // 开启登录则取第一个\n                        form = 'login';\n                        type = 'login_'+this.home_user_login_type[0];\n\n                        // 用户登录和验证码获取开启图片验证码\n                        if(this.home_user_login_img_verify_state == 1 || this.common_img_verify_state == 1) {\n                            this.image_verify_event('user_login');\n                        }\n                    }\n                } else {\n                    // 是否需要绑定手机\n                    if (type == 'bind' && !app.globalData.user_is_need_login(user)) {\n                        type = 'bind';\n                        form = 'success';\n                    }\n                }\n                // #endif\n                uni.setNavigationBarTitle({\n                    title: this.current_opt_type_title[type]\n                });\n\n                // 是否参数指定类型和表单\n                if((this.params.opt_type || null) != null)\n                {\n                    type = this.params.opt_type;\n                }\n                if((this.params.opt_form || null) != null)\n                {\n                    form = this.params.opt_form;\n                }\n\n                this.setData({\n                    user: user,\n                    current_opt_type: type,\n                    current_opt_form: form\n                });\n\n                // 登录成功\n                if(this.current_opt_form == 'success') {\n                    var page = uni.getStorageSync(app.globalData.data.cache_prev_page_key) || null;\n                    if(page != null) {\n                        this.setData({prev_page: page});\n                        setTimeout(function() {\n                            app.globalData.url_open('/'+page, true);\n                        }, 2000);\n                    }\n                }\n            },\n\n            // 初始化配置\n            init_config(status) {\n                if ((status || false) == true) {\n                    this.setData({\n                        common_user_onekey_bind_mobile_list: app.globalData.get_config('config.common_user_onekey_bind_mobile_list', []),\n                        home_site_logo_square: app.globalData.get_config('config.home_site_logo_square'),\n                        home_user_login_type: app.globalData.get_config('config.home_user_login_type'),\n                        home_user_reg_type: app.globalData.get_config('config.home_user_reg_type'),\n                        home_user_login_img_verify_state: app.globalData.get_config('config.home_user_login_img_verify_state'),\n                        home_user_register_img_verify_state: app.globalData.get_config('config.home_user_register_img_verify_state'),\n                        common_img_verify_state: app.globalData.get_config('config.common_img_verify_state'),\n                        plugins_thirdpartylogin_config: app.globalData.get_config('plugins_base.thirdpartylogin.data'),\n                        plugins_thirdpartylogin_data: app.globalData.get_config('plugins_thirdpartylogin_data')\n                    });\n                } else {\n                    app.globalData.is_config(this, 'init_config');\n                }\n            },\n\n            // 登录授权事件\n            get_user_info_event(e) {\n                // 是否已同意协议\n                if(!this.agreement_status) {\n                    app.globalData.showToast('请先同意协议');\n                    return false;\n                }\n\n                // #ifdef MP-WEIXIN\n                uni.getUserProfile({\n                    desc: '用于完善会员资料',\n                    lang: 'zh_CN',\n                    success: (res) => {\n                        this.user_auth_code(res.userInfo);\n                    }\n                });\n                // #endif\n                // #ifdef MP-QQ\n                uni.getUserInfo({\n                    withCredentials: true,\n                    lang: 'zh_CN',\n                    success: (res) => {\n                        var userinfo = res.userInfo;\n                        userinfo['encrypted_data'] = res.encryptedData;\n                        userinfo['iv'] = res.iv;\n                        this.user_auth_code(userinfo);\n                    }\n                });\n                // #endif\n                // #ifdef MP-ALIPAY\n                uni.getOpenUserInfo({\n                    success: (res) => {\n                        var userinfo = JSON.parse(res.response).response;\n                        this.user_auth_code(userinfo);\n                    }\n                });\n                // #endif\n                // #ifdef MP-BAIDU\n                var userinfo = e.detail.userInfo;\n                userinfo['encrypted_data'] = e.detail.encryptedData;\n                userinfo['iv'] = e.detail.iv;\n                this.user_auth_code(userinfo);\n                // #endif\n                // #ifdef MP-TOUTIAO\n                uni.getUserProfile({\n                    force: true,\n                    success: (res) => {\n                        // 由于头条getUserProfile内置了login\n                        // 会刷新前面的login会导致后面获取手机号码数据解析失败\n                        // 这里重新获取sessionKey登录\n                        app.globalData.user_login_handle(null, null, false);\n                        // 用户授权登录\n                        this.user_auth_code(res.userInfo);\n                    }\n                });\n                // #endif\n                // #ifdef MP-KUAISHOU\n                var userinfo = e.target.userInfo;\n                this.user_auth_code(e.target.userInfo);\n                // #endif\n            },\n\n            // 用户授权登录\n            // auth_data  授权数据\n            user_auth_code(auth_data) {\n                if ((auth_data || null) != null) {\n                    app.globalData.user_auth_login(this, 'user_auth_back_event', auth_data);\n                } else {\n                    app.globalData.showToast(\"授权失败\");\n                }\n            },\n\n            // 授权返回事件\n            user_auth_back_event() {\n                var user = app.globalData.get_user_cache_info();\n                this.setData({\n                    user: user || null\n                });\n\n                // 是否需要绑定手机号码\n                if (app.globalData.user_is_need_login(user) == false) {\n                    uni.navigateBack();\n                }\n\n                // 初始化\n                this.init();\n            },\n\n            // 输入手机号码事件\n            form_input_mobile_event(e) {\n                this.setData({\n                    form_input_mobile_value: e.detail.value\n                });\n            },\n\n            // 输入邮箱事件\n            form_input_email_event(e) {\n                this.setData({\n                    form_input_email_value: e.detail.value\n                });\n            },\n            \n            // 输入手机和邮箱事件\n            form_input_accounts_event(e) {\n                this.setData({\n                    form_input_accounts_value: e.detail.value\n                });\n            },\n\n            // 输入图片验证码事件\n            form_input_image_verify_event(e) {\n                this.setData({\n                    form_input_image_verify_value: e.detail.value\n                });\n            },\n            \n            // 弹层图片验证码关闭\n            popup_image_verify_close_event(e) {\n                this.setData({\n                    popup_image_verify_status: false\n                });\n            },\n            \n            // 弹层图片验证码确认\n            popup_image_verify_submit_event(e) {\n                this.verify_send_handle();\n            },\n\n            // 短信验证码发送事件\n            verify_send_event() {\n                // 手机号码验证：手机登录、手机注册、手机绑定\n                if(this.current_opt_type == 'login_sms' || this.current_opt_type == 'reg_sms' || this.current_opt_type == 'bind') {\n                    if((this.form_input_mobile_value || null) == null) {\n                        app.globalData.showToast(\"请填写手机号码\");\n                        return false;\n                    }\n                }\n                // 邮箱验证：邮箱登录、邮箱注册\n                if(this.current_opt_type == 'login_email' || this.current_opt_type == 'reg_email') {\n                    if((this.form_input_email_value || null) == null) {\n                        app.globalData.showToast(\"请填写电子邮箱\");\n                        return false;\n                    }\n                }\n                // 密码找回：邮箱或手机\n                if(this.current_opt_type == 'forget' && (this.form_input_accounts_value || null) == null) {\n                    app.globalData.showToast(\"请填写手机或邮箱\");\n                    return false;\n                }\n                // 是否开启图片验证码、绑定操作不使用图片验证码\n                if(this.current_opt_form != 'bind' && this.current_opt_form != 'bind_verify') {\n                    if(this.common_img_verify_state == 1) {\n                        this.setData({\n                            popup_image_verify_status: true\n                        });\n                        return false;\n                    }\n                }\n\n                // 发送验证码处理\n                this.verify_send_handle();\n            },\n            \n            // 短信验证码发送处理\n            verify_send_handle() {\n                // 是否开启图片验证码\n                if(this.current_opt_form != 'bind' && this.current_opt_form != 'bind_verify') {\n                    if(this.common_img_verify_state == 1) {\n                        if((this.form_input_image_verify_value || null) == null || this.form_input_image_verify_value.length < 4) {\n                            app.globalData.showToast(\"请输入有效验证码\");\n                            return false;\n                        }\n                    }\n                }\n                \n                // 请求数据\n                var action = '';\n                var image_verify_type = '';\n                if(this.current_opt_form == 'bind' || this.current_opt_form == 'bind_verify') {\n                    action = 'appmobilebindverifysend';\n                    image_verify_type = 'user_bind';\n                    var post_data = {\n                        mobile: this.form_input_mobile_value || ''\n                    };\n                    if((post_data.mobile || null) == null) {\n                        app.globalData.showToast('请填写手机号码');\n                        return false;\n                    }\n                } else {\n                    if(this.current_opt_form == 'login') {\n                        action = 'loginverifysend';\n                        image_verify_type = 'user_login';\n                    } else if(this.current_opt_form == 'reg') {\n                        action = 'regverifysend';\n                        image_verify_type = 'user_reg';\n                    } else if(this.current_opt_form == 'forget') {\n                        action = 'forgetpwdverifysend';\n                        image_verify_type = 'user_forget';\n                    }\n                    var accounts  = ((this.current_opt_type == 'bind_verify' || this.current_opt_type == 'login_sms' || this.current_opt_type == 'reg_sms') ? this.form_input_mobile_value :  (this.current_opt_type == 'forget' ? this.form_input_accounts_value : this.form_input_email_value)) || null;\n                    if(accounts == null) {\n                        app.globalData.showToast('请填写账号');\n                        return false;\n                    }\n                    var post_data = {\n                        accounts: accounts,\n                        verify: this.form_input_image_verify_value,\n                        type: this.current_opt_type.replace('login_', '').replace('reg_', '')\n                    };\n                }\n\n                // 网络请求\n                var self = this;\n                uni.showLoading({\n                    title: '发送中...'\n                });\n                this.setData({\n                    verify_submit_text: '发送中',\n                    verify_loading: true,\n                    verify_disabled: true\n                });\n                uni.request({\n                    url: app.globalData.get_request_url(action, 'user'),\n                    method: 'POST',\n                    data: post_data,\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            // 是否开启图片验证码\n                            if(this.common_img_verify_state == 1) {\n                                this.setData({\n                                    popup_image_verify_status: false\n                                });\n                            }\n\n                            // 倒计时处理\n                            this.setData({\n                                verify_loading: false\n                            });\n                            var temp_time = this.verify_time_total;\n                            this.temp_clear_time = setInterval(function() {\n                                if (temp_time <= 1) {\n                                    clearInterval(self.temp_clear_time);\n                                    self.setData({\n                                        verify_submit_text: '获取验证码',\n                                        verify_disabled: false\n                                    });\n                                } else {\n                                    temp_time--;\n                                    self.setData({\n                                        verify_submit_text: '剩余 ' + temp_time + ' 秒'\n                                    });\n                                }\n                            }, 1000);\n                        } else {\n                            this.setData({\n                                verify_submit_text: '获取验证码',\n                                verify_loading: false,\n                                verify_disabled: false,\n                                form_input_image_verify_value: ''\n                            });\n                            this.image_verify_event(image_verify_type);\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        this.setData({\n                            verify_submit_text: '获取验证码',\n                            verify_loading: false,\n                            verify_disabled: false,\n                            form_input_image_verify_value: ''\n                        });\n                        this.image_verify_event(image_verify_type);\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 绑定手机表单提交\n            formBind(e) {\n                // 系统参数\n                var params = app.globalData.get_launch_cache_info();\n                \n                // 数据验证\n                var client_type = app.globalData.application_client_type();\n                var field_openid = client_type+'_openid';\n                var field_unionid = client_type+'_unionid';\n                e.detail.value[field_openid] = this.user[field_openid] || '';\n                e.detail.value[field_unionid] = this.user[field_unionid] || '';\n                e.detail.value['nickname'] = this.user.nickname;\n                e.detail.value['avatar'] = this.user.avatar;\n                e.detail.value['province'] = this.user.province;\n                e.detail.value['city'] = this.user.city;\n                e.detail.value['gender'] = this.user.gender;\n                e.detail.value['referrer'] = (params == null) ? ((this.user || null) == null ? 0 : this.user.referrer || 0) : params.referrer || 0;\n                var validation = [\n                    {fields: 'mobile', msg: '请填写手机号码'},\n                    {fields: 'verify', msg: '请填写验证码'}\n                ];\n                // #ifdef MP\n                validation.push({fields: field_openid, msg: '授权id不能为空'});\n                // #endif\n                if (app.globalData.fields_check(e.detail.value, validation)) {\n                    uni.showLoading({\n                        title: '处理中...'\n                    });\n                    this.setData({\n                        form_submit_loading: true\n                    });\n                    \n                    // 网络请求\n                    uni.request({\n                        url: app.globalData.get_request_url('appmobilebind', 'user'),\n                        method: 'POST',\n                        data: e.detail.value,\n                        dataType: 'json',\n                        success: res => {\n                            this.user_success_handle(res);\n                        },\n                        fail: () => {\n                            uni.hideLoading();\n                            this.setData({\n                                form_submit_loading: false\n                            });\n                            app.globalData.showToast('服务器请求出错');\n                        }\n                    });\n                }\n            },\n\n            // 获取手机号码一键登录\n            confirm_phone_number_event(e) {\n                var encrypted_data = e.detail.encryptedData || null;\n                var iv = e.detail.iv || null;\n                var code = e.detail.code || null;\n                if ((encrypted_data != null && iv != null) || code != null) {\n                    // 系统参数、邀请人id\n                    var params = app.globalData.get_launch_cache_info();\n                    var referrer = (params == null) ? ((this.user || null) == null ? 0 : this.user.referrer || 0) : params.referrer || 0;\n                    \n                    // 解密数据并绑定手机\n                    var client_type = app.globalData.application_client_type();\n                    var field_openid = client_type+'_openid';\n                    var field_unionid = client_type+'_unionid';\n                    var data = {\n                        \"encrypted_data\": encrypted_data,\n                        \"iv\": iv,\n                        \"code\": code,\n                        \"openid\": this.user[field_openid] || '',\n                        \"nickname\": this.user.nickname || '',\n                        \"avatar\": this.user.avatar || '',\n                        \"province\": this.user.province || '',\n                        \"city\": this.user.city || '',\n                        \"gender\": this.user.gender || 0,\n                        \"referrer\": referrer\n                    };\n                    data[field_unionid] = this.user[field_unionid] || '';\n                    uni.showLoading({\n                        title: '处理中...'\n                    });\n                    var self = this;\n                    uni.request({\n                        url: app.globalData.get_request_url('onekeyusermobilebind', 'user'),\n                        method: 'POST',\n                        data: data,\n                        dataType: 'json',\n                        success: res => {\n                            this.user_success_handle(res);\n                        },\n                        fail: () => {\n                            uni.hideLoading();\n                            app.globalData.showToast('服务器请求出错');\n                        }\n                    });\n                } else {\n                    var msg = e.errmsg || e.errMsg || e.detail.errmsg || e.detail.errMsg || null;\n                    if(msg != null) {\n                        app.globalData.showToast(msg);\n                    }\n                }\n            },\n            \n            // 登录表单提交\n            formLogin(e) {   \n                // 是否已同意协议\n                if(!this.agreement_status) {\n                    app.globalData.showToast('请先同意协议');\n                    return false;\n                }\n                // 数据验证\n                var validation = [];\n                if(this.current_opt_type == 'login_sms') {\n                    validation.push({fields: 'accounts', msg: '请输入手机号码'});\n                }\n                if(this.current_opt_type == 'login_email') {\n                    validation.push({fields: 'accounts', msg: '请输入电子邮箱'});\n                }\n                if(this.current_opt_type == 'login_username') {\n                    validation.push({fields: 'accounts', msg: '请输入账号'});\n                    validation.push({fields: 'pwd', msg: '请输入密码'});\n                }\n                if(this.current_opt_type == 'login_sms' || this.current_opt_type == 'login_email' || (this.current_opt_type == 'login_username' && this.home_user_login_img_verify_state == 1)) {\n                    validation.push({fields: 'verify', msg: '请输入验证码'});\n                }\n                if (app.globalData.fields_check(e.detail.value, validation)) {\n                    // 登录方式\n                    e.detail.value['type'] = this.current_opt_type.replace('login_', '');\n\n                    // #ifdef MP\n                    // 小程序数据\n                    var client_type = app.globalData.application_client_type();\n                    if((this.user || null) != null) {\n                        var field_openid = client_type+'_openid';\n                        var field_unionid = client_type+'_unionid';\n                        e.detail.value[field_openid] = this.user[field_openid] || '';\n                        e.detail.value[field_unionid] = this.user[field_unionid] || '';\n                    } else {\n                        var login_data = app.globalData.get_login_cache_info();\n                        if(login_data != null) {\n                            var field_openid = client_type+'_openid';\n                            var field_unionid = client_type+'_unionid';\n                            e.detail.value[field_openid] = login_data['openid'] || '';\n                            e.detail.value[field_unionid] = login_data['unionid'] || '';\n                        }\n                    }\n                    // #endif\n\n                    // 网络请求\n                    uni.showLoading({\n                        title: '登录中...'\n                    });\n                    this.setData({\n                        form_submit_loading: true\n                    });\n                    uni.request({\n                        url: app.globalData.get_request_url('login', 'user'),\n                        method: 'POST',\n                        data: e.detail.value,\n                        dataType: 'json',\n                        success: res => {\n                            this.user_success_handle(res);\n                        },\n                        fail: () => {\n                            uni.hideLoading();\n                            this.setData({\n                                form_submit_loading: false\n                            });\n                            app.globalData.showToast('服务器请求出错');\n                        }\n                    });\n                }\n            },\n            \n            // 注册表单提交\n            formReg(e) {   \n                // 是否已同意协议\n                if(!this.agreement_status) {\n                    app.globalData.showToast('请先同意协议');\n                    return false;\n                }\n                // 数据验证\n                var validation = [];\n                if(this.current_opt_type == 'reg_sms') {\n                    validation.push({fields: 'accounts', msg: '请输入手机号码'});\n                }\n                if(this.current_opt_type == 'reg_email') {\n                    validation.push({fields: 'accounts', msg: '请输入电子邮箱'});\n                }\n                if(this.current_opt_type == 'reg_username') {\n                    validation.push({fields: 'accounts', msg: '请输入账号'});\n                    validation.push({fields: 'pwd', msg: '请输入密码'});\n                }\n                if(this.current_opt_type == 'reg_sms' || this.current_opt_type == 'reg_email' || (this.current_opt_type == 'reg_username' && this.home_user_register_img_verify_state == 1)) {\n                    validation.push({fields: 'verify', msg: '请输入验证码'});\n                }\n                if (app.globalData.fields_check(e.detail.value, validation)) {\n                    // 注册方式\n                    e.detail.value['type'] = this.current_opt_type.replace('reg_', '');\n                    \n                    // #ifdef MP\n                    // 小程序数据\n                    var client_type = app.globalData.application_client_type();\n                    if((this.user || null) != null) {\n                        var field_openid = client_type+'_openid';\n                        var field_unionid = client_type+'_unionid';\n                        e.detail.value[field_openid] = this.user[field_openid] || '';\n                        e.detail.value[field_unionid] = this.user[field_unionid] || '';\n                        e.detail.value['nickname'] = this.user.nickname;\n                        e.detail.value['avatar'] = this.user.avatar;\n                        e.detail.value['province'] = this.user.province;\n                        e.detail.value['city'] = this.user.city;\n                        e.detail.value['gender'] = this.user.gender;\n                    } else {\n                        var login_data = app.globalData.get_login_cache_info();\n                        if(login_data != null) {\n                            var field_openid = client_type+'_openid';\n                            var field_unionid = client_type+'_unionid';\n                            e.detail.value[field_openid] = login_data['openid'] || '';\n                            e.detail.value[field_unionid] = login_data['unionid'] || '';\n                        }\n                    }\n                    // #endif\n\n                    // 系统参数、邀请人id\n                    var params = app.globalData.get_launch_cache_info();\n                    e.detail.value['referrer'] = (params == null) ? ((this.user || null) == null ? 0 : this.user.referrer || 0) : params.referrer || 0;\n\n                    // 网络请求\n                    uni.showLoading({\n                        title: '注册中...'\n                    });\n                    this.setData({\n                        form_submit_loading: true\n                    });\n                    uni.request({\n                        url: app.globalData.get_request_url('reg', 'user'),\n                        method: 'POST',\n                        data: e.detail.value,\n                        dataType: 'json',\n                        success: res => {\n                            this.user_success_handle(res);\n                        },\n                        fail: () => {\n                            uni.hideLoading();\n                            this.setData({\n                                form_submit_loading: false\n                            });\n                            app.globalData.showToast('服务器请求出错');\n                        }\n                    });\n                }\n            },\n            \n            // 密码找回表单提交\n            formForget(e) {   \n                // 数据验证\n                var validation = [\n                    {fields: 'accounts', msg: '请输入手机或邮箱'},\n                    {fields: 'verify', msg: '请输入验证码'},\n                    {fields: 'pwd', msg: '请设置密码'}\n                ];\n                if (app.globalData.fields_check(e.detail.value, validation)) {\n                    // 网络请求\n                    uni.showLoading({\n                        title: '处理中...'\n                    });\n                    this.setData({\n                        form_submit_loading: true\n                    });\n                    uni.request({\n                        url: app.globalData.get_request_url('forgetpwd', 'user'),\n                        method: 'POST',\n                        data: e.detail.value,\n                        dataType: 'json',\n                        success: res => {\n                            uni.hideLoading();\n                            if(res.data.code == 0) {\n                                app.globalData.showToast(res.data.msg, 'success');\n                                var self = this;\n                                setTimeout(function() {\n                                    var opt_type = ((self.home_user_login_type || null) != null && self.home_user_login_type.length > 0) ? 'login_'+self.home_user_login_type[0] : null;\n                                    self.setData({\n                                        form_submit_loading: false,\n                                        current_opt_form: \"login\",\n                                        current_opt_type: opt_type\n                                    });\n                                    if(opt_type != null) {\n                                        // 是否开启图片验证码\n                                        if(self.home_user_login_img_verify_state == 1 || self.common_img_verify_state == 1) {\n                                            self.image_verify_event('user_login');\n                                        }\n                                    }\n                                }, 3000);\n                            } else {\n                                this.setData({\n                                    form_submit_loading: false\n                                });\n                                app.globalData.showToast(res.data.msg);\n                            }\n                        },\n                        fail: () => {\n                            uni.hideLoading();\n                            this.setData({\n                                form_submit_loading: false\n                            });\n                            app.globalData.showToast('服务器请求出错');\n                        }\n                    });\n                }\n            },\n            \n            // 登录和注册成功回调处理\n            user_success_handle(res) {\n                if (res.data.code == 0 && (res.data.data || null) != null) {\n                    // 清除定时任务并存储用户信息\n                    clearInterval(this.temp_clear_time);\n                    uni.setStorageSync(app.globalData.data.cache_user_info_key, res.data.data);\n\n                    // 是否强制绑定账号处理\n                    if((this.plugins_thirdpartylogin_user || null) != null && (this.plugins_thirdpartylogin_user.is_force_bind_user || 0) == 1) {\n                        uni.request({\n                            url: app.globalData.get_request_url('bind', 'index', 'thirdpartylogin'),\n                            method: 'POST',\n                            data: this.plugins_thirdpartylogin_user,\n                            dataType: 'json',\n                            success: res => {\n                                if(res.data.code == 0) {\n                                    uni.hideLoading();\n                                    uni.setStorageSync(app.globalData.data.cache_user_info_key, res.data.data);\n                                    this.success_back_handle(res);\n                                } else {\n                                    uni.hideLoading();\n                                    this.setData({\n                                        form_submit_loading: false\n                                    });\n                                    app.globalData.showToast(res.data.msg);\n                                }\n                            },\n                            fail: () => {\n                                uni.hideLoading();\n                                this.setData({\n                                    form_submit_loading: false\n                                });\n                                app.globalData.showToast('服务器请求出错');\n                            }\n                        });\n                    } else {\n                        uni.hideLoading();\n                        this.success_back_handle(res);\n                    }\n                } else {\n                    uni.hideLoading();\n                    this.setData({\n                        form_submit_loading: false\n                    });\n                    app.globalData.showToast(res.data.msg);\n                }\n            },\n            \n            // 成功后处理\n            success_back_handle(res) {\n                var self = this;\n                app.globalData.showToast(res.data.msg, 'success');\n                var event_callback = this.params.event_callback || null;\n                setTimeout(function() {\n                    var pages = getCurrentPages();\n                    if(pages.length > 1) {\n                        // 触发回调函数\n                        if (event_callback != null) {\n                            if((pages[pages.length-2][event_callback] || null) != null) {\n                                pages[pages.length-2][event_callback]();\n                            }\n                        }\n                        // 默认返回上一页\n                        uni.navigateBack();\n                    } else {\n                        // 仅一个页面则执行成功返回\n                        self.success_event();\n                    }\n                }, 1000);\n            },\n\n            // 协议事件\n            agreement_event(e) {\n                var value = e.currentTarget.dataset.value || null;\n                if (value == null) {\n                    app.globalData.showToast('协议类型有误');\n                    return false;\n                }\n\n                // 是否存在协议 url 地址\n                var key = 'agreement_' + value + '_url';\n                var url = app.globalData.get_config('config.' + key) || null;\n                if (url == null) {\n                    app.globalData.showToast('协议url地址有误');\n                    return false;\n                }\n\n                // 打开 webview\n                app.globalData.open_web_view(url);\n            },\n\n            // 协议改变\n            agreement_change(e) {\n                this.setData({\n                    agreement_status: !this.agreement_status\n                });\n            },\n\n            // 表单类型事件\n            opt_form_event(e) {\n                var value = e.currentTarget.dataset.value;\n                // 手机更换绑定来源则直接返回\n                if(value == 'bind' && (this.params.opt_form || null) != null && this.params.opt_form == 'bind_verify') {\n                    uni.navigateBack();\n                }\n\n                // 设置数据\n                var data = {\n                    current_opt_form: value\n                };\n\n                // 小程序使用授权自动登录\n                // 切换手机绑定方式\n                if(value == 'auth' || value == 'bind') {\n                    data['current_opt_type'] = value;\n                }\n\n                // 密码找回同时设置表单类型\n                if(value == 'forget') {\n                    data['current_opt_type'] = 'forget';\n                    if(this.common_img_verify_state == 1) {\n                        this.image_verify_event('user_forget');\n                    }\n                }\n\n                // 开启登录则取第一个\n                if(value == 'login' && this.home_user_login_type.length > 0) {\n                    data['current_opt_type'] = 'login_'+this.home_user_login_type[0];\n                    // 是否开启图片验证码\n                    if(this.home_user_login_img_verify_state == 1 || this.common_img_verify_state == 1) {\n                        this.image_verify_event('user_login');\n                    }\n                }\n\n                // 开启注册则取第一个\n                if(value == 'reg' && this.home_user_reg_type.length > 0) {\n                    data['current_opt_type'] = 'reg_'+this.home_user_reg_type[0];\n                    // 是否开启图片验证码\n                    if(this.home_user_register_img_verify_state == 1 || this.common_img_verify_state == 1) {\n                        this.image_verify_event('user_reg');\n                    }\n                }\n                this.setData(data);\n\n                // 标题\n                if((data.current_opt_type || null) != null) {\n                    uni.setNavigationBarTitle({\n                        title: this.current_opt_type_title[data.current_opt_type]\n                    });\n                }\n            },\n            \n            // 操作类型事件\n            opt_type_event(e) {\n                var value = e.currentTarget.dataset.value || null;\n                if(value != null) {\n                    this.setData({\n                        current_opt_type: value\n                    });\n\n                    // 图片验证码\n                    if(value == 'login_username' && this.home_user_login_img_verify_state == 1) {\n                        this.image_verify_event('user_login');\n                    }\n                    if((value == 'login_sms' || value == 'login_email') && this.common_img_verify_state == 1) {\n                        this.image_verify_event('user_login');\n                    }\n                    if(value == 'reg_username' && this.home_user_register_img_verify_state == 1) {\n                        this.image_verify_event('user_reg');\n                    }\n                    if((value == 'reg_sms' || value == 'reg_email') && this.common_img_verify_state == 1) {\n                        this.image_verify_event('user_reg');\n                    }\n\n                    // 标题\n                    uni.setNavigationBarTitle({\n                        title: this.current_opt_type_title[value]\n                    });\n                }\n            },\n            \n            // 图片验证码事件\n            image_verify_event(e) {\n                var type = (typeof e == 'string') ? e : e.currentTarget.dataset.type || null;\n                if(type !== null) {\n                    var tv = app.globalData.get_timestamp();\n                    var url = app.globalData.get_request_url('userverifyentry', 'user', '', 'type='+type+'&t='+tv);\n                    this.setData({\n                        verify_image_url: url\n                    });\n                }\n            },\n            \n            // 缓存数据刷新\n            cache_refresh_event(e) {\n                app.globalData.init_config();\n                var self = this;\n                uni.showLoading({\n                    title: '刷新中...'\n                });\n                setTimeout(function() {\n                    self.init();\n                    uni.hideLoading();\n                }, 3000);\n            },\n            \n            // 第三方登录事件\n            plugins_thirdpartylogin_event(e) {\n                // 是否已同意协议\n                if(!this.agreement_status) {\n                    app.globalData.showToast('请先同意协议');\n                    return false;\n                }\n                // 直接跳转到登录地址、这里还可以根据终端类型进行处理业务逻辑\n                var type = e.currentTarget.dataset.type || null;\n                var url = e.currentTarget.dataset.url || null;\n                window.location.href = url;\n            },\n\n            // 第三方登录绑定账号取消\n            plugins_thirdpartylogin_cancel_event(e) {\n                uni.redirectTo({\n                    url: '/pages/login/login'\n                });\n            },\n\n            // 成功返回\n            success_event(e) {\n                var url = (this.prev_page == null) ? app.globalData.data.tabbar_pages[0] : this.prev_page;\n                app.globalData.url_open(url, true);\n            }\n        }\n    };\n</script>\n<style>\n    @import './login.css';\n</style>","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678688328997\n      var cssReload = require(\"D:/HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}