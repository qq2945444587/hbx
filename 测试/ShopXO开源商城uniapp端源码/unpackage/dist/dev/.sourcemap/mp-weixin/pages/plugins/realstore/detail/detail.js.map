{"version":3,"sources":["uni-app:///main.js","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?7907","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?7c8f","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?ba25","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?14f3","uni-app:///pages/plugins/realstore/detail/detail.vue","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?41bf","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/plugins/realstore/detail/detail.vue?c72f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","status_bar_height","common_static_url","data_list_loding_status","data_list_loding_msg","currency_symbol","cache_buy_use_type_index_key","buy_use_type_index","params","is_first","scroll_top","scroll_top_old","user","info","goods_category","data_list","data_total","data_page_total","data_page","cart","goods_count","data_base","favor_user","tablecode","category","goods_list","search_keywords_value","nav_active_index","nav_active_item_index","cart_status","popup_spec_status","goods_spec_base_price","goods_spec_base_original_price","goods_spec_base_inventory","goods_spec_base_images","goods_choose_data","goods_specifications_choose","favor_info","user_location","share_info","is_single_page","is_realstore_top_nav_back","components","componentNoData","componentSearch","componentBadge","componentPopup","props","onLoad","onShow","onPullDownRefresh","methods","init_config","app","get_detail_init","uni","url","method","dataType","success","title","desc","path","query","img","fail","get_data_list","mask","id","page","keywords","category_id","temp_data_list","data_bottom_line_status","favor_event","buy_number_event","temp_specifications","buy_number_event_handle","cart_item","cart_buy_number_event","cart_all_delete_event","content","confirmText","cancelText","ids","buy_number_handle","buy_number","opt_number","cart_save","cart_update","cart_delete","get_cart_data","cart_data_list_handle","is_status_check","search_button_event","search_icon_event","value","self","cart_event","buy_submit_event","text_copy_event","address_map_event","tel_event","image_show_event","nav_event","reset_scroll","scroll_event","scroll_lower","top_nav_left_back_event","user_location_init","name","address","lat","lng","buy_use_type_event","itemList","get_buy_use_type_index","temp_index","index","request_params_merge","popup_spec_close_event","goods_specifications_event","goods_specifications_handle","temp_data","temp_images","spec_selected","goods_spec_selected_text","goods_specifications_choose_handle_dont","key","get_goods_specifications_type","spec","realstore_id","temp_status","get_goods_specifications_detail","stock","goods_selected_spec","goods_spec_detail_back_handle","goods_spec_confirm_event","active_count","goods_spec_base_images_view_event","current","urls","url_event"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmH;AACnH;AAC0D;AACL;AACa;;;AAGlE;AACyK;AACzK,gBAAgB,kLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,iFAAM;AACR,EAAE,0FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAonB,CAAgB,yoBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8QxoB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAMA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACA;QACA;QACA;MACA;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EAEAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;EAEAC;IACA;MACAxC;MACAI;IACA;EACA;EAEAqC;IACA;IACA;MACA1C;IACA;;IAEA;IACA;;IAEA;IACA;;IAEA;IACA;EACA;EAEA;EACA2C;IACA;MACAhC;IACA;IACA;IACA;EACA;EAEAiC;IACA;IACAC;MACA;QACA;UACA/C;QACA;MACA;QACAgD;MACA;IACA;IAEA;IACAC;MAAA;MACAC;QACAC;QACAC;QACAzD;UACA;QACA;QACA0D;QACAC;UACAJ;UACA;YACA;YACA;cACAlC;cACAR;cACAC;cACAQ;cACAC;YACA;;YAEA;YACA;cACAhB;YACA;;YAEA;YACA;cACA;cACA;cACA;gBACA8B;kBACA;kBACA;kBACA;gBACA;cACA;;cAEA;cACA;gBACAE;kBACAqB;kBACAC;kBACAC;kBACAC;kBACAC;gBACA;cACA;;cAEA;cACAT;gBACAK;cACA;;cAEA;cACA;cACA;gBACA;gBACA;gBACA;kBAAAnD;gBAAA;cACA;gBACA;gBACA;kBACAU;gBACA;gBACA;gBACA;cACA;YACA;UACA;YACA;cACAhB;cACAC;YACA;UACA;;UAEA;UACAiD;QACA;QACAY;UACAV;UACA;YACApD;YACAC;UACA;UACAiD;QACA;MACA;IACA;IAEA;IACAa;MAAA;MACA;MACA;QACA;UACAX;UACA;QACA;MACA;;MAEA;MACAA;QACAK;QACAO;MACA;;MAEA;MACA;MACA;QACA;MACA;QACA;MACA;;MAEA;MACAZ;QACAC;QACAC;QACAzD;UACAoE;UACAC;UACAC;UACAC;QACA;QACAb;QACAC;UACAJ;UACAA;UACA;YACA;YACA;cACA;gBACA;cACA;gBACA;gBACA;gBACA;kBACAiB;gBACA;cACA;cACA;gBACAzD;gBACAC;gBACAC;gBACAd;gBACAe;cACA;;cAEA;cACA;gBACAuD;cACA;YACA;cACA;gBACAtE;cACA;cACA;gBACA;kBACAY;kBACA0D;gBACA;cACA;YACA;UACA;YACA;cACAtE;cACAC;YACA;YACAiD;UACA;QACA;QACAY;UACAV;UACAA;UACA;YACApD;YACAC;UACA;UACAiD;QACA;MACA;IACA;IAEA;IACAqB;MAAA;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACAnB;YACAC;UACA;UACA;QACA;UACAD;YACAK;UACA;UACAL;YACAC;YACAC;YACAzD;cACA;YACA;YACA0D;YACAC;cACAJ;cACA;gBACA;kBACAlB;gBACA;gBACAgB;cACA;gBACA;kBACAA;gBACA;cACA;YACA;YACAY;cACAV;cACAF;YACA;UACA;QACA;MACA;IACA;IAEA;IACAsB;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACApB;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;;UAEA;UACA;YACA;YACA;cACA;gBACA3B;cACA;cACAwB;YACA;cACA;cACA;cACA;gBACA;kBACA;oBACAuB;oBACA;sBACAA;oBACA;kBACA;gBACA;cACA;cACA;gBACA9C;gBACAK;gBACAC;gBACAL;gBACAC;gBACAC;gBACAC;cACA;YACA;YACA;UACA;;UAEA;UACA;QACA;MACA;IACA;IAEA;IACA2C;MAAA;MACA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;QACA;QACA;UACA;YACA;YACA;cACAC;YACA;YACA;UACA;QACA;MACA;;MAEA;MACA;QACA;UACAzB;UACA;QACA;QACA;MACA;QACA;MACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACA0B;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACAxB;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;UACA;;UAEA;UACA;UACA;YACA;UACA;;UAEA;UACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAwB;MAAA;MACAzB;QACAK;QACAqB;QACAC;QACAC;QACAxB;UACA;YACA;YACA;YACA;cACAyB;YACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;QACAA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;QACA;UACA;YACAA;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;MACA;QACAjC;QACA;MACA;MACA;QACAA;QACA;MACA;MACA;QACAA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACAkC;QACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;MACAjC;QACAK;MACA;MACAL;QACAC;QACAC;QACAzD;UACA;UACA;UACA;QACA;QACA0D;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;UACA;QACA;QACAY;UACAV;UACAF;QACA;MACA;IACA;IAEA;IACAoC;MAAA;MACAlC;QACAK;QACAO;MACA;MACAZ;QACAC;QACAC;QACAzD;UACA;UACA;UACA;QACA;QACA0D;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;cACAA;YACA;UACA;QACA;QACAY;UACAV;UACAF;QACA;MACA;IACA;IAEA;IACAqC;MAAA;MACAnC;QACAK;QACAO;MACA;MACAZ;QACAC;QACAC;QACAzD;UACA;QACA;QACA0D;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;cACAA;YACA;UACA;QACA;QACAY;UACAV;UACAF;QACA;MACA;IACA;IAEA;IACAsC;MAAA;MAAA;MACApC;QACAC;QACAC;QACAzD;UACA;QACA;QACA0D;QACAC;UACA;YACA;cACAxC;YACA;YACA;;YAEA;YACA;cACA;gBACAU;cACA;YACA;UACA;YACAwB;UACA;QACA;QACAY;UACAZ;QACA;MACA;IACA;IAEA;IACAuC;MACA;MACA;QACA;QACA;UACA;YACApB;YACA;cACA;gBACA;kBACAA;gBACA;cACA;YACA;UACA;QACA;QACA;UACAzD;QACA;MACA;IACA;IAEA;IACA8E;MACA;QACAxC;QACA;MACA;QACA;UACAA;UACA;QACA;MACA;MACA;IACA;IAEA;IACAyC;MACA;QACApE;QACAR;MACA;MACA;MACA;IACA;IAEA;IACA6E;MACA;MACA;QACA;QACA;UACAxC;YACAC;UACA;UACA;QACA;UACA;UACA;YACA;UACA;;UAEA;UACA;UACAD;YACAI;cACAJ;gBACAK;gBACAO;cACA;cACAZ;gBACAC;gBACAC;gBACAzD;kBACAgG;gBACA;gBACAtC;gBACAC;kBACAJ;kBACA;oBACA;sBACAF;oBACA;sBACA;sBACA4C;oBACA;kBACA;oBACA;sBACA5C;oBACA;sBACAA;oBACA;kBACA;gBACA;gBACAY;kBACAV;kBACAF;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACA6C;MACA;QACArE;MACA;IACA;IAEA;IACAsE;MACA;QACA;MACA;;MAEA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;QACA;UACAf;QACA;MACA;MACA;QACA/B;QACA;MACA;;MAEA;MACA;MACA;QACA;QACA;QACA;UACA;UACA;YACAA;YACA;UACA;QACA;UACAA;UACA;QACA;MACA;;MAEA;MACA;QACA;QACA;MACA;MACAE;QACAC;MACA;IACA;IAEA;IACA4C;MACA/C;IACA;IAEA;IACAgD;MACA;MACA;QACAhD;QACA;MACA;;MAEA;MACA;MACAA;IACA;IAEA;IACAiD;MACAjD;IACA;IAEA;IACAkD;MACAlD;IACA;IAEA;IACAmD;MACA;QACA7E;QACAC;QACAV;MACA;MACA;MACA;IACA;IAEA;IACAuF;MAAA;MACA;QACA/F;MACA;MACA;QACA;UACAA;QACA;MACA;IACA;IAEA;IACAgG;MACA;QACA/F;MACA;IACA;IAEA;IACAgG;MACA;IACA;IAEA;IACAC;MACA;MACA;QACArD;UACAC;QACA;MACA;QACAD;MACA;IACA;IAEA;IACAsD;MACA;MACA;MACA;QACA7G;UACA8G;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACA3E;MACA;IACA;IAEA;IACA4E;MACA;MACA3D;QACA4D;UAAA;QAAA;QACAxD;UACAsC;YACA1F;YACAW;UACA;UACAqC;UACA0C;UACAA;UACAA;QACA;MACA;IACA;IAEA;IACAmB;MACA;MACA;QACA;QACA;UACA;UACA;YACA;YACA;YACA;cACA;gBACAC;cACA;YACA;YACA;cACAC;YACA;UACA;QACA;;QAEA;QACA;UACAA;QACA;MACA;MACA;IACA;IAEA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;QACA;UACAD;QACA;QACAtH;MACA;;MAEA;MACA;QACA;QACA;UACAA;QACA;MACA;;MAEA;MACA;QACA;QACA;QACA;QACA;UACAiH;UACAD;QACA;QACAhH;QACAA;MACA;;MAEA;MACA;QACA;QACAA;;QAEA;QACA;UACAA;QACA;MACA;MAEA;IACA;IAEA;IACAwH;MACA;QACA1F;MACA;IACA;IAEA;IACA2F;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;UACA;YACA;cACA;gBACA;kBACAC;kBACA;oBACAC;kBACA;gBACA;kBACAD;gBACA;cACA;YACA;UACA;QACA;QACA;UACAvF;UACAF;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA,6DACA;YACA2F;UACA;QACA;MACA;MACA;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;;MAEA;MACAC;MACA;QACA;UACA;YACAL;YACAA;YACAA;UACA;;UAEA;UACA;YACAA;UACA;QACA;MACA;MAEA;QACAvF;MACA;IACA;IAEA;IACA6F;MAAA;MACA;MACA;MACA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA;YACAC;cACA;cACA;YACA;YACA;UACA;QACA;MACA;MACA;QACA;MACA;;MAEA;MACA3E;QACAC;QACAC;QACAzD;UACAoE;UACA8D;UACA3H;UACA4H;QACA;QACAzE;QACAC;UACA;YACA;YACA;YACA;YACA;cACA;gBACA;kBACA;oBACAgE;oBACA;oBACA;oBACA;sBACA;wBACAS;wBACA;sBACA;oBACA;oBACA;sBACAT;oBACA;sBACAA;oBACA;kBACA;gBACA;cACA;cACA;gBACAvF;cACA;YACA;UACA;YACAiB;UACA;QACA;QACAY;UACAZ;QACA;MACA;IACA;IAEA;IACAgF;MAAA;MACA;MACA;;MAEA;MACA;MACA;MACA;QACA;UACAtG;UACAC;UACAC;QACA;QACA;MACA;;MAEA;MACAsB;QACAC;QACAC;QACAzD;UACAoE;UACA8D;UACAI;UACA/H;UACA4H;QACA;QACAzE;QACAC;UACA;YACA;UACA;YACAN;UACA;QACA;QACAY;UACAZ;QACA;MACA;IACA;IAEA;IACAkF;MACA;MACA;MACA;QACA;UACA;YACAL;cACA;cACA;YACA;YACA;UACA;QACA;MACA;MACA;IACA;IAEA;IACAM;MACA;MACA;QACAzG;QACAC;QACAC;MACA;MACA;IACA;IAEA;IACAwG;MACA;MACA;QACA;QACA;UACAlF;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;YACA;cACA;gBACA;kBACAkF;kBACAR;oBACA;oBACA;kBACA;gBACA;cACA;YACA;YAEA;cACA7E;cACA;YACA;UACA;;UAEA;UACA;YACA;cACAvB;YACA;UACA;QACA;MACA;IACA;IAEA;IACA6G;MACA;MACA;QACApF;UACAqF;UACAC;QACA;MACA;IACA;IAEA;IACAC;MACAzF;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC7kDA;AAAA;AAAA;AAAA;AAA84B,CAAgB,w4BAAG,EAAC,C;;;;;;;;;;;ACAl6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/plugins/realstore/detail/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/plugins/realstore/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=cbe9c82a&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/plugins/realstore/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=cbe9c82a&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    (_vm.info || null) != null\n      ? (_vm.info.buy_use_type_list || null) != null &&\n        _vm.info.buy_use_type_list.length > 0\n      : null\n  var g1 =\n    (_vm.info || null) != null\n      ? (_vm.info.buy_use_type_list || null) != null &&\n        _vm.info.buy_use_type_list.length > 0\n      : null\n  var g2 =\n    (_vm.info || null) != null\n      ? (_vm.goods_category || null) != null && _vm.goods_category.length > 0\n      : null\n  var g3 =\n    (_vm.info || null) != null\n      ? (_vm.goods_category || null) != null &&\n        _vm.goods_category.length > 0 &&\n        _vm.nav_active_index != -1 &&\n        (_vm.goods_category[_vm.nav_active_index][\"items\"] || null) != null &&\n        _vm.goods_category[_vm.nav_active_index][\"items\"].length > 0\n      : null\n  var g4 =\n    (_vm.info || null) != null\n      ? (_vm.data_list || null) != null && _vm.data_list.length > 0\n      : null\n  var g5 =\n    (_vm.info || null) != null && _vm.cart_status\n      ? (_vm.cart || null) != null &&\n        (_vm.cart.data || null) != null &&\n        _vm.cart.data.length > 0\n      : null\n  var g6 =\n    (_vm.info || null) != null ? _vm.goods_specifications_choose.length : null\n  var l0 =\n    (_vm.info || null) != null && g6 > 0\n      ? _vm.__map(_vm.goods_specifications_choose, function (item, key) {\n          var $orig = _vm.__get_orig(item)\n          var g7 = item.value.length\n          return {\n            $orig: $orig,\n            g7: g7,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        g5: g5,\n        g6: g6,\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view v-if=\"(info || null) != null\">\n            <view class=\"pr\">\n                <!-- 头部 -->\n                <view class=\"header\" :style=\"'background-image: url('+info.banner+');'\">\n                    <!-- 顶部 -->\n                    <view v-if=\"is_single_page == 0\" class=\"header-top padding-horizontal-main\" :style=\"'padding-top:'+(status_bar_height+8)+'px;'\">\n                        <!-- 返回 -->\n                        <!-- #ifdef MP-WEIXIN || MP-QQ || MP-KUAISHOU || H5 || APP -->\n                        <view v-if=\"is_realstore_top_nav_back == 1\" class=\"nav-back dis-inline-block round tc va-m\" @tap=\"top_nav_left_back_event\">\n                            <uni-icons type=\"arrowleft\" size=\"20\" color=\"#fff\"></uni-icons>\n                        </view>\n                        <!-- #endif -->\n                        <!-- 搜索 -->\n                        <view :class=\"'fr va-m '+(is_realstore_top_nav_back == 1 ? 'nav-search' : 'wh-auto')\">\n                            <!-- #ifndef H5 -->\n                            <component-search @onsearch=\"search_button_event\" @onicon=\"search_icon_event\" :propIsIconOnEvent=\"true\" :propIsOnEvent=\"true\" :propIsRequired=\"false\" propIcon=\"scan\" propIconColor=\"#fff\" propPlaceholderClass=\"cr-grey\" propTextColor=\"#fff\" propPlaceholder=\"商品搜索\" propBgColor=\"rgba(0, 0, 0, 0.1)\" propBrColor=\"rgb(205 205 205 / 60%)\"></component-search>\n                            <!-- #endif -->\n                            <!-- #ifdef H5 -->\n                            <component-search @onsearch=\"search_button_event\" :propIsOnEvent=\"true\" :propIsRequired=\"false\" propIconColor=\"#9A9A9A\" propPlaceholderClass=\"cr-grey\" propTextColor=\"#fff\" propPlaceholder=\"商品搜索\" propBgColor=\"rgba(0, 0, 0, 0.1)\" propBrColor=\"rgb(205 205 205 / 60%)\"></component-search>\n                            <!-- #endif -->\n                        </view>\n                    </view>\n                    <!-- 桌码 -->\n                    <view v-if=\"(tablecode || null) != null\" class=\"tablecode dis-inline-block margin-left-main round cr-red\">\n                        {{tablecode.name}}({{tablecode.code}})\n                    </view>\n                </view>\n                <!-- 头部基础内容 -->\n                <view class=\"header-content margin-main padding-main border-radius-main bg-white pa br\">\n                    <view class=\"base oh\">\n                        <!-- 基础内容 -->\n                        <image :src=\"info.logo\" mode=\"widthFix\" class=\"logo circle fl br\" :data-value=\"info.logo\" @tap=\"image_show_event\"></image>\n                        <view class=\"base-right fr\">\n                            <view v-if=\"(info.buy_use_type_list || null) != null && info.buy_use_type_list.length > 0\" class=\"use-type-icon pa text-size-xs cr-white bg-main\" @tap=\"buy_use_type_event\">\n                                <text class=\"va-m margin-right-xs\">{{info.buy_use_type_list[buy_use_type_index]['name']}}</text>\n                                <view class=\"dis-inline-block va-m\">\n                                    <uni-icons type=\"arrowdown\" size=\"12\" color=\"#fff\"></uni-icons>\n                                </view>\n                            </view>\n                            <view :class=\"'title fw-b text-size single-text '+((info.buy_use_type_list || null) != null && info.buy_use_type_list.length > 0 ? 'title-length-limit' : '')\">\n                                <text v-if=\"(info.alias || null) != null\" class=\"va-m title-icon round br-main cr-main text-size-xs padding-left-sm padding-right-sm margin-right-xs\">{{info.alias}}</text>\n                                <text class=\"va-m\">{{info.name}}</text>\n                            </view>\n                            <view class=\"margin-top-xs text-size-xs cr-grey\">\n                                <view v-if=\"(info.status_info.time || null) != null\">营业时间：{{info.status_info.time}}</view>\n                                <view v-if=\"(info.distance || null) != null\">距离您{{info.distance}}</view>\n                            </view>\n                        </view>\n                    </view>\n                    <!-- 地址 -->\n                    <view class=\"margin-top-sm oh cp\">\n                        <view class=\"dis-inline-block va-m\">\n                            <uni-icons type=\"location-filled\" size=\"12\" color=\"#8d8d8d\"></uni-icons>\n                        </view>\n                        <view class=\"address-content single-text cr-base margin-left-xs dis-inline-block text-size-sm va-m\" :data-value=\"info.province_name+info.city_name+info.county_name+info.address\" @tap=\"text_copy_event\">{{info.province_name}}{{info.city_name}}{{info.county_name}}{{info.address}}</view>\n                    </view>\n                    <!-- 右侧操作 -->\n                    <view class=\"icon-list pa\">\n                        <!-- #ifndef MP-KUAISHOU -->\n                        <view v-if=\"(info.lat != 0 && info.lng != 0)\" class=\"icon-item bg-green circle dis-inline-block tc cp\" @tap=\"address_map_event\">\n                            <uni-icons type=\"paperplane-filled\" size=\"12\" color=\"#fff\"></uni-icons>\n                        </view>\n                        <!-- #endif -->\n                        <view v-if=\"(info.service_tel || null) != null\" class=\"icon-item bg-yellow circle dis-inline-block tc cp\" @tap=\"tel_event\">\n                            <uni-icons type=\"phone-filled\" size=\"12\" color=\"#fff\"></uni-icons>\n                        </view>\n                        <view :class=\"'icon-item circle dis-inline-block tc cp pr '+((favor_info.status == 1) ? 'bg-red' : 'bg-gray')\" @tap=\"favor_event\">\n                            <uni-icons type=\"heart-filled\" size=\"12\" color=\"#fff\"></uni-icons>\n                            <view class=\"badge-icon pa\">\n                                <component-badge :propNumber=\"favor_info.count\"></component-badge>\n                            </view>\n                        </view>\n                    </view>\n                </view>\n            </view>\n            \n            <!-- 内容 -->\n            <view class=\"content oh\">\n                <!-- 左侧 -->\n                <scroll-view :scroll-y=\"true\" class=\"left-content fl ht-auto bg-white\">\n                    <view class=\"left-content-actual\">\n                        <view :class=\"'item tc cr-base text-size-sm cp ' + (nav_active_index == -1 ? 'active cr-main border-color-main fw-b' : '')\" :data-index=\"-1\" :data-itemindex=\"-1\" @tap=\"nav_event\">全部</view>\n                        <block v-if=\"(goods_category || null) != null && goods_category.length > 0\">\n                            <block v-for=\"(item, index) in goods_category\" :key=\"index\">\n                                <view :class=\"'item tc cr-base text-size-sm pr cp ' + (nav_active_index == index ? 'active cr-main border-color-main fw-b' : '')\" :data-index=\"index\" :data-itemindex=\"-1\" @tap=\"nav_event\">\n                                    <text>{{item.name}}</text>\n                                    <view v-if=\"(item.buy_number || 0) > 0\" class=\"badge-icon pa\">\n                                        <component-badge :propNumber=\"item.buy_number\"></component-badge>\n                                    </view>\n                                </view>\n                            </block>\n                        </block>\n                    </view>\n                </scroll-view>\n                <!-- 右侧 -->\n                <scroll-view :scroll-y=\"true\" class=\"right-content padding-right-main fr ht-auto goods-list\" :scroll-top=\"scroll_top\" @scroll=\"scroll_event\" @scrolltolower=\"scroll_lower\" lower-threshold=\"30\">\n                    <view class=\"right-content-actual pr\">\n                        <!-- 二级分类 -->\n                        <view v-if=\"(goods_category || null) != null && goods_category.length > 0 && nav_active_index != -1 && (goods_category[nav_active_index]['items'] || null) != null && goods_category[nav_active_index]['items'].length > 0\" class=\"word-list scroll-view-horizontal\">\n                            <scroll-view scroll-x>\n                                <view :class=\"'word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right '+((nav_active_item_index == -1) ? 'bg-main-light br-main-light cr-main' : 'br-gray cr-gray')\" :data-index=\"nav_active_index\" :data-itemindex=\"-1\" @tap=\"nav_event\">全部</view>\n                                <block v-for=\"(cv, ci) in goods_category[nav_active_index]['items']\" :key=\"ci\">\n                                    <view :class=\"'word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right '+((nav_active_item_index != -1 && nav_active_item_index == ci) ? 'bg-main-light br-main-light cr-main' : 'br-gray cr-gray')\" :data-index=\"nav_active_index\" :data-itemindex=\"ci\" @tap=\"nav_event\">{{cv.name}}</view>\n                                </block>\n                            </scroll-view>\n                        </view>\n                        <!-- 右侧商品列表 -->\n                        <block v-if=\"(data_list || null) != null && data_list.length > 0\">\n                            <view v-for=\"(item, index) in data_list\" :key=\"index\" class=\"item bg-white padding-main border-radius-main oh spacing-mb\">\n                                <view :data-value=\"'/pages/goods-detail/goods-detail?id='+item.id+'&is_opt_back=1&buy_use_type_index='+buy_use_type_index+'&realstore_id='+info.id\" @tap=\"url_event\">\n                                    <image :src=\"item.images\" mode=\"widthFix\" class=\"goods-img radius fl br\"></image>\n                                    <view class=\"goods-base fr\">\n                                        <view class=\"goods-base-content\">\n                                            <view class=\"goods-title text-size-sm single-text\">{{item.title}}</view>\n                                            <view v-if=\"(item.simple_desc || null) != null\" class=\"simple-desc cr-red text-size-xs margin-top-xs multi-text\">{{item.simple_desc}}</view>\n                                        </view>\n                                        <view class=\"margin-top-sm oh\">\n                                            <view class=\"sales-price text-size-sm single-text dis-inline-block va-m\">{{currency_symbol}}{{item.min_price}}</view>\n                                            <view class=\"tc fr\">\n                                                <block v-if=\"(item.is_error || 0) == 0\">\n                                                    <view v-if=\"(item.buy_number || 0) > 0\" class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"0\" @tap.stop=\"buy_number_event\">\n                                                        <uni-icons type=\"minus\" size=\"22\" color=\"#f00\"></uni-icons>\n                                                    </view>\n                                                    <view v-if=\"(item.buy_number || 0) > 0\" class=\"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m\">{{item.buy_number}}</view>\n                                                    <view class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"1\" @tap.stop=\"buy_number_event\">\n                                                        <uni-icons type=\"plus\" size=\"22\" color=\"#1AAD19\"></uni-icons>\n                                                    </view>\n                                                </block>\n                                                <block v-else>\n                                                    <text class=\"cr-grey text-size-xs\">{{item.is_error_msg}}</text>\n                                                </block>\n                                            </view>\n                                        </view>\n                                    </view>\n                                </view>\n                            </view>\n                        </block>\n                        <block v-else>\n                            <component-no-data :propStatus=\"data_list_loding_status\" :propMsg=\"data_list_loding_msg\"></component-no-data>\n                        </block>\n                    </view>\n                </scroll-view>\n            </view>\n\n            <!-- 购物车列表 -->\n            <block v-if=\"cart_status\">\n                <view class=\"cart-mask wh-auto ht-auto pf\" @tap=\"cart_event\"></view>\n                <view class=\"cart-content bg-white border-radius-main pa oh\">\n                    <block v-if=\"(cart || null) != null && (cart.data || null) != null && cart.data.length > 0\">\n                        <view class=\"oh br-b padding-vertical-main padding-horizontal-main\">\n                            <text class=\"va-m text-size-xs cr-base\">已选商品</text>\n                            <view class=\"dis-inline-block margin-left-xl text-size-xs\">\n                                <text class=\"cr-red\">没有已加购的商品？</text>\n                                <text class=\"br-green cr-green round padding-left padding-right padding-top-xs padding-bottom-xs cp\" @tap=\"buy_use_type_event\">切换下单类型</text>\n                            </view>\n                            <view class=\"fr cp\" @tap=\"cart_all_delete_event\">\n                                <view class=\"dis-inline-block va-m\">\n                                    <uni-icons type=\"trash\" size=\"12\" color=\"#f00\"></uni-icons>\n                                </view>\n                                <text class=\"cr-red va-m text-size-xs margin-left-xs\">清空</text>\n                            </view>\n                        </view>\n                        <scroll-view :scroll-y=\"true\" class=\"cart-list goods-list\">\n                            <view v-for=\"(goods, index) in cart.data\" :key=\"index\" class=\"item padding-main oh spacing-mb\">\n                                <navigator :url=\"'/pages/goods-detail/goods-detail?id='+goods.goods_id+'&is_opt_back=1&buy_use_type_index='+buy_use_type_index+'&realstore_id='+info.id\" hover-class=\"none\">\n                                    <image :src=\"goods.images\" mode=\"widthFix\" class=\"goods-img radius fl br\"></image>\n                                    <view class=\"goods-base fr\">\n                                        <view class=\"goods-base-content\">\n                                            <view class=\"goods-title text-size-sm single-text\">{{goods.title}}</view>\n                                            <view v-if=\"goods.spec != null\" class=\"text-size-xs cr-grey margin-top-sm\">\n                                                <block v-for=\"(sv, si) in goods.spec\" :key=\"si\">\n                                                    <text v-if=\"si > 0\" class=\"padding-left-xs padding-right-xs\">;</text>\n                                                    <text>{{sv.value}}</text>\n                                                </block>\n                                            </view>\n                                        </view>\n                                        <view class=\"margin-top-sm oh\">\n                                            <view class=\"sales-price text-size-sm single-text dis-inline-block va-m\">{{currency_symbol}}{{goods.price}}</view>\n                                            <view class=\"tc fr\">\n                                                <view v-if=\"(goods.stock || 0) > 0\" class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"0\" @tap.stop=\"cart_buy_number_event\">\n                                                    <uni-icons type=\"minus\" size=\"22\" color=\"#f00\"></uni-icons>\n                                                </view>\n                                                <view v-if=\"(goods.stock || 0) > 0\" class=\"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m\">{{goods.stock}}</view>\n                                                <view class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"1\" @tap.stop=\"cart_buy_number_event\">\n                                                    <uni-icons type=\"plus\" size=\"22\" color=\"#1AAD19\"></uni-icons>\n                                                </view>\n                                            </view>\n                                        </view>\n                                    </view>\n                                </navigator>\n                            </view>\n                        </scroll-view>\n                    </block>\n                    <block v-else>\n                        <component-no-data propStatus=\"0\" propMsg=\"请先选购商品\"></component-no-data>\n                        <view class=\"padding-bottom-xxxl margin-bottom-xxxl tc text-size-xs\">\n                            <text class=\"cr-red\">没有已加购的商品？</text>\n                            <text class=\"br-green cr-green round padding-left padding-right padding-top-xs padding-bottom-xs cp\" @tap=\"buy_use_type_event\">切换下单类型</text>\n                        </view>\n                    </block>\n                </view>\n            </block>\n\n            <!-- 购物车底部导航 -->\n            <view class=\"botton-nav round pa bg-main-pair oh\">\n                <view class=\"cart dis-inline-block va-m margin-left-xxl pr cp\" @tap=\"cart_event\">\n                    <uni-icons type=\"cart\" size=\"18\" color=\"#fff\"></uni-icons>\n                    <view v-if=\"(cart || null) != null && (cart.buy_number || 0) > 0\" class=\"badge-icon pa\">\n                        <component-badge :propNumber=\"cart.buy_number\"></component-badge>\n                    </view>\n                </view>\n                <view class=\"cart-total-price single-text dis-inline-block fw-b cr-white va-m margin-left-xl\">\n                    <text class=\"text-size-sm\">{{currency_symbol}}</text>\n                    <text class=\"text-size-lg\">{{(cart || null) == null ? 0 : (cart.total_price || 0)}}</text>\n                </view>\n                <button type=\"default\" size=\"mini\" hover-class=\"none\" @tap=\"buy_submit_event\" :class=\"'text-size-sm pa radius-0 '+((info.status_info.status == 1) ? 'bg-main cr-white' : 'bg-gray cr-gray')\">{{info.status_info.status == 1 ? '去结算' : info.status_info.msg}}</button>\n            </view>\n            \n            <!-- 规格选择弹层 -->\n            <component-popup :propShow=\"popup_spec_status\" propPosition=\"bottom\" @onclose=\"popup_spec_close_event\">\n                <view class=\"goods-spec-popup padding-main bg-white pr\">\n                    <view class=\"close fr oh\">\n                        <view class=\"fr\" @tap.stop=\"popup_spec_close_event\">\n                            <icon type=\"clear\" size=\"20\"></icon>\n                        </view>\n                    </view>\n                    <!-- 规格基础信息 -->\n                    <view class=\"goods-spec-popup-base oh br-b pr\">\n                        <image :src=\"goods_spec_base_images\" mode=\"scaleToFill\" class=\"radius br\" @tap=\"goods_spec_base_images_view_event\" :data-value=\"goods_spec_base_images\"></image>\n                        <view class=\"goods-spec-popup-base-content\">\n                            <view class=\"goods-price\">\n                                <view class=\"sales-price\">{{currency_symbol}}{{goods_spec_base_price}}</view>\n                                <view v-if=\"(goods_spec_base_original_price || null) != null && goods_spec_base_original_price != 0\" class=\"original-price\">{{currency_symbol}}{{goods_spec_base_original_price}}</view>\n                            </view>\n                            <view class=\"inventory\">\n                                <text class=\"cr-gray\">库存</text>\n                                <text class=\"cr-base\">{{goods_spec_base_inventory}}</text>\n                                <text class=\"cr-gray\">{{goods_choose_data.inventory_unit}}</text>\n                            </view>\n                        </view>\n                    </view>\n                    <!-- 商品规格 -->\n                    <view class=\"goods-spec-popup-content\">\n                        <view v-if=\"goods_specifications_choose.length > 0\" class=\"goods-spec-choose\">\n                            <view v-for=\"(item, key) in goods_specifications_choose\" :key=\"key\" class=\"item br-b\">\n                                <view class=\"text-size\">{{item.name}}</view>\n                                <view v-if=\"item.value.length > 0\" class=\"spec margin-top-sm\">\n                                    <block v-for=\"(items, keys) in item.value\" :key=\"keys\">\n                                        <button @tap.stop=\"goods_specifications_event\" :data-key=\"key\" :data-keys=\"keys\" type=\"default\" size=\"mini\" hover-class=\"none\" :class=\"items.is_active + ' ' + items.is_dont + ' ' + items.is_disabled\">\n                                            <image v-if=\"(items.images || null) != null\" :src=\"items.images\" mode=\"scaleToFill\" class=\"va-m dis-inline-block round margin-right-sm\"></image>\n                                            <text class=\"va-m\">{{items.name}}</text>\n                                        </button>\n                                    </block>\n                                </view>\n                            </view>\n                        </view>\n                    </view>\n                    <button class=\"goods-spec-popup-submit bg-main cr-white\" type=\"default\" @tap.stop=\"goods_spec_confirm_event\" hover-class=\"none\">确定</button>\n                </view>\n            </component-popup>\n        </view>\n        <view v-else>\n            <!-- 提示信息 -->\n            <component-no-data :propStatus=\"data_list_loding_status\" :propMsg=\"data_list_loding_msg\"></component-no-data>\n        </view>\n    </view>\n</template>\n<script>\n    const app = getApp();\n    import componentNoData from \"../../../../components/no-data/no-data\";\n    import componentSearch from \"../../../../components/search/search\";\n    import componentBadge from \"../../../../components/badge/badge\";\n    import componentPopup from \"../../../../components/popup/popup\";\n\n    var common_static_url = app.globalData.get_static_url('common');\n    export default {\n        data() {\n            return {\n                status_bar_height: parseInt(app.globalData.get_system_info('statusBarHeight', 0)),\n                common_static_url: common_static_url,\n                data_list_loding_status: 1,\n                data_list_loding_msg: '',\n                currency_symbol: app.globalData.data.currency_symbol,\n                cache_buy_use_type_index_key: 'cache_plugins_realstore_buy_use_type_index',\n                buy_use_type_index: 0,\n                params: null,\n                is_first: 1,\n                scroll_top: 0,\n                scroll_top_old: 0,\n                user: null,\n                info: null,\n                goods_category: [],\n                data_list: [],\n                data_total: 0,\n                data_page_total: 0,\n                data_page: 1,\n                cart: null,\n                goods_count: 0,\n                data_base: null,\n                favor_user: [],\n                tablecode: null,\n                category: [],\n                goods_list: [],\n                search_keywords_value: '',\n                nav_active_index: -1,\n                nav_active_item_index: -1,\n                cart_status: false,\n                popup_spec_status: false,\n                goods_spec_base_price: 0,\n                goods_spec_base_original_price: 0,\n                goods_spec_base_inventory: 0,\n                goods_spec_base_images: '',\n                goods_choose_data: {},\n                goods_specifications_choose: [],\n                // 收藏信息\n                favor_info: {\n                    \"text\": \"收藏\",\n                    \"status\": 0,\n                    \"count\": 0\n                },\n                // 用户位置信息\n                user_location: null,\n                // 自定义分享信息\n                share_info: {},\n                // 是否单页预览\n                is_single_page: app.globalData.is_current_single_page() || 0,\n                // 顶部导航返回按钮\n                is_realstore_top_nav_back: app.globalData.data.is_realstore_top_nav_back || 0,\n            };\n        },\n\n        components: {\n            componentNoData,\n            componentSearch,\n            componentBadge,\n            componentPopup\n        },\n        props: {},\n\n        onLoad(params) {\n            this.setData({\n                params: app.globalData.launch_params_handle(params),\n                user: app.globalData.get_user_cache_info()\n            });\n        },\n\n        onShow() {\n            // 类型选择\n            this.setData({\n                buy_use_type_index: this.get_buy_use_type_index()\n            });\n\n            // 用户位置初始化\n            this.user_location_init();\n\n            // 获取数据\n            this.get_detail_init();\n\n            // 初始化配置\n            this.init_config();\n        },\n\n        // 下拉刷新\n        onPullDownRefresh() {\n            this.setData({\n                data_page: 1\n            });\n            this.reset_scroll();\n            this.get_detail_init();\n        },\n\n        methods: {\n            // 初始化配置\n            init_config(status) {\n                if ((status || false) == true) {\n                    this.setData({\n                        currency_symbol: app.globalData.get_config('currency_symbol')\n                    });\n                } else {\n                    app.globalData.is_config(this, 'init_config');\n                }\n            },\n\n            // 获取数据-初始化\n            get_detail_init() {\n                uni.request({\n                    url: app.globalData.get_request_url(\"index\", \"detail\", \"realstore\"),\n                    method: 'POST',\n                    data: this.request_params_merge({\n                        \"id\": this.params.id || 0\n                    }, 'init'),\n                    dataType: 'json',\n                    success: res => {\n                        uni.stopPullDownRefresh();\n                        if (res.data.code == 0) {\n                            var data = res.data.data;\n                            this.setData({\n                                data_base: data.base || null,\n                                info: data.info || null,\n                                goods_category: data.goods_category || [],\n                                favor_user: data.favor_user || [],\n                                tablecode: data.tablecode || null\n                            });\n\n                            // 下单类型是否存在索引\n                            this.setData({\n                                buy_use_type_index: this.get_buy_use_type_index()\n                            });\n\n                            // 收藏处理\n                            if ((this.info || null) != null) {\n                                // 收藏信息\n                                var status = this.favor_user.indexOf(this.info.id) != -1 ? 1 : 0;\n                                this.setData({\n                                    favor_info: {\n                                        \"count\": this.info.favor_count || 0,\n                                        \"status\": status,\n                                        \"text\": (status == 1 ? '已' : '') + '收藏'\n                                    }\n                                });\n\n                                // 基础自定义分享\n                                this.setData({\n                                    share_info: {\n                                        title: this.info.seo_title || this.info.name,\n                                        desc: this.info.seo_desc || this.info.describe,\n                                        path: '/pages/plugins/realstore/detail/detail',\n                                        query: 'id='+this.info.id,\n                                        img: this.info.logo\n                                    }\n                                });\n\n                                // 标题名称\n                                uni.setNavigationBarTitle({\n                                    title: this.info.name\n                                });\n                                \n                                // 获取数据、仅首次调用\n                                // 获取列表接口和购物车\n                                if(this.is_first == 1) {\n                                    this.get_data_list();\n                                    this.get_cart_data(this.is_first);\n                                    this.setData({is_first: 0});\n                                } else {\n                                    // 非首次赋值购物车数据\n                                    this.setData({\n                                        cart: data.cart || null,\n                                    });\n                                    // 购物车更新列表数据处理\n                                    this.cart_data_list_handle();\n                                }\n                            }\n                        } else {\n                            this.setData({\n                                data_list_loding_status: 2,\n                                data_list_loding_msg: res.data.msg\n                            });\n                        }\n\n                        // 分享菜单处理\n                        app.globalData.page_share_handle(this.share_info);\n                    },\n                    fail: () => {\n                        uni.stopPullDownRefresh();\n                        this.setData({\n                            data_list_loding_status: 2,\n                            data_list_loding_msg: '服务器请求出错'\n                        });\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 获取数据-商品列表\n            get_data_list(is_mandatory) {\n                // 分页是否还有数据\n                if ((is_mandatory || 0) == 0) {\n                    if (this.data_bottom_line_status == true) {\n                        uni.stopPullDownRefresh();\n                        return false;\n                    }\n                }\n\n                // 加载loding\n                uni.showLoading({\n                    title: '加载中...',\n                    mask: true\n                });\n\n                // 分类id\n                var temp_category = this.goods_category;\n                if(this.nav_active_item_index != -1) {\n                    var category_id = temp_category[this.nav_active_index]['items'][this.nav_active_item_index]['id'];\n                } else {\n                    var category_id = (this.nav_active_index == -1) ? 0 : temp_category[this.nav_active_index]['id'];\n                }\n\n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url(\"datalist\", \"detail\", \"realstore\"),\n                    method: 'POST',\n                    data: this.request_params_merge({\n                        id: this.params.id || 0,\n                        page: this.data_page,\n                        keywords: this.search_keywords_value,\n                        category_id: category_id\n                    }, 'data'),\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        uni.stopPullDownRefresh();\n                        if (res.data.code == 0) {\n                            var data = res.data.data;\n                            if (data.data.length > 0) {\n                                if (this.data_page <= 1) {\n                                    var temp_data_list = data.data;\n                                } else {\n                                    var temp_data_list = this.data_list || [];\n                                    var temp_data = data.data;\n                                    for (var i in temp_data) {\n                                        temp_data_list.push(temp_data[i]);\n                                    }\n                                }\n                                this.setData({\n                                    data_list: temp_data_list,\n                                    data_total: data.total,\n                                    data_page_total: data.page_total,\n                                    data_list_loding_status: 3,\n                                    data_page: this.data_page + 1\n                                });\n                                \n                                // 是否还有数据\n                                this.setData({\n                                    data_bottom_line_status: (this.data_page > 1 && this.data_page > this.data_page_total)\n                                });\n                            } else {\n                                this.setData({\n                                    data_list_loding_status: 0\n                                });\n                                if (this.data_page <= 1) {\n                                    this.setData({\n                                        data_list: [],\n                                        data_bottom_line_status: false\n                                    });\n                                }\n                            }\n                        } else {\n                            this.setData({\n                                data_list_loding_status: 0,\n                                data_list_loding_msg: res.data.msg\n                            });\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        uni.stopPullDownRefresh();\n                        this.setData({\n                            data_list_loding_status: 2,\n                            data_list_loding_msg: '服务器请求出错'\n                        });\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 收藏事件\n            favor_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n                var user = app.globalData.get_user_info(this, 'favor_event');\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=favor_event\"\n                        });\n                        return false;\n                    } else {\n                        uni.showLoading({\n                            title: '处理中...'\n                        });\n                        uni.request({\n                            url: app.globalData.get_request_url(\"reversal\", \"favor\", \"realstore\"),\n                            method: 'POST',\n                            data: {\n                                \"id\": this.info.id\n                            },\n                            dataType: 'json',\n                            success: res => {\n                                uni.hideLoading();\n                                if (res.data.code == 0) {\n                                    this.setData({\n                                        favor_info: res.data.data\n                                    });\n                                    app.globalData.showToast(res.data.msg, 'success');\n                                } else {\n                                    if (app.globalData.is_login_check(res.data, this, 'favor_event')) {\n                                        app.globalData.showToast(res.data.msg);\n                                    }\n                                }\n                            },\n                            fail: () => {\n                                uni.hideLoading();\n                                app.globalData.showToast('服务器请求出错');\n                            }\n                        });\n                    }\n                }\n            },\n\n            // 列表数据操作\n            buy_number_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n                var user = app.globalData.get_user_info(this);\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=buy_number_event\"\n                        });\n                        return false;\n                    } else {\n                        var index = e.currentTarget.dataset.index;\n                        var type = parseInt(e.currentTarget.dataset.type) || 0;\n                        var temp_goods = this.data_list[index];\n\n                        // 是否存在多规格\n                        if((temp_goods.is_exist_many_spec || 0) != 0) {\n                            // 是否购物车中操作\n                            if(type == 0) {\n                                this.setData({\n                                    cart_status: true\n                                });\n                                app.globalData.showToast('不同规格的商品需在购物车减购');\n                            } else {\n                                // 展示规格选择\n                                var temp_specifications = temp_goods['specifications']['choose'] || [];\n                                if(temp_specifications.length > 0) {\n                                    for(var i in temp_specifications) {\n                                        for(var k in temp_specifications[i]['value']) {\n                                            temp_specifications[i]['value'][k]['is_active'] = '';\n                                            if(i > 0) {\n                                                temp_specifications[i]['value'][k]['is_dont'] = 'spec-dont-choose';\n                                            }\n                                        }\n                                    }\n                                }\n                                this.setData({\n                                    popup_spec_status: true,\n                                    goods_choose_data: temp_goods,\n                                    goods_specifications_choose: temp_specifications,\n                                    goods_spec_base_price: temp_goods.price,\n                                    goods_spec_base_original_price: temp_goods.original_price || 0,\n                                    goods_spec_base_inventory: temp_goods.inventory,\n                                    goods_spec_base_images: temp_goods.images,\n                                });\n                            }\n                            return false;\n                        }\n\n                        // 数据操作处理\n                        this.buy_number_event_handle(type, temp_goods);\n                    }\n                }\n            },\n\n            // 列表数量事件处理\n            buy_number_event_handle(type, goods, spec = '') {\n                var res = this.buy_number_handle(type, goods, 'buy_number');\n                if(res === false) {\n                    return false;\n                }\n                \n                // 为0或减操作则查询\n                var cart_item = null;\n                if(type == 0 || (type == 1 && goods['buy_number'] > 0)) {\n                    var cart_data = this.cart.data;\n                    var params_spec = ((spec || null) == null || typeof(spec) != 'object') ? '' : JSON.stringify(spec);\n                    for(var i in cart_data) {                        \n                        if(goods['id'] == cart_data[i]['goods_id']) {\n                            var cart_spec = ((cart_data[i]['spec'] || null) == null || typeof(cart_data[i]['spec']) != 'object') ? '' : JSON.stringify(cart_data[i]['spec']);\n                            if(type == 0 || (type == 1 && cart_spec == params_spec)) {\n                                cart_item = cart_data[i];\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                // 操作类型\n                if(res == 0) {\n                    if(cart_item == null) {\n                        app.globalData.showToast('购物车id有误');\n                        return false;\n                    }\n                    this.cart_delete(cart_item.id);                    \n                } else if(cart_item == null) {\n                    this.cart_save(goods['id'], res, spec);\n                } else {\n                    var number = (type == 0) ? parseInt(cart_item['stock'])-res : res+parseInt(cart_item['stock']);\n                    this.cart_update(cart_item.id, goods['id'], number);\n                }\n                return true;\n            },\n\n            // 购物车数量操作\n            cart_buy_number_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n                var user = app.globalData.get_user_info(this);\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=cart_buy_number_event\"\n                        });\n                        return false;\n                    } else {\n                        var index = e.currentTarget.dataset.index;\n                        var type = parseInt(e.currentTarget.dataset.type) || 0;\n                        var temp_data = this.cart.data;\n                        var temp_goods = temp_data[index];\n                        \n                        // 数据操作处理\n                        var res = this.buy_number_handle(type, temp_goods, 'stock');\n                        if(res === false) {\n                            return false;\n                        }\n                        \n                        // 操作类型\n                        if(res == 0) {\n                            this.cart_delete(temp_goods['id']);\n                        } else {\n                            var number = (type == 0) ? parseInt(temp_goods['stock'])-res : res+parseInt(temp_goods['stock']);\n                            this.cart_update(temp_goods['id'], temp_goods['goods_id'], number);\n                        }\n                    }\n                }\n            },\n\n            // 批量删除操作\n            cart_all_delete_event(e) {\n                uni.showModal({\n                    title: '温馨提示',\n                    content: '挑了这么久，真的要清空吗？',\n                    confirmText: '确认',\n                    cancelText: '暂不',\n                    success: result => {\n                        if (result.confirm) {\n                            var ids = [];\n                            var temp_data = this.cart.data;\n                            for (var i in temp_data) {                \n                                ids.push(temp_data[i]['id']);\n                            }\n                            this.cart_delete(ids.join(','));\n                        }\n                    }\n                });\n            },\n\n            // 数量操作处理\n            buy_number_handle(type, goods, buy_number_field) {\n                // 门店状态\n                if(type == 1 && !this.is_status_check()) {\n                    return false;\n                }\n\n                // 加减处理\n                var buy_number = parseInt(goods[buy_number_field]) || 0;\n                if(type == 0) {\n                    buy_number -= 1;\n                } else {\n                    buy_number += 1;\n                }\n                if(buy_number < 0) {\n                    buy_number = 0;\n                }\n\n                // 数据校验\n                var buy_min_number = parseInt(goods['buy_min_number']) || 1;\n                var buy_max_number = parseInt(goods['buy_max_number']) || 0;\n                var inventory = parseInt(goods['inventory']);\n                var inventory_unit = goods['inventory_unit'];\n                if (buy_min_number > 0) {\n                    if(type == 0) {\n                        if(buy_number < buy_min_number) {\n                            buy_number = 0;\n                        }\n                    } else {\n                        if(buy_number < buy_min_number) {\n                            buy_number = buy_min_number;\n                        }\n                    }\n                }\n                if (buy_max_number > 0 && buy_number > buy_max_number) {\n                    app.globalData.showToast('限购' + buy_max_number + inventory_unit);\n                    return false;\n                }\n                if (buy_number > inventory) {\n                    app.globalData.showToast('库存数量' + inventory + inventory_unit);\n                    return false;\n                }\n                if (goods[buy_number_field] == buy_number) {\n                    app.globalData.showToast('数量为改变');\n                    return false;\n                }\n\n                // 操作数量\n                var opt_number = 1;\n                if(type == 0) {\n                    if(buy_number <= 0) {\n                        opt_number = 0;\n                    }\n                } else {\n                    if(buy_number > goods['buy_number']) {\n                        opt_number = buy_number-goods['buy_number'];\n                    }\n                }\n                return opt_number;\n            },\n            \n            // 购物车添加\n            cart_save(goods_id, buy_number, spec = '') {\n                uni.showLoading({\n                    title: '处理中...'\n                });\n                uni.request({\n                    url: app.globalData.get_request_url('save', 'cart'),\n                    method: 'POST',\n                    data: {\n                        \"goods_id\": goods_id,\n                        \"stock\": buy_number,\n                        \"spec\": spec\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 购物车更新\n            cart_update(cart_id, goods_id, buy_number) {\n                uni.showLoading({\n                    title: '处理中...',\n                    mask: true\n                });\n                uni.request({\n                    url: app.globalData.get_request_url(\"stock\", \"cart\"),\n                    method: 'POST',\n                    data: {\n                        \"id\": cart_id,\n                        \"goods_id\": goods_id,\n                        \"stock\": buy_number\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            } else {\n                                app.globalData.showToast('提交失败，请重试！');\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 购物车删除\n            cart_delete(cart_id) {\n                uni.showLoading({\n                    title: '处理中...',\n                    mask: true\n                });\n                uni.request({\n                    url: app.globalData.get_request_url('delete', 'cart'),\n                    method: 'POST',\n                    data: {\n                        \"id\": cart_id\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            } else {\n                                app.globalData.showToast('提交失败，请重试！');\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 获取购物车数据、参数是否首次请求\n            get_cart_data(is_first = 0) {\n                uni.request({\n                    url: app.globalData.get_request_url(\"cartdata\", \"detail\", \"realstore\"),\n                    method: 'POST',\n                    data: this.request_params_merge({\n                        \"id\": this.params.id || 0\n                    }, 'cart'),\n                    dataType: 'json',\n                    success: res => {\n                        if (res.data.code == 0) {\n                            this.setData({\n                                cart: res.data.data\n                            });\n                            this.cart_data_list_handle();\n\n                            // 首次判断是否需要开启购物车\n                            if(is_first == 1 && (this.params.is_show_cart || 0) == 1) {\n                                this.setData({\n                                    cart_status: true\n                                });\n                            }\n                        } else {\n                            app.globalData.showToast('请求失败，请重试！');\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 购物车更新列表数据处理\n            cart_data_list_handle() {\n                var temp_cart = this.cart || null;\n                if(temp_cart != null) {\n                    var temp_data_list = this.data_list;\n                    if(temp_data_list.length > 0) {\n                        for(var i in temp_data_list) {\n                            temp_data_list[i]['buy_number'] = 0;\n                            if(temp_cart.data.length > 0) {\n                                for(var k in temp_cart.data) {\n                                    if(temp_cart.data[k]['goods_id'] == temp_data_list[i]['id']) {\n                                        temp_data_list[i]['buy_number'] += parseInt(temp_cart.data[k]['stock']);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    this.setData({\n                        data_list: temp_data_list\n                    });\n                }\n            },\n\n            // 门店状态判断\n            is_status_check() {\n                if((this.info || null) == null) {\n                    app.globalData.showToast('门店信息有误');\n                    return false;\n                } else {\n                    if(this.info.status_info.status != 1) {\n                        app.globalData.showToast(this.info.status_info.msg);\n                        return false;\n                    }\n                }\n                return true;\n            },\n\n            // 搜索事件\n            search_button_event(e) {\n                this.setData({\n                    search_keywords_value: e || '',\n                    data_page: 1\n                });\n                this.reset_scroll();\n                this.get_data_list(1);\n            },\n\n            // 搜索icon扫码事件、扫码商品id实现加入购物车\n            search_icon_event(e) {\n                var user = app.globalData.get_user_info(this);\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=cart_buy_number_event\"\n                        });\n                        return false;\n                    } else {\n                        // 门店状态\n                        if(!this.is_status_check()) {\n                            return false;\n                        }\n\n                        // 调用扫码\n                        var self = this;\n                        uni.scanCode({\n                            success: function (res) {\n                                uni.showLoading({\n                                    title: '处理中...',\n                                    mask: true\n                                });\n                                uni.request({\n                                    url: app.globalData.get_request_url(\"scan\", \"detail\", \"realstore\"),\n                                    method: 'POST',\n                                    data: self.request_params_merge({\n                                        value: res.result\n                                    }, 'buy'),\n                                    dataType: 'json',\n                                    success: res => {\n                                        uni.hideLoading();\n                                        if (res.data.code == 0) {\n                                            if(res.data.data.is_error == 1) {\n                                                app.globalData.showToast(res.data.data.is_error_msg);\n                                            } else {\n                                                // 加入购物车\n                                                self.cart_save(res.data.data.goods_id, 1, res.data.data.spec);\n                                            }\n                                        } else {\n                                            if (app.globalData.is_login_check(res.data)) {\n                                                app.globalData.showToast(res.data.msg);\n                                            } else {\n                                                app.globalData.showToast('提交失败，请重试！');\n                                            }\n                                        }\n                                    },\n                                    fail: () => {\n                                        uni.hideLoading();\n                                        app.globalData.showToast('服务器请求出错');\n                                    }\n                                });\n                            }\n                        });\n                    }\n                }\n            },\n\n            // 购物车状态\n            cart_event(e) {\n                this.setData({\n                    cart_status: !this.cart_status\n                });\n            },\n\n            // 购物车结算\n            buy_submit_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n\n                // 门店状态\n                if(!this.is_status_check()) {\n                    return false;\n                }\n\n                // 获取购物车数据\n                var ids = [];\n                if((this.cart || null) != null) {\n                    var temp_data = this.cart.data || [];\n                    for (var i in temp_data) {\n                        ids.push(temp_data[i]['id']);\n                    }\n                }\n                if (ids.length <= 0) {\n                    app.globalData.showToast('请先选购商品');\n                    return false;\n                }\n\n                // 起步价\n                var starting_price = parseFloat(this.info.starting_price) || 0;\n                if(starting_price > 0 && this.cart.total_price < starting_price) {\n                    // 是否限制类型\n                    var limit_type = this.info.starting_price_limit_type_list || [];\n                    if(limit_type.length > 0) {\n                        var buy_use_type = this.info.buy_use_type_list[this.buy_use_type_index];\n                        if(limit_type.indexOf(buy_use_type['index']) != -1 || limit_type.indexOf(buy_use_type['index'].toString()) != -1) {\n                            app.globalData.showToast(buy_use_type['name']+'起步价'+starting_price+'元');\n                            return false;\n                        }\n                    } else {\n                        app.globalData.showToast('起步价'+starting_price+'元');\n                        return false;\n                    }\n                }\n\n                // 进入订单确认页面\n                var data = this.request_params_merge({\n                    \"buy_type\": \"cart\",\n                    \"ids\": ids.join(',')\n                }, 'buy');\n                uni.navigateTo({\n                    url: '/pages/buy/buy?data=' + encodeURIComponent(JSON.stringify(data))\n                });\n            },\n\n            // 剪切板\n            text_copy_event(e) {\n                app.globalData.text_copy_event(e);\n            },\n            \n            // 地图查看\n            address_map_event(e) {\n                var info = this.info;\n                if (info.lat == 0 || info.lng == 0) {\n                    app.globalData.showToast(\"地址有误\");\n                    return false;\n                }\n            \n                // 打开地图\n                var address = (info.province_name || '') + (info.city_name || '') + (info.county_name || '') + (info.address || '');\n                app.globalData.open_location(info.lng, info.lat, info.name, address);\n            },\n\n            // 电话\n            tel_event(e) {\n                app.globalData.call_tel(this.info.service_tel || null);\n            },\n\n            // 图片预览\n            image_show_event(e) {\n                app.globalData.image_show_event(e);\n            },\n            \n            // 导航事件\n            nav_event(e) {\n                this.setData({\n                    nav_active_index: e.currentTarget.dataset.index,\n                    nav_active_item_index: e.currentTarget.dataset.itemindex,\n                    data_page: 1\n                });\n                this.reset_scroll();\n                this.get_data_list(1);\n            },\n            \n            // 重置滑动位置\n            reset_scroll() {\n                this.setData({\n                    scroll_top: this.scroll_top_old\n                });\n                this.$nextTick(() => {\n                    this.setData({\n                        scroll_top: 0\n                    });\n                });\n            },\n            \n            // 滑动事件位置记录\n            scroll_event(e) {\n                this.setData({\n                    scroll_top_old: e.detail.scrollTop\n                });\n            },\n            \n            // 滚动加载\n            scroll_lower(e) {\n                this.get_data_list();\n            },\n            \n            // 顶部返回操作\n            top_nav_left_back_event(e) {\n                var pages = getCurrentPages();\n                if (pages.length <= 1) {\n                    uni.switchTab({\n                        url: app.globalData.data.tabbar_pages[0]\n                    });\n                } else {\n                    uni.navigateBack();\n                }\n            },\n            \n            // 地址信息初始化\n            user_location_init() {\n                var result = uni.getStorageSync(app.globalData.data.cache_userlocation_key) || null;\n                var data = null;\n                if (result != null) {\n                    data = {\n                        name: result.name || null,\n                        address: result.address || null,\n                        lat: result.latitude || null,\n                        lng: result.longitude || null\n                    };\n                }\n                this.setData({\n                    user_location: data\n                });\n            },\n\n            // 使用类型事件\n            buy_use_type_event(e) {\n                var self = this;\n                uni.showActionSheet({\n                    itemList: this.info.buy_use_type_list.map(function(v) {return v.name}),\n                    success: function (res) {\n                        self.setData({\n                            buy_use_type_index: res.tapIndex,\n                            data_page: 1\n                        });\n                        uni.setStorageSync(self.cache_buy_use_type_index_key, res.tapIndex);\n                        self.reset_scroll();\n                        self.get_data_list(1);\n                        self.get_cart_data();\n                    }\n                });\n            },\n\n            // 获取使用类型数据索引、默认在店0\n            get_buy_use_type_index() {\n                var index = uni.getStorageSync(this.cache_buy_use_type_index_key);\n                if((this.info || null) != null) {\n                    // 用户未设置类型则使用默认的\n                    if(index === null || index === '') {\n                        // 是否默认类型\n                        if(this.info.default_buy_use_type != undefined && this.info.default_buy_use_type != -1) {\n                            // 不在店铺设置的类型列表则默认0\n                            var temp_index = null;\n                            for(var i in this.info.buy_use_type_list) {\n                                if(this.info.buy_use_type_list[i]['index'] == this.info.default_buy_use_type) {\n                                    temp_index = i;\n                                }\n                            }\n                            if(temp_index !== null) {\n                                index = temp_index;\n                            }\n                        }\n                    }\n\n                    // 不在店铺设置的类型列表则默认0\n                    if(this.info.buy_use_type_list[index] == undefined) {\n                        index = 0;\n                    }\n                }\n                return index || 0;\n            },\n\n            // 请求参数处理\n            // 默认增加使用类型参数\n            // 下单 buy / 初始化 init / 获取数据 data / 获取购物车 cart\n            request_params_merge(data, type = 'init') {\n                // 用户使用类型\n                var index = this.buy_use_type_index;\n                if((this.info || null) != null && (this.info.buy_use_type_list || null) != null && this.info.buy_use_type_list.length > 0) {\n                    if(this.info.buy_use_type_list[index] == undefined) {\n                        index = 0;\n                    }\n                    data['buy_use_type_index'] = this.buy_use_type_index;\n                }\n\n                // 初始化\n                if(type == 'init') {\n                    // 桌码\n                    if((this.params.tablecode_id || null) != null) {\n                        data['tablecode_id'] = this.params.tablecode_id;\n                    }\n                }\n\n                // 初始化、获取数据\n                if(type == 'init' || type == 'data' || type == 'cart') {\n                    // 用户选择的位置\n                    var lng = 0;\n                    var lat = 0;\n                    if((this.user_location || null) != null) {\n                        lng = this.user_location.lng || 0;\n                        lat = this.user_location.lat || 0;\n                    }\n                    data['lng'] = lng;\n                    data['lat'] = lat;\n                }\n\n                // 提交订单\n                if(type == 'buy') {\n                    // 门店id\n                    data['realstore_id'] = this.info.id;\n\n                    // 桌码\n                    if((this.tablecode || null) != null) {\n                        data['tablecode_id'] = this.tablecode.id;\n                    }\n                }\n\n                return data;\n            },\n\n            // 规格选择弹层关闭\n            popup_spec_close_event(e) {\n                this.setData({\n                    popup_spec_status: false\n                });\n            },\n\n            // 规格事件\n            goods_specifications_event(e) {\n                var key = e.currentTarget.dataset.key || 0;\n                var keys = e.currentTarget.dataset.keys || 0;\n                this.goods_specifications_handle(key, keys);\n            },\n\n            // 规格选择处理\n            goods_specifications_handle(key, keys) {            \n                // 不能选择和禁止选择跳过\n                var temp_data = this.goods_specifications_choose;\n                var temp_images = this.goods_spec_base_images;\n                if ((temp_data[key]['value'][keys]['is_dont'] || null) == null && (temp_data[key]['value'][keys]['is_disabled'] || null) == null) {\n                    // 规格选择\n                    for (var i in temp_data) {\n                        for (var k in temp_data[i]['value']) {\n                            if ((temp_data[i]['value'][k]['is_dont'] || null) == null && (temp_data[i]['value'][k]['is_disabled'] || null) == null) {\n                                if (key == i) {\n                                    if (keys == k && (temp_data[i]['value'][k]['is_active'] || null) == null) {\n                                        temp_data[i]['value'][k]['is_active'] = 'cr-white bg-main br-main';\n                                        if ((temp_data[i]['value'][k]['images'] || null) != null) {\n                                            temp_images = temp_data[i]['value'][k]['images'];\n                                        }\n                                    } else {\n                                        temp_data[i]['value'][k]['is_active'] = '';\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    this.setData({\n                        goods_specifications_choose: temp_data,\n                        goods_spec_base_images: temp_images\n                    });\n            \n                    // 不能选择规格处理\n                    this.goods_specifications_choose_handle_dont(key);\n            \n                    // 获取下一个规格类型\n                    this.get_goods_specifications_type(key);\n            \n                    // 获取规格详情\n                    this.get_goods_specifications_detail();\n                }\n                \n                // 已选择规格\n                var spec_selected = [];\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null)\n                        {\n                            spec_selected.push(temp_data[i]['value'][k]['name']);\n                        }\n                    }\n                }\n                this.setData({\n                    goods_spec_selected_text: (spec_selected.length <= 0) ? '请选择规格' : spec_selected.join(' / ')\n                });\n            },\n\n            // 不能选择规格处理\n            goods_specifications_choose_handle_dont(key) {\n                var temp_data = this.goods_specifications_choose || [];\n                if (temp_data.length <= 0) {\n                    return false;\n                }\n            \n                // 是否不能选择\n                key = parseInt(key);\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if (i > key) {\n                            temp_data[i]['value'][k]['is_dont'] = 'spec-dont-choose';\n                            temp_data[i]['value'][k]['is_disabled'] = '';\n                            temp_data[i]['value'][k]['is_active'] = '';\n                        }\n            \n                        // 当只有一个规格的时候\n                        if (key == 0 && temp_data.length == 1) {\n                            temp_data[i]['value'][k]['is_disabled'] = (temp_data[i]['value'][k]['is_only_level_one'] || null) != null && (temp_data[i]['value'][k]['inventory'] || 0) <= 0 ? 'spec-items-disabled' : '';\n                        }\n                    }\n                }\n            \n                this.setData({\n                    goods_specifications_choose: temp_data\n                });\n            },\n            \n            // 获取下一个规格类型\n            get_goods_specifications_type(key) {\n                var temp_data = this.goods_specifications_choose;\n                var active_index = parseInt(key) + 1;\n                var sku_count = app.globalData.get_length(temp_data);\n                if (active_index <= 0 || active_index >= sku_count) {\n                    return false;\n                }\n                \n                // 获取规格值\n                var spec = [];\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                            spec.push({\n                                \"type\": temp_data[i]['name'],\n                                \"value\": temp_data[i]['value'][k]['name']\n                            });\n                            break;\n                        }\n                    }\n                }\n                if (spec.length <= 0) {\n                    return false;\n                }\n\n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url('spectype', 'goods'),\n                    method: 'POST',\n                    data: {\n                        id: this.goods_choose_data.id,\n                        spec: JSON.stringify(spec),\n                        buy_use_type_index: this.buy_use_type_index,\n                        realstore_id: this.info.id\n                    },\n                    dataType: 'json',\n                    success: (res) => {\n                        if (res.data.code == 0) {\n                            var spec_type = res.data.data.spec_type;\n                            var spec_count = spec.length;\n                            var index = spec_count > 0 ? spec_count : 0;\n                            if (index < sku_count) {\n                                for (var i in temp_data) {\n                                    for (var k in temp_data[i]['value']) {\n                                        if (index == i) {\n                                            temp_data[i]['value'][k]['is_dont'] = '';\n                                            var temp_value = temp_data[i]['value'][k]['name'];\n                                            var temp_status = false;\n                                            for (var t in spec_type) {\n                                                if (spec_type[t] == temp_value) {\n                                                    temp_status = true;\n                                                    break;\n                                                }\n                                            }\n                                            if (temp_status == true) {\n                                                temp_data[i]['value'][k]['is_disabled'] = '';\n                                            } else {\n                                                temp_data[i]['value'][k]['is_disabled'] = 'spec-items-disabled';\n                                            }\n                                        }\n                                    }\n                                }\n                                this.setData({\n                                    goods_specifications_choose: temp_data\n                                });\n                            }\n                        } else {\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 获取规格详情\n            get_goods_specifications_detail() {\n                // 获取规格值\n                var spec = this.goods_selected_spec();\n            \n                // 存在规格的时候是否已完全选择规格\n                var sku_count = this.goods_specifications_choose.length;\n                var active_count = spec.length;\n                if (spec.length <= 0 || active_count < sku_count) {\n                    this.setData({\n                        goods_spec_base_price: this.goods_choose_data.price,\n                        goods_spec_base_original_price: this.goods_choose_data.original_price || 0,\n                        goods_spec_base_inventory: this.goods_choose_data.inventory\n                    });\n                    return false;\n                }\n\n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url('specdetail', 'goods'),\n                    method: 'POST',\n                    data: {\n                        id: this.goods_choose_data.id,\n                        spec: JSON.stringify(spec),\n                        stock: 1,\n                        buy_use_type_index: this.buy_use_type_index,\n                        realstore_id: this.info.id\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        if (res.data.code == 0) {\n                            this.goods_spec_detail_back_handle(res.data.data);\n                        } else {\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 已选的商品规格\n            goods_selected_spec() {\n                var spec = [];\n                var temp_data = this.goods_specifications_choose;\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                            spec.push({\n                                \"type\": temp_data[i]['name'],\n                                \"value\": temp_data[i]['value'][k]['name']\n                            });\n                            break;\n                        }\n                    }\n                }\n                return spec;\n            },\n            \n            // 商品规格详情返回数据处理\n            goods_spec_detail_back_handle(data) {\n                var spec_base = data.spec_base;\n                var data = {\n                    goods_spec_base_price: spec_base.price,\n                    goods_spec_base_original_price: spec_base.original_price || 0,\n                    goods_spec_base_inventory: parseInt(spec_base.inventory)\n                };\n                this.setData(data);\n            },\n\n            // 规格选择确认\n            goods_spec_confirm_event(e) {\n                var user = app.globalData.get_user_info(this, 'goods_spec_confirm_event');\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=goods_spec_confirm_event\"\n                        });\n                        return false;\n                    } else {\n                        // 属性\n                        var temp_data = this.goods_specifications_choose;\n                        var sku_count = temp_data.length;\n                        var active_count = 0;\n                        var spec = [];\n                        if (sku_count > 0) {\n                            for (var i in temp_data) {\n                                for (var k in temp_data[i]['value']) {\n                                    if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                                        active_count++;\n                                        spec.push({\n                                            \"type\": temp_data[i]['name'],\n                                            \"value\": temp_data[i]['value'][k]['name']\n                                        });\n                                    }\n                                }\n                            }\n            \n                            if (active_count < sku_count) {\n                                app.globalData.showToast('请选择规格');\n                                return false;\n                            }\n                        }\n\n                        // 数据操作处理\n                        if(this.buy_number_event_handle(1, this.goods_choose_data, spec)) {\n                            this.setData({\n                                popup_spec_status: false\n                            });\n                        }\n                    }\n                }\n            },\n\n            // 规格图片查看\n            goods_spec_base_images_view_event(e) {\n                var value = e.currentTarget.dataset.value || null;\n                if (value != null) {\n                    uni.previewImage({\n                        current: value,\n                        urls: [value]\n                    });\n                }\n            },\n\n            // url事件\n            url_event(e) {\n                app.globalData.url_event(e);\n            }\n        }\n    };\n</script>\n<style>\n    @import './detail.css';\n</style>","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678688330071\n      var cssReload = require(\"D:/HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}