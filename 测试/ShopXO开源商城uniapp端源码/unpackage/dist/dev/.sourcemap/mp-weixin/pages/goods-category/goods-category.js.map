{"version":3,"sources":["uni-app:///main.js","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?6afb","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?1778","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?ed5e","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?3a2d","uni-app:///pages/goods-category/goods-category.vue","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?38ac","webpack:///E:/测试/ShopXO开源商城uniapp端源码/pages/goods-category/goods-category.vue?2a86"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","common_static_url","status_bar_height","data_bottom_line_status","data_list_loding_status","data_list_loding_msg","category_list","data_content","data_three_content","cart","data_list","data_total","data_page_total","data_page","currency_symbol","is_first","search_keywords_value","nav_active_index","nav_active_item_two_index","nav_active_item_three_index","scroll_top","scroll_top_old","cart_status","popup_spec_status","goods_spec_base_price","goods_spec_base_original_price","goods_spec_base_inventory","goods_spec_base_images","goods_choose_data","goods_specifications_choose","category_show_level","share_info","is_single_page","category_goods_model_icon_field","components","componentSearch","componentQuickNav","componentNoData","componentPopup","componentBadge","props","onShow","onPullDownRefresh","methods","init_config","app","init","uni","url","method","dataType","success","upd_data","path","setTimeout","fail","get_goods_list","page","wd","temp_data_list","reset_scroll","scroll_event","scroll_lower","nav_event","temp_data_three_content","category_event","search_button_event","url_event","buy_number_event","temp_specifications","buy_number_event_handle","cart_item","cart_buy_number_event","buy_number_handle","buy_number","opt_number","cart_save","title","cart_update","mask","cart_delete","get_cart_data","cart_data_list_handle","popup_spec_close_event","goods_specifications_event","goods_specifications_handle","temp_data","temp_images","spec_selected","goods_spec_selected_text","goods_specifications_choose_handle_dont","key","get_goods_specifications_type","spec","id","temp_status","get_goods_specifications_detail","stock","goods_selected_spec","goods_spec_detail_back_handle","goods_spec_confirm_event","active_count","goods_spec_base_images_view_event","current","urls","cart_all_delete_event","content","confirmText","cancelText","ids","cart_event","buy_submit_event"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,sBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACyK;AACzK,gBAAgB,kLAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/GA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,ipBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoThpB;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAOA;AACA;AACA;AAAA,eAKA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EAEAC;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC;EAEAC;IACA;IACA;;IAEA;IACA;EACA;EAEA;EACAC;IACA;EACA;EAEAC;IACA;IACAC;MACA;QACA;UACA9B;UACAgB;QACA;MACA;QACAe;MACA;IACA;IAEA;IACAC;MAAA;MACA;QACA;UACA1C;QACA;MACA;MAEA2C;QACAC;QACAC;QACAjD;QACAkD;QACAC;UACAJ;UACA;YACA;YACA;cACAzC;cACAC;YACA;YACA;YACA;cACA6C;cACAA;YACA;YACA;;YAEA;YACA;cACA;cACA;cACA;cACA;gBACA;cACA;YACA;cACA;cACA;gBACA;cACA;YACA;YACA;YACA;cAAArC;YAAA;UACA;YACA;cACAX;cACAC;YACA;UACA;;UAEA;UACA;YACA0B;cACAsB;YACA;UACA;;UAEA;UACAC;YACAT;UACA;QACA;QACAU;UACAR;UACA;YACA3C;YACAC;UACA;UACAwC;QACA;MACA;IACA;IAEA;IACAW;MAAA;MACA;MACA;QACA;UACAT;UACA;QACA;MACA;;MAEA;MACA;QACAU;QACAC;MACA;MACA;MACA;QACA;QACA1D;QACA;QACA;UACAA;QACA;QACA;QACA;UACAA;QACA;MACA;;MAEA;MACA+C;QACAC;QACAC;QACAjD;QACAkD;QACAC;UACA;YACA;YACA;cACA;gBACA;cACA;gBACA;gBACA;gBACA;kBACAQ;gBACA;cACA;cACA;gBACAjD;gBACAC;gBACAC;gBACAR;gBACAS;cACA;;cAEA;cACA;gBACAV;cACA;;cAEA;cACA;YACA;cACA;gBACAC;gBACAO;cACA;cACA;gBACA;kBACAD;kBACAP;gBACA;cACA;YACA;UACA;YACA;cACAC;cACAC;YACA;YACAwC;UACA;QACA;QACAU;UACA;YACAnD;YACAC;UACA;UACAwC;QACA;MACA;IACA;IAEA;IACAe;MAAA;MACA;QACAxC;MACA;MACA;QACA;UACAA;QACA;MACA;IACA;IAEA;IACAyC;MACA;QACAxC;MACA;IACA;IAEA;IACAyC;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;QACA/C;QACAC;QACAC;QACAZ;QACAC;QACAK;QACAT;QACAM;MACA;;MAEA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAuD;MACAlB;QACAC;MACA;IACA;IAEA;IACAkB;MACA;MACA;QACA;UACAlD;UACAH;UACAT;UACAM;QACA;QACA;MACA;QACA;QACAqC;UACAC;QACA;MACA;IACA;IAEA;IACAmB;MACAtB;IACA;IAEA;IACAuB;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACArB;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;;UAEA;UACA;YACA;YACA;cACA;gBACA1B;cACA;cACAuB;YACA;cACA;cACA;cACA;gBACA;kBACA;oBACAwB;oBACA;sBACAA;oBACA;kBACA;gBACA;cACA;cACA;gBACA9C;gBACAK;gBACAC;gBACAL;gBACAC;gBACAC;gBACAC;cACA;YACA;YACA;UACA;;UAEA;UACA;QACA;MACA;IACA;IAEA;IACA2C;MAAA;MACA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;QACA;QACA;UACA;YACA;YACA;cACAC;YACA;YACA;UACA;QACA;MACA;;MAEA;MACA;QACA;UACA1B;UACA;QACA;QACA;MACA;QACA;MACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACA2B;MACA;QACA;MACA;MACA;MACA;QACA;QACA;UACAzB;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;UACA;;UAEA;UACA;UACA;YACA;UACA;;UAEA;UACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAyB;MACA;MACA;MACA;QACAC;MACA;QACAA;MACA;MACA;QACAA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;QACA;UACA;YACAA;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;MACA;QACA7B;QACA;MACA;MACA;QACAA;QACA;MACA;MACA;QACAA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA8B;QACA;MACA;QACA;UACAA;QACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MAAA;MACA7B;QACA8B;MACA;MACA9B;QACAC;QACAC;QACAjD;UACA;UACA;UACA;QACA;QACAkD;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;UACA;QACA;QACAU;UACAR;UACAF;QACA;MACA;IACA;IAEA;IACAiC;MAAA;MACA/B;QACA8B;QACAE;MACA;MACAhC;QACAC;QACAC;QACAjD;UACA;UACA;UACA;QACA;QACAkD;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;cACAA;YACA;UACA;QACA;QACAU;UACAR;UACAF;QACA;MACA;IACA;IAEA;IACAmC;MAAA;MACAjC;QACA8B;QACAE;MACA;MACAhC;QACAC;QACAC;QACAjD;UACA;QACA;QACAkD;QACAC;UACAJ;UACA;YACA;UACA;YACA;cACAF;YACA;cACAA;YACA;UACA;QACA;QACAU;UACAR;UACAF;QACA;MACA;IACA;IAEA;IACAoC;MAAA;MACAlC;QACAC;QACAC;QACAjD;QACAkD;QACAC;UACA;YACA;YACA;YACA;cACA1C;YACA;YACA;;YAEA;YACA;cACAoC;YACA;cACAA;YACA;UACA;QACA;QACAU;UACAV;QACA;MACA;IACA;IAEA;IACAqC;MACA;MACA;QACA;QACA;UACA;YACAvB;YACA;cACA;gBACA;kBACAA;gBACA;cACA;YACA;UACA;QACA;QACA;UACAjD;QACA;MACA;IACA;IAEA;IACAyE;MACA;QACA5D;MACA;IACA;IAEA;IACA6D;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;UACA;YACA;cACA;gBACA;kBACAC;kBACA;oBACAC;kBACA;gBACA;kBACAD;gBACA;cACA;YACA;UACA;QACA;QACA;UACAzD;UACAF;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA,6DACA;YACA6D;UACA;QACA;MACA;MACA;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;MACA;;MAEA;MACAC;MACA;QACA;UACA;YACAL;YACAA;YACAA;UACA;;UAEA;UACA;YACAA;UACA;QACA;MACA;MAEA;QACAzD;MACA;IACA;IAEA;IACA+D;MAAA;MACA;MACA;MACA;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;UACA;YACAC;cACA;cACA;YACA;YACA;UACA;QACA;MACA;MACA;QACA;MACA;;MAEA;MACA9C;QACAC;QACAC;QACAjD;UACA8F;UACAD;QACA;QACA3C;QACAC;UACA;YACA;YACA;YACA;YACA;cACA;gBACA;kBACA;oBACAmC;oBACA;oBACA;oBACA;sBACA;wBACAS;wBACA;sBACA;oBACA;oBACA;sBACAT;oBACA;sBACAA;oBACA;kBACA;gBACA;cACA;cACA;gBACAzD;cACA;YACA;UACA;YACAgB;UACA;QACA;QACAU;UACAV;QACA;MACA;IACA;IAEA;IACAmD;MAAA;MACA;MACA;;MAEA;MACA;MACA;MACA;QACA;UACAxE;UACAC;UACAC;QACA;QACA;MACA;;MAEA;MACAqB;QACAC;QACAC;QACAjD;UACA8F;UACAD;UACAI;QACA;QACA/C;QACAC;UACA;YACA;UACA;YACAN;UACA;QACA;QACAU;UACAV;QACA;MACA;IACA;IAEA;IACAqD;MACA;MACA;MACA;QACA;UACA;YACAL;cACA;cACA;YACA;YACA;UACA;QACA;MACA;MACA;IACA;IAEA;IACAM;MACA;MACA;QACA3E;QACAC;QACAC;MACA;MACA;IACA;IAEA;IACA0E;MACA;MACA;QACA;QACA;UACArD;YACAC;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;YACA;cACA;gBACA;kBACAqD;kBACAR;oBACA;oBACA;kBACA;gBACA;cACA;YACA;YAEA;cACAhD;cACA;YACA;UACA;;UAEA;UACA;YACA;cACAtB;YACA;UACA;QACA;MACA;IACA;IAEA;IACA+E;MACA;MACA;QACAvD;UACAwD;UACAC;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA1D;QACA8B;QACA6B;QACAC;QACAC;QACAzD;UACA;YACA;YACA;YACA;cACA0D;YACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACAxF;MACA;IACA;IAEA;IACAyF;MACA;QACA;MACA;;MAEA;MACA;MACA;QACA;QACA;UACA;YACAF;UACA;QACA;MACA;MACA;QACAhE;QACA;MACA;;MAEA;MACA;QACA;QACA;MACA;MACAE;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/zCA;AAAA;AAAA;AAAA;AAAs5B,CAAgB,g5BAAG,EAAC,C;;;;;;;;;;;ACA16B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/goods-category/goods-category.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods-category/goods-category.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods-category.vue?vue&type=template&id=b6c4f7b4&\"\nvar renderjs\nimport script from \"./goods-category.vue?vue&type=script&lang=js&\"\nexport * from \"./goods-category.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods-category.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods-category/goods-category.vue\"\nexport default component.exports","export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods-category.vue?vue&type=template&id=b6c4f7b4&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.category_list.length\n  var g1 =\n    g0 > 0 && !(_vm.category_show_level == 1) && _vm.category_show_level == 0\n      ? (_vm.data_content || null) != null &&\n        (_vm.data_content.items || null) != null &&\n        _vm.data_content.items.length > 0\n      : null\n  var g2 =\n    g0 > 0 && !(_vm.category_show_level == 1) && _vm.category_show_level == 0\n      ? (_vm.data_three_content || null) != null &&\n        (_vm.data_three_content.items || null) != null &&\n        _vm.data_three_content.items.length > 0\n      : null\n  var g3 =\n    g0 > 0 && !(_vm.category_show_level == 1) && _vm.category_show_level == 0\n      ? (_vm.data_list || null) != null && _vm.data_list.length > 0\n      : null\n  var g4 =\n    g0 > 0 &&\n    !(_vm.category_show_level == 1) &&\n    !(_vm.category_show_level == 0) &&\n    (_vm.data_content || null) != null\n      ? (_vm.data_content.items || null) != null &&\n        _vm.data_content.items.length > 0\n      : null\n  var l0 =\n    g0 > 0 &&\n    !(_vm.category_show_level == 1) &&\n    !(_vm.category_show_level == 0) &&\n    (_vm.data_content || null) != null &&\n    g4 &&\n    _vm.category_show_level == 3\n      ? _vm.__map(_vm.data_content.items, function (v, index) {\n          var $orig = _vm.__get_orig(v)\n          var g5 = (v.items || null) != null && v.items.length > 0\n          return {\n            $orig: $orig,\n            g5: g5,\n          }\n        })\n      : null\n  var g6 = _vm.category_list.length == 0 && _vm.data_list_loding_status != 0\n  var g7 =\n    _vm.category_show_level == 0 && _vm.cart_status\n      ? (_vm.cart || null) != null &&\n        (_vm.cart.data || null) != null &&\n        _vm.cart.data.length > 0\n      : null\n  var g8 =\n    _vm.category_show_level == 0 ? _vm.goods_specifications_choose.length : null\n  var l1 =\n    _vm.category_show_level == 0 && g8 > 0\n      ? _vm.__map(_vm.goods_specifications_choose, function (item, key) {\n          var $orig = _vm.__get_orig(item)\n          var g9 = item.value.length\n          return {\n            $orig: $orig,\n            g9: g9,\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        l0: l0,\n        g6: g6,\n        g7: g7,\n        g8: g8,\n        l1: l1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods-category.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods-category.vue?vue&type=script&lang=js&\"","<template>\n    <view>\n        <view :class=\"(is_single_page == 1 ? 'margin-top-xxxl single-page-top' : '')\">\n            <!-- 搜索框 -->\n            <block v-if=\"is_single_page == 0\">\n                <view class=\"nav-search padding-horizontal-main bg-white\" :style=\"'padding-top:'+(status_bar_height+8)+'px;'\">\n                    <component-search @onsearch=\"search_button_event\" :propIsOnEvent=\"true\" :propIsRequired=\"false\" propPlaceholder=\"输入商品名称搜索\"></component-search>\n                </view>\n            </block>\n\n            <!-- 分类内容 -->\n            <view v-if=\"category_list.length > 0\" :class=\"'category-content pr bs-bb '+(category_show_level == 0 ? 'goods-model' : '')\" :style=\"'height:calc(100vh - '+(status_bar_height+48)+'px);'\">\n                <block v-if=\"category_show_level == 1\">\n                    <!-- 一级模式 -->\n                    <view class=\"model-one padding-sm oh\">\n                        <block v-for=\"(item, index) in category_list\" :key=\"index\">\n                            <view class=\"content-item padding-sm tc cp\" :data-value=\"item.id\" @tap=\"category_event\">\n                                <view class=\"content auto bg-white wh-auto border-radius-main\">\n                                    <image v-if=\"(item.icon || null) != null\" :src=\"item.icon\" mode=\"aspectFit\" class=\"icon radius\"></image>\n                                    <view class=\"text single-text\">{{item.name}}</view>\n                                </view>\n                            </view>\n                        </block>\n                    </view>\n                </block>\n                <block v-else>\n                    <!-- 商品列表模式 -->\n                    <block v-if=\"category_show_level == 0\">\n                        <!-- 一级导航 -->\n                        <view class=\"top-nav bg-white wh-auto pa br-b scroll-view-horizontal\">\n                            <scroll-view :scroll-x=\"true\" class=\"ht-auto\">\n                                <block v-for=\"(item, index) in category_list\" :key=\"index\">\n                                    <view :class=\"'text-size-sm item tc cr-base cp dis-inline-block ' + (nav_active_index == index ? 'cr-main border-color-main fw-b' : '')\" :data-index=\"index\" :data-itemtwoindex=\"-1\" :data-itemthreeindex=\"-1\" @tap=\"nav_event\">\n                                        <view :class=\"'icon-content circle br auto ' + (nav_active_index == index ? 'border-color-main' : '')\">\n                                            <image :src=\"((item[category_goods_model_icon_field] || null) == null) ? common_static_url+'images.png' : item[category_goods_model_icon_field]\" mode=\"aspectFit\" class=\"icon dis-block auto wh-auto ht-auto circle\"></image>\n                                        </view>\n                                        <view class=\"margin-top-xs\">{{item.name}}</view>\n                                    </view>\n                                </block>\n                            </scroll-view>\n                        </view>\n                        <!-- 二级导航 -->\n                        <view class=\"left-nav bg-white ht-auto\">\n                            <scroll-view :scroll-y=\"true\" class=\"ht-auto\">\n                                <view class=\"left-content-actual\">\n                                    <view :class=\"'text-size-sm item tc cr-base cp oh ' + (nav_active_item_two_index == -1 ? 'nav-active cr-main border-color-main' : '')\" :data-index=\"nav_active_index\" :data-itemtwoindex=\"-1\" :data-itemthreeindex=\"-1\" @tap=\"nav_event\">\n                                        <text>全部</text>\n                                    </view>\n                                    <block v-if=\"(data_content || null) != null && (data_content.items || null) != null && data_content.items.length > 0\">\n                                        <block v-for=\"(item, index) in data_content.items\" :key=\"index\">\n                                            <view :class=\"'text-size-sm item tc cr-base cp oh ' + (nav_active_item_two_index == index ? 'nav-active cr-main border-color-main' : '')\" :data-index=\"nav_active_index\" :data-itemtwoindex=\"index\" :data-itemthreeindex=\"-1\" @tap=\"nav_event\">\n                                                <text>{{item.name}}</text>\n                                            </view>\n                                        </block>\n                                    </block>\n                                </view>\n                            </scroll-view>\n                        </view>\n                        <!-- 商品列表 -->\n                        <view class=\"goods-right-content pa bs-bb padding-top-main padding-horizontal-main\">\n                            <scroll-view :scroll-y=\"true\" class=\"ht-auto goods-list\" :scroll-top=\"scroll_top\" @scroll=\"scroll_event\" @scrolltolower=\"scroll_lower\" lower-threshold=\"30\">\n                                <view class=\"right-content-actual pr\">\n                                    <!-- 三级导航 -->\n                                    <view v-if=\"(data_three_content || null) != null && (data_three_content.items || null) != null && data_three_content.items.length > 0\" class=\"word-list scroll-view-horizontal\">\n                                        <scroll-view :scroll-x=\"true\">\n                                            <view :class=\"'word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right '+((nav_active_item_three_index == -1) ? 'bg-main-light br-main-light cr-main' : 'br-gray cr-gray')\" :data-index=\"nav_active_index\" :data-itemtwoindex=\"nav_active_item_two_index\" :data-itemthreeindex=\"-1\" @tap=\"nav_event\">全部</view>\n                                            <block v-for=\"(item, index) in data_three_content.items\" :key=\"index\">\n                                                <view :class=\"'word-icon dis-inline-block text-size-sm round padding-top-xs padding-bottom-xs padding-left padding-right '+((nav_active_item_three_index == index) ? 'bg-main-light br-main-light cr-main' : 'br-gray cr-gray')\" :data-index=\"nav_active_index\" :data-itemtwoindex=\"nav_active_item_two_index\" :data-itemthreeindex=\"index\" @tap=\"nav_event\">{{item.name}}</view>\n                                            </block>\n                                        </scroll-view>\n                                    </view>\n                                    <!-- 右侧商品列表 -->\n                                    <view v-if=\"(data_list || null) != null && data_list.length > 0\" class=\"oh\">\n                                        <view v-for=\"(item, index) in data_list\" :key=\"index\" class=\"item bg-white border-radius-main oh pr spacing-mb\">\n                                            <view :data-value=\"item.goods_url+'&is_opt_back=1'\" @tap=\"url_event\">\n                                                <image :src=\"item.images\" mode=\"widthFix\" class=\"goods-img radius fl\"></image>\n                                                <view class=\"goods-base padding-top-sm padding-right-sm fr\">\n                                                    <view class=\"goods-base-content\">\n                                                        <view class=\"goods-title text-size-sm multi-text\">{{item.title}}</view>\n                                                        <view v-if=\"(item.simple_desc || null) != null\" class=\"simple-desc cr-red text-size-xs margin-top-sm single-text\">{{item.simple_desc}}</view>\n                                                    </view>\n                                                    <view class=\"margin-top-sm oh\">\n                                                        <view class=\"sales-price text-size-sm single-text pa\">{{currency_symbol}}{{item.min_price}}</view>\n                                                        <view class=\"buy-opt tc pa\">\n                                                            <block v-if=\"(item.inventory || 0) > 0\">\n                                                                <view v-if=\"(item.buy_number || 0) > 0\" class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"0\" @tap.stop=\"buy_number_event\">\n                                                                    <uni-icons type=\"minus\" size=\"22\" color=\"#f00\"></uni-icons>\n                                                                </view>\n                                                                <view v-if=\"(item.buy_number || 0) > 0\" class=\"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m\">{{item.buy_number}}</view>\n                                                                <view class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"1\" @tap.stop=\"buy_number_event\">\n                                                                    <uni-icons type=\"plus\" size=\"22\" color=\"#1AAD19\"></uni-icons>\n                                                                </view>\n                                                            </block>\n                                                            <block v-else>\n                                                                <text class=\"cr-grey text-size-xs\">没货了</text>\n                                                            </block>\n                                                        </view>\n                                                    </view>\n                                                </view>\n                                            </view>\n                                        </view>\n                                    </view>\n                                    <block v-else>\n                                        <component-no-data :propStatus=\"data_list_loding_status\" :propMsg=\"data_list_loding_msg\"></component-no-data>\n                                    </block>\n                                </view>\n                            </scroll-view>\n                        </view>\n                    </block>\n                    <block v-else>\n                        <!-- 一级导航 -->\n                        <view class=\"left-nav bg-white ht-auto\">\n                            <scroll-view :scroll-y=\"true\" class=\"ht-auto\">\n                                <block v-for=\"(item, index) in category_list\" :key=\"index\">\n                                    <view :class=\"'text-size-sm item tc cr-base cp oh ' + (nav_active_index == index ? 'nav-active cr-main border-color-main' : '')\" :data-index=\"index\" :data-itemindex=\"-1\" @tap=\"nav_event\">\n                                        <text>{{item.name}}</text>\n                                    </view>\n                                </block>\n                            </scroll-view>\n                        </view>\n                        <view class=\"right-container pa\">\n                            <scroll-view :scroll-y=\"true\" class=\"ht-auto\">\n                                <!-- 一级内容基础容 -->\n                                <view v-if=\"(data_content || null) != null\" class=\"padding-top-main padding-horizontal-main oh\">\n                                    <!-- 一级基础信息 --> \n                                    <view v-if=\"(data_content.vice_name || null) != null || (data_content.describe || null) != null\" class=\"one-content bg-white padding-main border-radius-main cp spacing-mb\" :data-value=\"data_content.id\" @tap=\"category_event\">\n                                        <view v-if=\"(data_content.vice_name || null) != null\" class=\"text-size fw-b\" :style=\"'color:' + data_content.bg_color + ';'\">{{data_content.vice_name}}</view>\n                                        <view v-if=\"(data_content.describe || null) != null\" class=\"cr-grey margin-top-sm\">{{data_content.describe}}</view>\n                                    </view>\n                                    <!-- 一二级数据渲染 -->\n                                    <block v-if=\"(data_content.items || null) != null && data_content.items.length > 0\">\n                                        <!-- 二级模式 -->\n                                        <block v-if=\"category_show_level == 2\">\n                                            <view class=\"two-content bg-white oh padding-main border-radius-main spacing-mb\">\n                                                <block v-for=\"(v, index) in data_content.items\" :key=\"index\">\n                                                    <view class=\"content-item padding-sm tc cp\" :data-value=\"v.id\" @tap=\"category_event\">\n                                                        <view class=\"content wh-auto\">\n                                                            <image v-if=\"(v.icon || null) != null\" :src=\"v.icon\" mode=\"aspectFit\" class=\"icon radius\"></image>\n                                                            <view class=\"text single-text\">{{v.name}}</view>\n                                                        </view>\n                                                    </view>\n                                                </block>\n                                            </view>\n                                        </block>\n                                        <!-- 三级模式 -->\n                                        <block v-if=\"category_show_level == 3\">\n                                            <block v-for=\"(v, index) in data_content.items\" :key=\"index\">\n                                                <view class=\"spacing-nav-title\">\n                                                    <text class=\"text-wrapper text-size-md\">{{v.name}}</text>\n                                                    <text v-if=\"(v.describe || null) != null\" class=\"vice-name margin-left-lg cr-gray\">{{v.describe}}</text>\n                                                    <view :data-value=\"v.id\" @tap=\"category_event\" class=\"arrow-right padding-right-xxxl cr-gray fr cp\">更多</view>\n                                                </view>\n                                                <view v-if=\"(v.items || null) != null && v.items.length > 0\" class=\"bg-white oh padding-main border-radius-main spacing-mb\">\n                                                    <block v-for=\"(vs, index2) in v.items\" :key=\"index2\">\n                                                        <view class=\"content-item padding-sm tc cp\" :data-value=\"vs.id\" @tap=\"category_event\">\n                                                            <view class=\"content wh-auto\">\n                                                                <image v-if=\"(vs.icon || null) != null\" :src=\"vs.icon\" mode=\"aspectFit\" class=\"icon radius\"></image>\n                                                                <view class=\"text single-text\">{{vs.name}}</view>\n                                                            </view>\n                                                        </view>\n                                                    </block>\n                                                </view>\n                                            </block>\n                                        </block>\n                                    </block>\n                                    <block v-else>\n                                        <!-- 提示信息 -->\n                                        <component-no-data propStatus=\"0\" propMsg=\"没有子分类数据\"></component-no-data>\n                                    </block>\n                                </view>\n                                <view v-else>\n                                    <!-- 提示信息 -->\n                                    <component-no-data propStatus=\"0\" propMsg=\"没有子分类数据\"></component-no-data>\n                                </view>\n                            </scroll-view>\n                        </view>\n                    </block>\n                </block>\n            </view>\n\n            <view v-if=\"category_list.length == 0 && data_list_loding_status != 0\">\n                <!-- 提示信息 -->\n                <component-no-data :propStatus=\"data_list_loding_status\"></component-no-data>\n            </view>\n\n            <!-- 仅商品模式展示购物车和规格选择 -->\n            <block v-if=\"category_show_level == 0\">\n                <!-- 购物车列表 -->\n                <block v-if=\"cart_status\">\n                    <view class=\"cart-mask wh-auto ht-auto pf\" @tap=\"cart_event\"></view>\n                    <view class=\"cart-content bg-white border-radius-main pa oh\">\n                        <block v-if=\"(cart || null) != null && (cart.data || null) != null && cart.data.length > 0\">\n                            <view class=\"oh br-b padding-vertical-main padding-horizontal-main\">\n                                <text class=\"va-m text-size-xs cr-base\">已选商品</text>\n                                <view class=\"fr cp\" @tap=\"cart_all_delete_event\">\n                                    <view class=\"dis-inline-block va-m\">\n                                        <uni-icons type=\"trash\" size=\"12\" color=\"#f00\"></uni-icons>\n                                    </view>\n                                    <text class=\"cr-red va-m text-size-xs margin-left-xs\">清空</text>\n                                </view>\n                            </view>\n                            <scroll-view :scroll-y=\"true\" class=\"cart-list goods-list\">\n                                <view v-for=\"(goods, index) in cart.data\" :key=\"index\" class=\"item padding-main oh spacing-mb\">\n                                    <navigator :url=\"goods.goods_url\" hover-class=\"none\">\n                                        <image :src=\"goods.images\" mode=\"widthFix\" class=\"goods-img radius fl br\"></image>\n                                        <view class=\"goods-base fr\">\n                                            <view class=\"goods-base-content\">\n                                                <view class=\"goods-title text-size-sm single-text\">{{goods.title}}</view>\n                                                <view v-if=\"goods.spec != null\" class=\"text-size-xs cr-grey margin-top-sm\">\n                                                    <block v-for=\"(sv, si) in goods.spec\" :key=\"si\">\n                                                        <text v-if=\"si > 0\" class=\"padding-left-xs padding-right-xs\">;</text>\n                                                        <text>{{sv.value}}</text>\n                                                    </block>\n                                                </view>\n                                            </view>\n                                            <view class=\"margin-top-sm oh\">\n                                                <view class=\"sales-price text-size-sm single-text dis-inline-block va-m\">{{currency_symbol}}{{goods.price}}</view>\n                                                <view class=\"tc fr\">\n                                                    <block v-if=\"goods.is_error == 0\">\n                                                        <view v-if=\"(goods.stock || 0) > 0\" class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"0\" @tap.stop=\"cart_buy_number_event\">\n                                                            <uni-icons type=\"minus\" size=\"22\" color=\"#f00\"></uni-icons>\n                                                        </view>\n                                                        <view v-if=\"(goods.stock || 0) > 0\" class=\"buy-number dis-inline-block cr-base text-size-sm padding-left-xs padding-right-xs va-m\">{{goods.stock}}</view>\n                                                        <view class=\"dis-inline-block va-m cp\" :data-index=\"index\" data-type=\"1\" @tap.stop=\"cart_buy_number_event\">\n                                                            <uni-icons type=\"plus\" size=\"22\" color=\"#1AAD19\"></uni-icons>\n                                                        </view>\n                                                    </block>\n                                                    <block v-else>\n                                                        <text class=\"cr-red\">{{goods.error_msg}}</text>\n                                                    </block>\n                                                </view>\n                                            </view>\n                                        </view>\n                                    </navigator>\n                                </view>\n                            </scroll-view>\n                        </block>\n                        <block v-else>\n                            <component-no-data propStatus=\"0\" propMsg=\"请先选购商品\"></component-no-data>\n                        </block>\n                    </view>\n                </block>\n                <!-- 购物车底部导航 -->\n                <view class=\"botton-nav round pa bg-main-pair oh\">\n                    <view class=\"cart dis-inline-block va-m margin-left-xxl pr cp\" @tap=\"cart_event\">\n                        <uni-icons type=\"cart\" size=\"18\" color=\"#fff\"></uni-icons>\n                        <view v-if=\"(cart || null) != null && (cart.buy_number || 0) > 0\" class=\"badge-icon pa\">\n                            <component-badge :propNumber=\"cart.buy_number\"></component-badge>\n                        </view>\n                    </view>\n                    <view class=\"cart-total-price single-text dis-inline-block fw-b cr-white va-m margin-left-xl\">\n                        <text class=\"text-size-sm\">{{currency_symbol}}</text>\n                        <text class=\"text-size-lg\">{{(cart || null) == null ? 0 : (cart.total_price || 0)}}</text>\n                    </view>\n                    <button type=\"default\" size=\"mini\" hover-class=\"none\" @tap=\"buy_submit_event\" class=\"text-size-sm pa radius-0 bg-main cr-white\">去结算</button>\n                </view>\n\n                <!-- 规格选择弹层 -->\n                <component-popup :propShow=\"popup_spec_status\" propPosition=\"bottom\" @onclose=\"popup_spec_close_event\">\n                    <view class=\"goods-spec-popup padding-main bg-white pr\">\n                        <view class=\"close fr oh\">\n                            <view class=\"fr\" @tap.stop=\"popup_spec_close_event\">\n                                <icon type=\"clear\" size=\"20\"></icon>\n                            </view>\n                        </view>\n                        <!-- 规格基础信息 -->\n                        <view class=\"goods-spec-popup-base oh br-b pr\">\n                            <image :src=\"goods_spec_base_images\" mode=\"scaleToFill\" class=\"radius br\" @tap=\"goods_spec_base_images_view_event\" :data-value=\"goods_spec_base_images\"></image>\n                            <view class=\"goods-spec-popup-base-content\">\n                                <view class=\"goods-price\">\n                                    <view class=\"sales-price\">{{currency_symbol}}{{goods_spec_base_price}}</view>\n                                    <view v-if=\"(goods_spec_base_original_price || null) != null && goods_spec_base_original_price != 0\" class=\"original-price\">{{currency_symbol}}{{goods_spec_base_original_price}}</view>\n                                </view>\n                                <view class=\"inventory\">\n                                    <text class=\"cr-gray\">库存</text>\n                                    <text class=\"cr-base\">{{goods_spec_base_inventory}}</text>\n                                    <text class=\"cr-gray\">{{goods_choose_data.inventory_unit}}</text>\n                                </view>\n                            </view>\n                        </view>\n                        <!-- 商品规格 -->\n                        <view class=\"goods-spec-popup-content\">\n                            <view v-if=\"goods_specifications_choose.length > 0\" class=\"goods-spec-choose\">\n                                <view v-for=\"(item, key) in goods_specifications_choose\" :key=\"key\" class=\"item br-b\">\n                                    <view class=\"text-size\">{{item.name}}</view>\n                                    <view v-if=\"item.value.length > 0\" class=\"spec margin-top-sm\">\n                                        <block v-for=\"(items, keys) in item.value\" :key=\"keys\">\n                                            <button @tap.stop=\"goods_specifications_event\" :data-key=\"key\" :data-keys=\"keys\" type=\"default\" size=\"mini\" hover-class=\"none\" :class=\"items.is_active + ' ' + items.is_dont + ' ' + items.is_disabled\">\n                                                <image v-if=\"(items.images || null) != null\" :src=\"items.images\" mode=\"scaleToFill\" class=\"va-m dis-inline-block round margin-right-sm\"></image>\n                                                <text class=\"va-m\">{{items.name}}</text>\n                                            </button>\n                                        </block>\n                                    </view>\n                                </view>\n                            </view>\n                        </view>\n                        <button class=\"goods-spec-popup-submit bg-main cr-white\" type=\"default\" @tap.stop=\"goods_spec_confirm_event\" hover-class=\"none\">确定</button>\n                    </view>\n                </component-popup>\n            </block>\n\n            <!-- 快捷导航 -->\n            <component-quick-nav :propIsNav=\"true\" :propIsBar=\"true\"></component-quick-nav>\n        </view>\n    </view>\n</template>\n\n<script>\n    const app = getApp();\n    import componentSearch from \"../../components/search/search\";\n    import componentQuickNav from \"../../components/quick-nav/quick-nav\";\n    import componentNoData from \"../../components/no-data/no-data\";\n    import componentPopup from \"../../components/popup/popup\";\n    import componentBadge from \"../../components/badge/badge\";\n    \n    var common_static_url = app.globalData.get_static_url('common');\n    // 状态栏高度\n    var bar_height = parseInt(app.globalData.get_system_info('statusBarHeight', 0));\n    // #ifdef MP-TOUTIAO\n    bar_height = 0;\n    // #endif\n\n    export default {\n        data() {\n            return {\n                common_static_url: common_static_url,\n                status_bar_height: bar_height,\n                data_bottom_line_status: false,\n                data_list_loding_status: 1,\n                data_list_loding_msg: '',\n                category_list: [],\n                data_content: null,\n                data_three_content: null,\n                cart: null,\n                data_list: [],\n                data_total: 0,\n                data_page_total: 0,\n                data_page: 1,\n                currency_symbol: app.globalData.data.currency_symbol,\n                is_first: 1,\n                search_keywords_value: '',\n                nav_active_index: 0,\n                nav_active_item_two_index: -1,\n                nav_active_item_three_index: -1,\n                scroll_top: 0,\n                scroll_top_old: 0,\n                cart_status: false,\n                popup_spec_status: false,\n                goods_spec_base_price: 0,\n                goods_spec_base_original_price: 0,\n                goods_spec_base_inventory: 0,\n                goods_spec_base_images: '',\n                goods_choose_data: {},\n                goods_specifications_choose: [],\n                // 基础配置\n                category_show_level: 0,\n                // 自定义分享信息\n                share_info: {},\n                // 是否单页预览\n                is_single_page: app.globalData.is_current_single_page() || 0,\n                // 商品列表模式一级分类图标类型\n                category_goods_model_icon_field: app.globalData.data.category_goods_model_icon_type == 0 ? 'big_images' : 'icon'\n            };\n        },\n\n        components: {\n            componentSearch,\n            componentQuickNav,\n            componentNoData,\n            componentPopup,\n            componentBadge\n        },\n        props: {},\n\n        onShow() {\n            // 数据加载\n            this.init();\n\n            // 初始化配置\n            this.init_config();\n        },\n\n        // 下拉刷新\n        onPullDownRefresh() {\n            this.init();\n        },\n\n        methods: {\n            // 初始化配置\n            init_config(status) {\n                if ((status || false) == true) {\n                    this.setData({\n                        currency_symbol: app.globalData.get_config('currency_symbol'),\n                        category_show_level: app.globalData.get_config('config.category_show_level')\n                    });\n                } else {\n                    app.globalData.is_config(this, 'init_config');\n                }\n            },\n\n            // 获取数据\n            init() {\n                if(this.is_first == 1) {\n                    this.setData({\n                        data_list_loding_status: 1\n                    });\n                }\n\n                uni.request({\n                    url: app.globalData.get_request_url(\"category\", \"goods\"),\n                    method: 'POST',\n                    data: {},\n                    dataType: 'json',\n                    success: res => {\n                        uni.stopPullDownRefresh();\n                        if (res.data.code == 0) {\n                            var temp_category = res.data.data.category || [];\n                            var upd_data = {\n                                category_list: temp_category,\n                                data_content: temp_category[this.nav_active_index] || null\n                            }\n                            // 非商品列表模式\n                            if(this.category_show_level != 0) {\n                                upd_data['data_list_loding_status'] = temp_category.length == 0 ? 0 : 3;\n                                upd_data['data_bottom_line_status'] = true;\n                            }\n                            this.setData(upd_data);\n\n                            // 商品列表模式\n                            if(this.category_show_level == 0) {\n                                // 商品列表模式获取购物车数据\n                                this.get_cart_data();\n                                // 获取商品列表、仅首次请求商品列表\n                                if(this.is_first == 1) {\n                                    this.get_goods_list(1);\n                                }\n                            } else {\n                                // 分类模式下、仅首次请求购物车接口和商品模式下\n                                if(this.is_first == 1 && this.category_show_level == 0) {\n                                    this.get_cart_data();\n                                }\n                            }\n                            // 是否首次记录\n                            this.setData({is_first: 0});\n                        } else {\n                            this.setData({\n                                data_list_loding_status: 2,\n                                data_list_loding_msg: res.data.msg\n                            });\n                        }\n\n                        // 基础自定义分享\n                        this.setData({\n                            share_info: {\n                                path: '/pages/goods-category/goods-category'\n                            }\n                        });\n\n                        // 分享菜单处理、延时执行，确保基础数据已加载完成\n                        setTimeout(function() {\n                            app.globalData.page_share_handle(this.share_info);\n                        }, 3000);\n                    },\n                    fail: () => {\n                        uni.stopPullDownRefresh();\n                        this.setData({\n                            data_list_loding_status: 2,\n                            data_list_loding_msg: '服务器请求出错'\n                        });\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 获取商品列表\n            get_goods_list(is_mandatory) {\n                // 分页是否还有数据\n                if ((is_mandatory || 0) == 0) {\n                    if (this.data_bottom_line_status == true) {\n                        uni.stopPullDownRefresh();\n                        return false;\n                    }\n                }\n\n                // 请求参数\n                var data = {\n                    page: this.data_page,\n                    wd: this.search_keywords_value || ''\n                };\n                // 分类id\n                if((this.data_content || null) != null) {\n                    // 主分类id\n                    data['category_id'] = this.data_content['id'];\n                    // 是否选中了二级分类\n                    if(this.nav_active_item_two_index != -1) {\n                       data['category_id'] = this.data_content['items'][this.nav_active_item_two_index]['id'];\n                    }\n                    // 是否选中了三级分类\n                    if(this.data_three_content != null && this.nav_active_item_three_index != -1) {\n                       data['category_id'] = this.data_three_content['items'][this.nav_active_item_three_index]['id'];\n                    }\n                }\n\n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url(\"datalist\", \"search\"),\n                    method: 'POST',\n                    data: data,\n                    dataType: 'json',\n                    success: res => {\n                        if (res.data.code == 0) {\n                            var data = res.data.data;                            \n                            if (data.data.length > 0) {\n                                if (this.data_page <= 1) {\n                                    var temp_data_list = data.data;\n                                } else {\n                                    var temp_data_list = this.data_list || [];\n                                    var temp_data = data.data;\n                                    for (var i in temp_data) {\n                                        temp_data_list.push(temp_data[i]);\n                                    }\n                                }\n                                this.setData({\n                                    data_list: temp_data_list,\n                                    data_total: data.total,\n                                    data_page_total: data.page_total,\n                                    data_list_loding_status: 3,\n                                    data_page: this.data_page + 1\n                                });\n            \n                                // 是否还有数据\n                                this.setData({\n                                    data_bottom_line_status: (this.data_page > 1 && this.data_page > this.data_page_total)\n                                });\n\n                                // 购物车数据处理\n                                this.cart_data_list_handle();\n                            } else {\n                                this.setData({\n                                    data_list_loding_status: 0,\n                                    data_total: 0\n                                });\n                                if (this.data_page <= 1) {\n                                    this.setData({\n                                        data_list: [],\n                                        data_bottom_line_status: false\n                                    });\n                                }\n                            }\n                        } else {\n                            this.setData({\n                                data_list_loding_status: 0,\n                                data_list_loding_msg: res.data.msg\n                            });\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        this.setData({\n                            data_list_loding_status: 2,\n                            data_list_loding_msg: '服务器请求出错'\n                        });\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 重置滑动位置\n            reset_scroll() {\n                this.setData({\n                    scroll_top: this.scroll_top_old\n                });\n                this.$nextTick(() => {\n                    this.setData({\n                        scroll_top: 0\n                    });\n                });\n            },\n\n            // 滑动事件位置记录\n            scroll_event(e) {\n                this.setData({\n                    scroll_top_old: e.detail.scrollTop\n                });\n            },\n\n            // 滚动加载\n            scroll_lower(e) {\n                this.get_goods_list();\n            },\n\n            // 导航事件\n            nav_event(e) {\n                var index = e.currentTarget.dataset.index;\n                var two_index = e.currentTarget.dataset.itemtwoindex;\n                var three_index = e.currentTarget.dataset.itemthreeindex;\n                var temp_data_content = this.category_list[index] || null;\n                var temp_data_three_content = null;\n                if(two_index != -1 && temp_data_content != null) {\n                    temp_data_three_content = temp_data_content['items'][two_index];\n                }\n                this.setData({\n                    nav_active_index: index,\n                    nav_active_item_two_index: two_index,\n                    nav_active_item_three_index: three_index,\n                    data_content: temp_data_content,\n                    data_three_content: temp_data_three_content,\n                    data_page: 1,\n                    data_list_loding_status: 1,\n                    data_list: []\n                });\n\n                // 商品模式则读取商品\n                if(this.category_show_level == 0) {\n                    this.reset_scroll();\n                    this.get_goods_list(1);\n                }\n            },\n\n            // 分类事件\n            category_event(e) {\n                uni.navigateTo({\n                    url: '/pages/goods-search/goods-search?category_id=' + e.currentTarget.dataset.value\n                });\n            },\n            \n            // 搜索事件\n            search_button_event(e) {\n                // 商品列表模式\n                if(this.category_show_level == 0) {\n                    this.setData({\n                        search_keywords_value: e || '',\n                        data_page: 1,\n                        data_list_loding_status: 1,\n                        data_list: []\n                    });\n                    this.get_goods_list(1);\n                } else {\n                    // 进入搜索页面\n                    uni.navigateTo({\n                        url: '/pages/goods-search/goods-search'+(((e || null) == null) ? '' : '?keywords='+e)\n                    });\n                }\n            },\n\n            // url事件\n            url_event(e) {\n                app.globalData.url_event(e);\n            },\n\n            // 列表数据操作\n            buy_number_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n                var user = app.globalData.get_user_info(this);\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=buy_number_event\"\n                        });\n                        return false;\n                    } else {\n                        var index = e.currentTarget.dataset.index;\n                        var type = parseInt(e.currentTarget.dataset.type) || 0;\n                        var temp_goods = this.data_list[index];\n            \n                        // 是否存在多规格\n                        if((temp_goods.is_exist_many_spec || 0) != 0) {\n                            // 是否购物车中操作\n                            if(type == 0) {\n                                this.setData({\n                                    cart_status: true\n                                });\n                                app.globalData.showToast('不同规格的商品需在购物车减购');\n                            } else {\n                                // 展示规格选择\n                                var temp_specifications = temp_goods['specifications']['choose'] || [];\n                                if(temp_specifications.length > 0) {\n                                    for(var i in temp_specifications) {\n                                        for(var k in temp_specifications[i]['value']) {\n                                            temp_specifications[i]['value'][k]['is_active'] = '';\n                                            if(i > 0) {\n                                                temp_specifications[i]['value'][k]['is_dont'] = 'spec-dont-choose';\n                                            }\n                                        }\n                                    }\n                                }\n                                this.setData({\n                                    popup_spec_status: true,\n                                    goods_choose_data: temp_goods,\n                                    goods_specifications_choose: temp_specifications,\n                                    goods_spec_base_price: temp_goods.price,\n                                    goods_spec_base_original_price: temp_goods.original_price || 0,\n                                    goods_spec_base_inventory: temp_goods.inventory,\n                                    goods_spec_base_images: temp_goods.images,\n                                });\n                            }\n                            return false;\n                        }\n\n                        // 数据操作处理\n                        this.buy_number_event_handle(type, temp_goods);\n                    }\n                }\n            },\n\n            // 列表数量事件处理\n            buy_number_event_handle(type, goods, spec = '') {\n                var res = this.buy_number_handle(type, goods, 'buy_number');\n                if(res === false) {\n                    return false;\n                }\n\n                // 为0或减操作则查询\n                var cart_item = null;\n                if(type == 0 || (type == 1 && goods['buy_number'] > 0)) {\n                    var cart_data = this.cart.data;\n                    var params_spec = ((spec || null) == null || typeof(spec) != 'object') ? '' : JSON.stringify(spec);\n                    for(var i in cart_data) {                        \n                        if(goods['id'] == cart_data[i]['goods_id']) {\n                            var cart_spec = ((cart_data[i]['spec'] || null) == null || typeof(cart_data[i]['spec']) != 'object') ? '' : JSON.stringify(cart_data[i]['spec']);\n                            if(type == 0 || (type == 1 && cart_spec == params_spec)) {\n                                cart_item = cart_data[i];\n                            }\n                            break;\n                        }\n                    }\n                }\n\n                // 操作类型\n                if(res == 0) {\n                    if(cart_item == null) {\n                        app.globalData.showToast('购物车id有误');\n                        return false;\n                    }\n                    this.cart_delete(cart_item.id);                    \n                } else if(cart_item == null) {\n                    this.cart_save(goods['id'], res, spec);\n                } else {\n                    var number = (type == 0) ? parseInt(cart_item['stock'])-res : res+parseInt(cart_item['stock']);\n                    this.cart_update(cart_item.id, goods['id'], number);\n                }\n                return true;\n            },\n\n            // 购物车数量操作\n            cart_buy_number_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n                var user = app.globalData.get_user_info(this);\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=cart_buy_number_event\"\n                        });\n                        return false;\n                    } else {\n                        var index = e.currentTarget.dataset.index;\n                        var type = parseInt(e.currentTarget.dataset.type) || 0;\n                        var temp_data = this.cart.data;\n                        var temp_goods = temp_data[index];\n                        \n                        // 数据操作处理\n                        var res = this.buy_number_handle(type, temp_goods, 'stock');\n                        if(res === false) {\n                            return false;\n                        }\n                        \n                        // 操作类型\n                        if(res == 0) {\n                            this.cart_delete(temp_goods['id']);\n                        } else {\n                            var number = (type == 0) ? parseInt(temp_goods['stock'])-res : res+parseInt(temp_goods['stock']);\n                            this.cart_update(temp_goods['id'], temp_goods['goods_id'], number);\n                        }\n                    }\n                }\n            },\n\n            // 数量操作处理\n            buy_number_handle(type, goods, buy_number_field) {\n                // 加减处理\n                var buy_number = parseInt(goods[buy_number_field]) || 0;\n                if(type == 0) {\n                    buy_number -= 1;\n                } else {\n                    buy_number += 1;\n                }\n                if(buy_number < 0) {\n                    buy_number = 0;\n                }\n\n                // 数据校验\n                var buy_min_number = parseInt(goods['buy_min_number']) || 1;\n                var buy_max_number = parseInt(goods['buy_max_number']) || 0;\n                var inventory = parseInt(goods['inventory']);\n                var inventory_unit = goods['inventory_unit'];\n                if (buy_min_number > 0) {\n                    if(type == 0) {\n                        if(buy_number < buy_min_number) {\n                            buy_number = 0;\n                        }\n                    } else {\n                        if(buy_number < buy_min_number) {\n                            buy_number = buy_min_number;\n                        }\n                    }\n                }\n                if (buy_max_number > 0 && buy_number > buy_max_number) {\n                    app.globalData.showToast('限购' + buy_max_number + inventory_unit);\n                    return false;\n                }\n                if (buy_number > inventory) {\n                    app.globalData.showToast('库存数量' + inventory + inventory_unit);\n                    return false;\n                }\n                if (goods[buy_number_field] == buy_number) {\n                    app.globalData.showToast('数量为改变');\n                    return false;\n                }\n\n                // 操作数量\n                var opt_number = 1;\n                if(type == 0) {\n                    if(buy_number <= 0) {\n                        opt_number = 0;\n                    }\n                } else {\n                    if(buy_number > goods['buy_number']) {\n                        opt_number = buy_number-goods['buy_number'];\n                    }\n                }\n                return opt_number;\n            },\n\n            // 购物车添加\n            cart_save(goods_id, buy_number, spec = '') {\n                uni.showLoading({\n                    title: '处理中...'\n                });\n                uni.request({\n                    url: app.globalData.get_request_url('save', 'cart'),\n                    method: 'POST',\n                    data: {\n                        \"goods_id\": goods_id,\n                        \"stock\": buy_number,\n                        \"spec\": spec\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 购物车更新\n            cart_update(cart_id, goods_id, buy_number) {\n                uni.showLoading({\n                    title: '处理中...',\n                    mask: true\n                });\n                uni.request({\n                    url: app.globalData.get_request_url(\"stock\", \"cart\"),\n                    method: 'POST',\n                    data: {\n                        \"id\": cart_id,\n                        \"goods_id\": goods_id,\n                        \"stock\": buy_number\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            } else {\n                                app.globalData.showToast('提交失败，请重试！');\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 购物车删除\n            cart_delete(cart_id) {\n                uni.showLoading({\n                    title: '处理中...',\n                    mask: true\n                });\n                uni.request({\n                    url: app.globalData.get_request_url('delete', 'cart'),\n                    method: 'POST',\n                    data: {\n                        \"id\": cart_id\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        uni.hideLoading();\n                        if (res.data.code == 0) {\n                            this.get_cart_data();\n                        } else {\n                            if (app.globalData.is_login_check(res.data)) {\n                                app.globalData.showToast(res.data.msg);\n                            } else {\n                                app.globalData.showToast('提交失败，请重试！');\n                            }\n                        }\n                    },\n                    fail: () => {\n                        uni.hideLoading();\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n\n            // 获取购物车数据\n            get_cart_data() {\n                uni.request({\n                    url: app.globalData.get_request_url(\"index\", \"cart\"),\n                    method: 'POST',\n                    data: {},\n                    dataType: 'json',\n                    success: res => {\n                        if (res.data.code == 0) {\n                            var data = res.data.data;\n                            var temp_cart = data.data || [];\n                            this.setData({\n                                cart: res.data.data\n                            });\n                            this.cart_data_list_handle();\n                            \n                            // 导航购物车处理\n                            if (data.buy_number <= 0) {\n                                app.globalData.set_tab_bar_badge(2, 0);\n                            } else {\n                                app.globalData.set_tab_bar_badge(2, 1, data.buy_number);\n                            }\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 购物车更新列表数据处理\n            cart_data_list_handle() {\n                var temp_cart = this.cart || null;\n                if(temp_cart != null) {\n                    var temp_data_list = this.data_list;\n                    if(temp_data_list.length > 0) {\n                        for(var i in temp_data_list) {\n                            temp_data_list[i]['buy_number'] = 0;\n                            if(temp_cart.data.length > 0) {\n                                for(var k in temp_cart.data) {\n                                    if(temp_cart.data[k]['goods_id'] == temp_data_list[i]['id']) {\n                                        temp_data_list[i]['buy_number'] += parseInt(temp_cart.data[k]['stock']);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    this.setData({\n                        data_list: temp_data_list\n                    });\n                }\n            },\n\n            // 规格选择弹层关闭\n            popup_spec_close_event(e) {\n                this.setData({\n                    popup_spec_status: false\n                });\n            },\n            \n            // 规格事件\n            goods_specifications_event(e) {\n                var key = e.currentTarget.dataset.key || 0;\n                var keys = e.currentTarget.dataset.keys || 0;\n                this.goods_specifications_handle(key, keys);\n            },\n            \n            // 规格选择处理\n            goods_specifications_handle(key, keys) {            \n                // 不能选择和禁止选择跳过\n                var temp_data = this.goods_specifications_choose;\n                var temp_images = this.goods_spec_base_images;\n                if ((temp_data[key]['value'][keys]['is_dont'] || null) == null && (temp_data[key]['value'][keys]['is_disabled'] || null) == null) {\n                    // 规格选择\n                    for (var i in temp_data) {\n                        for (var k in temp_data[i]['value']) {\n                            if ((temp_data[i]['value'][k]['is_dont'] || null) == null && (temp_data[i]['value'][k]['is_disabled'] || null) == null) {\n                                if (key == i) {\n                                    if (keys == k && (temp_data[i]['value'][k]['is_active'] || null) == null) {\n                                        temp_data[i]['value'][k]['is_active'] = 'cr-white bg-main br-main';\n                                        if ((temp_data[i]['value'][k]['images'] || null) != null) {\n                                            temp_images = temp_data[i]['value'][k]['images'];\n                                        }\n                                    } else {\n                                        temp_data[i]['value'][k]['is_active'] = '';\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    this.setData({\n                        goods_specifications_choose: temp_data,\n                        goods_spec_base_images: temp_images\n                    });\n            \n                    // 不能选择规格处理\n                    this.goods_specifications_choose_handle_dont(key);\n            \n                    // 获取下一个规格类型\n                    this.get_goods_specifications_type(key);\n            \n                    // 获取规格详情\n                    this.get_goods_specifications_detail();\n                }\n                \n                // 已选择规格\n                var spec_selected = [];\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null)\n                        {\n                            spec_selected.push(temp_data[i]['value'][k]['name']);\n                        }\n                    }\n                }\n                this.setData({\n                    goods_spec_selected_text: (spec_selected.length <= 0) ? '请选择规格' : spec_selected.join(' / ')\n                });\n            },\n            \n            // 不能选择规格处理\n            goods_specifications_choose_handle_dont(key) {\n                var temp_data = this.goods_specifications_choose || [];\n                if (temp_data.length <= 0) {\n                    return false;\n                }\n            \n                // 是否不能选择\n                key = parseInt(key);\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if (i > key) {\n                            temp_data[i]['value'][k]['is_dont'] = 'spec-dont-choose';\n                            temp_data[i]['value'][k]['is_disabled'] = '';\n                            temp_data[i]['value'][k]['is_active'] = '';\n                        }\n            \n                        // 当只有一个规格的时候\n                        if (key == 0 && temp_data.length == 1) {\n                            temp_data[i]['value'][k]['is_disabled'] = (temp_data[i]['value'][k]['is_only_level_one'] || null) != null && (temp_data[i]['value'][k]['inventory'] || 0) <= 0 ? 'spec-items-disabled' : '';\n                        }\n                    }\n                }\n            \n                this.setData({\n                    goods_specifications_choose: temp_data\n                });\n            },\n            \n            // 获取下一个规格类型\n            get_goods_specifications_type(key) {\n                var temp_data = this.goods_specifications_choose;\n                var active_index = parseInt(key) + 1;\n                var sku_count = app.globalData.get_length(temp_data);\n                if (active_index <= 0 || active_index >= sku_count) {\n                    return false;\n                }\n                \n                // 获取规格值\n                var spec = [];\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                            spec.push({\n                                \"type\": temp_data[i]['name'],\n                                \"value\": temp_data[i]['value'][k]['name']\n                            });\n                            break;\n                        }\n                    }\n                }\n                if (spec.length <= 0) {\n                    return false;\n                }\n            \n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url('spectype', 'goods'),\n                    method: 'POST',\n                    data: {\n                        id: this.goods_choose_data.id,\n                        spec: JSON.stringify(spec)\n                    },\n                    dataType: 'json',\n                    success: (res) => {\n                        if (res.data.code == 0) {\n                            var spec_type = res.data.data.spec_type;\n                            var spec_count = spec.length;\n                            var index = spec_count > 0 ? spec_count : 0;\n                            if (index < sku_count) {\n                                for (var i in temp_data) {\n                                    for (var k in temp_data[i]['value']) {\n                                        if (index == i) {\n                                            temp_data[i]['value'][k]['is_dont'] = '';\n                                            var temp_value = temp_data[i]['value'][k]['name'];\n                                            var temp_status = false;\n                                            for (var t in spec_type) {\n                                                if (spec_type[t] == temp_value) {\n                                                    temp_status = true;\n                                                    break;\n                                                }\n                                            }\n                                            if (temp_status == true) {\n                                                temp_data[i]['value'][k]['is_disabled'] = '';\n                                            } else {\n                                                temp_data[i]['value'][k]['is_disabled'] = 'spec-items-disabled';\n                                            }\n                                        }\n                                    }\n                                }\n                                this.setData({\n                                    goods_specifications_choose: temp_data\n                                });\n                            }\n                        } else {\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 获取规格详情\n            get_goods_specifications_detail() {\n                // 获取规格值\n                var spec = this.goods_selected_spec();\n            \n                // 存在规格的时候是否已完全选择规格\n                var sku_count = this.goods_specifications_choose.length;\n                var active_count = spec.length;\n                if (spec.length <= 0 || active_count < sku_count) {\n                    this.setData({\n                        goods_spec_base_price: this.goods_choose_data.price,\n                        goods_spec_base_original_price: this.goods_choose_data.original_price || 0,\n                        goods_spec_base_inventory: this.goods_choose_data.inventory\n                    });\n                    return false;\n                }\n            \n                // 获取数据\n                uni.request({\n                    url: app.globalData.get_request_url('specdetail', 'goods'),\n                    method: 'POST',\n                    data: {\n                        id: this.goods_choose_data.id,\n                        spec: JSON.stringify(spec),\n                        stock: 1\n                    },\n                    dataType: 'json',\n                    success: res => {\n                        if (res.data.code == 0) {\n                            this.goods_spec_detail_back_handle(res.data.data);\n                        } else {\n                            app.globalData.showToast(res.data.msg);\n                        }\n                    },\n                    fail: () => {\n                        app.globalData.showToast('服务器请求出错');\n                    }\n                });\n            },\n            \n            // 已选的商品规格\n            goods_selected_spec() {\n                var spec = [];\n                var temp_data = this.goods_specifications_choose;\n                for (var i in temp_data) {\n                    for (var k in temp_data[i]['value']) {\n                        if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                            spec.push({\n                                \"type\": temp_data[i]['name'],\n                                \"value\": temp_data[i]['value'][k]['name']\n                            });\n                            break;\n                        }\n                    }\n                }\n                return spec;\n            },\n            \n            // 商品规格详情返回数据处理\n            goods_spec_detail_back_handle(data) {\n                var spec_base = data.spec_base;\n                var data = {\n                    goods_spec_base_price: spec_base.price,\n                    goods_spec_base_original_price: spec_base.original_price || 0,\n                    goods_spec_base_inventory: parseInt(spec_base.inventory)\n                };\n                this.setData(data);\n            },\n            \n            // 规格选择确认\n            goods_spec_confirm_event(e) {\n                var user = app.globalData.get_user_info(this, 'goods_spec_confirm_event');\n                if (user != false) {\n                    // 用户未绑定用户则转到登录页面\n                    if (app.globalData.user_is_need_login(user)) {\n                        uni.navigateTo({\n                            url: \"/pages/login/login?event_callback=goods_spec_confirm_event\"\n                        });\n                        return false;\n                    } else {\n                        // 属性\n                        var temp_data = this.goods_specifications_choose;\n                        var sku_count = temp_data.length;\n                        var active_count = 0;\n                        var spec = [];\n                        if (sku_count > 0) {\n                            for (var i in temp_data) {\n                                for (var k in temp_data[i]['value']) {\n                                    if ((temp_data[i]['value'][k]['is_active'] || null) != null) {\n                                        active_count++;\n                                        spec.push({\n                                            \"type\": temp_data[i]['name'],\n                                            \"value\": temp_data[i]['value'][k]['name']\n                                        });\n                                    }\n                                }\n                            }\n            \n                            if (active_count < sku_count) {\n                                app.globalData.showToast('请选择规格');\n                                return false;\n                            }\n                        }\n            \n                        // 数据操作处理\n                        if(this.buy_number_event_handle(1, this.goods_choose_data, spec)) {\n                            this.setData({\n                                popup_spec_status: false\n                            });\n                        }\n                    }\n                }\n            },\n            \n            // 规格图片查看\n            goods_spec_base_images_view_event(e) {\n                var value = e.currentTarget.dataset.value || null;\n                if (value != null) {\n                    uni.previewImage({\n                        current: value,\n                        urls: [value]\n                    });\n                }\n            },\n\n            // 批量删除操作\n            cart_all_delete_event(e) {\n                uni.showModal({\n                    title: '温馨提示',\n                    content: '挑了这么久，真的要清空吗？',\n                    confirmText: '确认',\n                    cancelText: '暂不',\n                    success: result => {\n                        if (result.confirm) {\n                            var ids = [];\n                            var temp_data = this.cart.data;\n                            for (var i in temp_data) {                \n                                ids.push(temp_data[i]['id']);\n                            }\n                            this.cart_delete(ids.join(','));\n                        }\n                    }\n                });\n            },\n\n            // 购物车状态\n            cart_event(e) {\n                this.setData({\n                    cart_status: !this.cart_status\n                });\n            },\n\n            // 购物车结算\n            buy_submit_event(e) {\n                if(!app.globalData.is_single_page_check()) {\n                    return false;\n                }\n\n                // 获取购物车数据\n                var ids = [];\n                if((this.cart || null) != null) {\n                    var temp_data = this.cart.data || [];\n                    for (var i in temp_data) {\n                        if(temp_data[i]['is_error'] == 0) {\n                            ids.push(temp_data[i]['id']);\n                        }\n                    }\n                }\n                if (ids.length <= 0) {\n                    app.globalData.showToast('请先选购商品');\n                    return false;\n                }\n\n                // 进入订单确认页面\n                var data = {\n                    \"buy_type\": \"cart\",\n                    \"ids\": ids.join(',')\n                };\n                uni.navigateTo({\n                    url: '/pages/buy/buy?data=' + encodeURIComponent(JSON.stringify(data))\n                });\n            }\n        }\n    };\n</script>\n<style>\n    @import './goods-category.css';\n</style>","import mod from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods-category.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HB\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./goods-category.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678688329376\n      var cssReload = require(\"D:/HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}