{"version":3,"sources":["webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?91c7","webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?996c","webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?b358","webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?4edf","uni-app:///pages/commponent/home/header.vue","webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?22cb","webpack:///F:/我的/测试/Tem-Mall商城模板/pages/commponent/home/header.vue?2765"],"names":["data","currentSwiper","city","weatherData","type","img","high","weatherName","latitude","longitude","todyWeather","statusBarHeight","components","search","props","colors","locations","swiperList","created","console","watch","methods","getUserPosition","uni","geocode","success","that","fail","complete","getCity","key","QQMapWX","location","position","getWeather","url","method","nearAddress","_this","swiperChange"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC4K;AAC5K,gBAAgB,gLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAgpB,CAAgB,+nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACmCpqB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;IACA;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;QACAD;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;EACA;EACAC;IACAC;MACAX;IACA;IACAY;MACAZ;IACA;IACAa;MACAb;IACA;EACA;EACAc;IACAC;IAEA;EAUA;EACAC;IACAJ;MACA;MACA;MACA;MACA;IACA;EACA;EACAK;IACAC;MACA;AACA;AACA;MACA;MACA;MACAC;QACAnB;QACAoB;QACAC;UACAN;UACAO;YACAlB;YACAC;UACA;QACA;QACAkB;UACAD;YACAlB;YACAC;UACA;QACA;QACAmB;UACA;UACAF;QACA;MACA;IACA;IAEAG;MACA;QACA;QACAC;MACA;MACA;MACAC;QACAC;UACAxB;UACAC;QACA;QACAgB;UACAN;UACA;;UAEA;UACAO;YACAxB;UACA;UACA;UACA+B;UACAA;UACAA;UACAP;QACA;QACAC;UACAR;QACA;QACAS;UACAT;QACA;MACA;IACA;IAEAe;MAAA;MAAA;MACA;MACAX;QACAY;QACAC;QACAX;UACAN;UACA;UACA;UACA;YACAb;YACA;YACAC;UACA;UACA;YACA;cACA;gBACAG;cACA;YACA;UACA;UAEA;YACA;YACA;cACAA;YACA;UACA;QACA;QACAiB;QACAC;MACA;IACA;IAEAS;MAAA;;MAEA;MACAd;QACAE;UACA;YACAF;cACAE;gBACAa;cACA;YACA;UACA;QACA;MACA;IAOA;IACAC;MACA;QACAtC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChQA;AAAA;AAAA;AAAA;AAAuvC,CAAgB,kpCAAG,EAAC,C;;;;;;;;;;;ACA3wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/commponent/home/header.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./header.vue?vue&type=template&id=b83b1da2&scoped=true&\"\nvar renderjs\nimport script from \"./header.vue?vue&type=script&lang=js&\"\nexport * from \"./header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=b83b1da2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b83b1da2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/commponent/home/header.vue\"\nexport default component.exports","export * from \"-!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./header.vue?vue&type=template&id=b83b1da2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.swiperList, function (item, index) {\n    var $orig = _vm.__get_orig(item)\n    var g0 = _vm.currentSwiper >= index ? _vm.swiperList.length : null\n    return {\n      $orig: $orig,\n      g0: g0,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./header.vue?vue&type=script&lang=js&\"","<template>\n<view class=\"header\" :style=\"{background: colors}\">\n  <!-- 头部 -->\r\n\t<!-- #ifdef APP-PLUS -->\r\n\t<div class=\"status-bar\" :style=\"{height:statusBarHeight+'px'}\"></div>\r\n\t<!-- #endif -->\n\t<view class=\"place\">\n\t</view>\n   <view>\n\t   <view class=\"left\" @tap=\"nearAddress\">\n\t     <image src=\"/static/images/home/weizhi.png\"></image>\n\t     <view>{{city || '请选择位置'}}</view>\n\t   </view>\n\t   <view class=\"right\" v-if=\"weatherName && weatherName!==''\">\r\n\t\t <image :src=\"todyWeather.img\"></image>\n\t     <text>{{ weatherName }} /{{ high }}℃</text>\n\t   </view>\n   </view>\n    <!-- 搜索 -->\n    <search></search>\n    <!-- 轮播图 -->\n    <view class=\"swiper\">\n\t\t\t<view class=\"swiper-box\">\n\t\t\t\t<swiper circular=\"true\" @change=\"swiperChange\" previous-margin=\"25px\" next-margin=\"25px\">\n\t\t\t\t\t<swiper-item v-for=\"(item, index) in swiperList\" :key=\"index\"><image :src=\"item.img\" mode=\"aspectFill\" :class=\"currentSwiper !== index ?'swiper-item-side':''\" lazy-load=\"true\" ></image></swiper-item>\n\t\t\t\t</swiper>\n\t\t\t\t<view class=\"indicator\">\n          <view v-for=\"(item, index) in swiperList\" :key=\"index\" :class=\"currentSwiper >= index ? 'on' : 'dots'\" :style=\"'width: ' + (currentSwiper >= index ? 100 / swiperList.length + '%' : '' )\"></view>\n        </view>\n\t\t\t</view>\n\t\t</view>\n  </view>\n</template>\n\n<script>\nimport qqmapsdk from \"../../../utils/qqmap-wx-jssdk.min\";\nimport search from \"../public/search\";\nimport {hfKey, txMapKey} from '../../../utils/keys.js'\nexport default {\n  data() {\n    return {\n      currentSwiper: 0,\n      city: '北京',\n      weatherData: [{\n        type: '阴',\n        img: \"/static/images/weather/yin.png\"\n      }, {\n        type: '晴',\n        img: \"/static/images/weather/qing.png\"\n      }, {\n        type: '多云',\n        img: \"/static/images/weather/duoyun.png\"\n      }, {\n        type: '雨',\n        img: \"/static/images/weather/xiaoyu.png\"\n      }, {\n        type: '小雨',\n        img: \"/static/images/weather/xiaoyu.png\"\n      }, {\n        type: '中雨',\n        img: \"/static/images/weather/xiaoyu.png\"\n      }, {\n        type: '大雨',\n        img: \"/static/images/weather/dayu.png\"\n      }, {\n        type: '暴雨',\n        img: \"/static/images/weather/leiyu.png\"\n      }, {\n        type: '雷阵雨',\n        img: \"/static/images/weather/leiyu.png\"\n      }, {\n        type: '雨夹雪',\n        img: \"/static/images/weather/xiaoxue.png\"\n      }, {\n        type: '雪',\n        img: \"/static/images/weather/xue.png\"\n      }, {\n        type: '小雪',\n        img: \"/static/images/weather/xue.png\"\n      }, {\n        type: '中雪',\n        img: \"/static/images/weather/xiaoxue.png\"\n      }, {\n        type: '大雪',\n        img: \"/static/images/weather/daxue.png\"\n      }],\n      high: '',\n      weatherName: '',\n      latitude: '',\n      longitude: '',\n      todyWeather: {},\r\n\t  statusBarHeight: 20\n    };\n  },\n\n  components: {\n    search\n  },\n  props: {\n    colors: {\n      type: String\n    },\n\tlocations:{\n\t\ttype: Object\n\t},\n\tswiperList:{\n\t\ttype:Array\n\t}\n  },\n  created() {\r\n\tconsole.log('key',hfKey,txMapKey)\n\t// #ifndef H5\r\n\tthis.getUserPosition();\r\n\t// #endif\n\t// #ifdef H5\n\tif(this.locations.latlng){\n\t\tthis.latitude = this.locations.latlng.lat || ''\n\t\tthis.longitude = this.locations.latlng.lng || ''\n\t\tthis.city = this.locations.poiname\n\t\tthis.getWeather(this.latitude, this.longitude);\n\t}\n\t// #endif\n  },\n  watch:{\n\t  locations(value){\n\t\t  this.latitude = this.locations.latlng.lat || ''\n\t\t  this.longitude = this.locations.latlng.lng || ''\n\t\t  this.city = this.locations.poiname\n\t\t  this.getWeather(this.latitude, this.longitude);\n\t  }\n  },\n  methods: {\n    getUserPosition() {\n      /**\n       * 在这里执行获取用户的位置\n       */\n      //获取用户位置\n      let that = this;\n      uni.getLocation({\n        type: 'wgs84',\n        geocode: true,\n        success: res => {\n          console.log('获取经纬度成功', res);\n          that.setData({\n            latitude: res.latitude,\n            longitude: res.longitude\n          });\n        },\n        fail: () => {\n          that.setData({\n            latitude: '',\n            longitude: ''\n          });\n        },\n        complete: () => {\n          // 解析地址\n          that.getCity();\n        }\n      });\n    },\n\n    getCity() {\n      const QQMapWX = new qqmapsdk({\n        //腾讯地图  需要用户自己去申请key\n        key: txMapKey\n      });\n      let that = this;\n      QQMapWX.reverseGeocoder({\n        location: {\n          latitude: that.latitude,\n          longitude: that.longitude\n        },\n        success: function (res) {\n          console.log('解析地址成功',res);\n          let province = res.result.ad_info.province; // 市\n\n          let city = res.result.address;\n          that.setData({\n            city: city\n          });\n          let position = {};\n          position.lat = that.latitude;\n          position.lng = that.longitude;\n          position.name = city;\n          that.getWeather(that.latitude, that.longitude);\n        },\n        fail: function (res) {\n          console.log(res);\n        },\n        complete: function (res) {\n          console.log(res);\n        }\n      });\n    },\n\n    getWeather(la, lo) {//获取天气信息\n      let url = 'https://free-api.heweather.net/s6/weather/now?key=' + hfKey + '&location=' + lo + ',' + la;\n      uni.request({\n        url: url,\n        method: 'GET',\n        success: res => {\n          console.log(res);\n          let today = res.data.HeWeather6[0].now; //获取到今天的天气\n          let h = today.fl;\n          this.setData({\n            high: h,\n            //高温\n            weatherName: today.cond_txt\n          });\n          this.weatherData.forEach(e => {\n            if (e.type == today.cond_txt) {\n              this.setData({\n                todyWeather: e\n              });\n            }\n          });\n\n          if (this.todyWeather.type == '' || !this.todyWeather.type) {\n            let data = this.weatherData[0];\n            this.setData({\n              todyWeather: data\n            });\n          }\n        },\n        fail: () => {},\n        complete: () => {}\n      });\n    },\n\n    nearAddress() { //设置位置信息\n\t  // #ifdef MP\n\t  const _this = this; // 处理拒绝再次打开调用设置\n\t  uni.getSetting({\n\t    success(res) {\n\t      if (res && res.authSetting && res.authSetting.hasOwnProperty('scope.userLocation')) {\n\t        uni.openSetting({\n\t          success() {\n\t            _this.getUserPosition();\n\t          }\n\t        });\n\t      }\n\t    }\n      });\n\t  // #endif\n\t  // #ifdef H5\n\t  uni.navigateTo({\n\t  \turl:'/pages/views/home/h5map'\n\t  })\n\t  // #endif\n    },\n    swiperChange(e) {\n      this.setData({\n        currentSwiper: e.detail.current,\n      });\n    }\n  }\n};\n</script>\n<style scoped lang=\"scss\">\n\t.header {\n\t  padding: 0 3%;\n\t  line-height: 80upx;\n\t  overflow: hidden;\n\t  height: 515upx;\n\t  color: #fff;\n\t  position: relative;\n\t}\n\t.place{\n\t\tposition: absolute;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground: linear-gradient(rgba(255,255,255,0), rgba(255,255,255,.3), rgba(255,255,255,.5),#ffffff);\n\t}\n\t.left {\n\t  font-size: 26upx;\n\t  color: #333;\n\t  float: left;\n\t  height: 80upx;\n\t  color: #fff;\n\t  display: flex;\n\t  align-items: center;\n\t  align-items: center;\n\t  z-index: 800;\n\t}\n\t\n\t.left image {\n\t  width: 30upx;\n\t  height: 30upx;\n\t  float: left;\n\t  margin-right: 6upx;\n\t}\n\t.left view{\n\t\twidth: 60vw;\n\t\theight: 30upx;\n\t\tline-height: 30upx;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t}\n\t.right {\n\t  height: 80upx;\n\t  float: right;\n\t  font-size: 26upx;\r\n\t  display: flex;\r\n\t  align-items: center;\n\t}\n\t\n\t.right image {\n\t  width: 40upx;\n\t  height: 40upx;\n\t}\n\t\n\t.right text {\n\t  margin-left: 10upx;\n\t}\n\t\n\t.swiper {\n\t  width: 100%;\n\t  margin-top: 10upx;\n\t  display: flex;\n\t  justify-content: center;\n\t}\n\t\n\t.swiper-box {\n\t  width: 100%;\n\t  height: 45vw;\n\t  overflow: hidden;\n\t  /* border-radius: 15upx; */\n\t  /* box-shadow: 0upx 8upx 25upx rgba(0, 0, 0, 0.2); */\n\t  position: relative;\n\t  z-index: 1;\n\t}\n\t\n\t.swiper-box swiper {\n\t  width: 100%;\n\t  height: 45vw;\n\t}\n\t.swiper-box swiper swiper-item{\n\t  display: flex;\n\t  align-items: center;\n\t  justify-content: center;\n\t}\n\t.swiper-box swiper swiper-item image {\n\t  width: 95%;\n\t  height: 45vw;\n\t  margin: 0 auto;\n\t  display: block;\n\t  border-radius: 10px;\n\t  transition: height .3s;\n\t}\n\t.swiper-item-side {\n\t  width: 95%;\n\t  height: 40vw!important;\n\t  transition: height .3s;\n\t}\n\t.indicator {\n\t  position: absolute;\n\t  bottom: 20upx;\n\t  left: 20upx;\n\t  background-color: rgba(255, 255, 255, 0.4);\n\t  width: 150upx;\n\t  height: 5upx;\n\t  border-radius: 3upx;\n\t  overflow: hidden;\n\t  display: flex;\n\t}\n\t\n\t.dots {\n\t  width: 0upx;\n\t  background-color: rgba(255, 255, 255, 1);\n\t  transition: all 0.3s ease-out;\n\t}\n\t\n\t.on {\n\t  width: 30%;\n\t  background-color: rgba(255, 255, 255, 1);\n\t  transition: all 0.3s ease-out;\n\t}\n</style>","import mod from \"-!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./header.vue?vue&type=style&index=0&id=b83b1da2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HB/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./header.vue?vue&type=style&index=0&id=b83b1da2&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1675476290793\n      var cssReload = require(\"F:/HB/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}